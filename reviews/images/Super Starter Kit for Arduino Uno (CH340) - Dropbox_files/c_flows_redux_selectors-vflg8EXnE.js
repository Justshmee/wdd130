define(["exports","./c_growth_ui_api","./c_flows_redux_reducer","./e_folder_viewer_src_main","./c_files_view_data_store","./c_core_i18n","./e_core_exception","./c_lodash-es_lodash","./c_src_sink_index","./c_init_data_runtime","./c_apex-metrics_src_types","metaserver/static/js/langpack","react","./c_esm_misc_util","./c_react_query_helpers_helpers","./c_api_v2_client_base","./c_core_uri","./c_core_attribution_header","./c_csrf","metaserver/static/js/modules/constants/viewer","./c_flows_logging_flows_loggers","./c_stormcrow_types_log_exposure","./e_edison","./c_init_data_edison","./c_core_xhr","./c_api_v2_noauth_client","./c_core_notify","react-dom","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/sharing","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/file_viewer_configuration","metaserver/static/js/modules/constants/file_viewer_feature_experiments","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/login_and_register","metaserver/static/js/modules/constants/fingerprintjs_constants","./c_security_crypto","./c_browse_models","./c_base64","./c_flux_store_listener"],(function(e,t,r,o,s,i,n,a,l,c,d,u,_,f,g,v,m,w,p,h,k,E,A,W,S,T,B,b,x,I,O,P,j,F,M,y,C,L,U,D){"use strict";const R=e=>e[o.AUTOMATIONS_NAMESPACE_KEY]||r.defaultAutomationsState,q=e=>{const{userAutomations:t}=R(e);if("completed"===t.status&&t.data){const e=new Map;return t.data.forEach(((t,o)=>{r.isInherited(t)||e.set(o,t)})),e}return new Map},N=e=>R(e).workflowBuilder,K=e=>{const t=N(e);return(null==t?void 0:t.actions)||[]},V=e=>{const{workflowStepsConfig:t}=R(e);return t},H=s.createSelector(V,K,((e,t)=>"completed"===e.status?0===t.length?e.allowedTriggers:1===t.length?Object.keys(e.triggerActionMaps).filter((r=>e.triggerActionMaps[r].includes(t[0].actionType))):e.allowedTriggers.filter((e=>"scheduled"!==e)):["file_add"])),X=e=>{var t;return(null===(t=N(e))||void 0===t?void 0:t.width)||r.MODAL_DEFAULT_WIDTH},Y=s.createSelector(X,(e=>e===r.MODAL_FULL_WIDTH));const z=e=>{var t;return null===(t=N(e))||void 0===t?void 0:t.savedWorkflowTemplateState},G=e=>t=>{const{inheritanceBlockingFqPaths:r}=R(t);return!!e&&r.has(e)};e.canWorkflowBuilderRenderPreview=Y,e.getAllowedWorkflowActions=e=>{const{workflowStepsConfig:t}=R(e);return"completed"===t.status?t.allowedActions:[]},e.getAllowedWorkflowTriggers=H,e.getAutomationsState=R,e.getFlowsFolderRulesActionExperiments=e=>{const{workflowStepsConfig:t}=R(e);return"completed"===t.status&&t.actionExperiments||[]},e.getFqPathToUserAutomations=q,e.getOptOutCheckboxState=e=>{const t=z(e);return t&&t.optOut||!1},e.getSavedWorkflowTemplateCheckboxState=e=>{const t=z(e);return t&&t.isChecked||!1},e.getSavedWorkflowTemplateExperiment=function(e){const{userExperiments:r}=R(e);let o;return"completed"===r.status&&r.data&&(o=r.data.find((e=>e.feature===t.UI_EXPERIMENTS.SAVED_WORKFLOW_TEMPLATE_CREATE))),o},e.getSavedWorkflowTemplateName=e=>{const t=z(e);return void 0!==t&&t.name||""},e.getSavedWorkflowTemplateVariant=function(e){const{userExperiments:r}=R(e);let o;return"completed"===r.status&&r.data&&(o=r.data.find((e=>e.feature===t.UI_EXPERIMENTS.SAVED_WORKFLOW_TEMPLATE_CREATE))),(null==o?void 0:o.variant)||"OFF"},e.getSavedWorkflowTemplates=e=>{const{savedWorkflowTemplates:t}=R(e);return t||[]},e.getUserAutomation=e=>t=>{if(!e)return;return q(t).get(e)},e.getUserAutomationWithInheritance=e=>t=>{const{userAutomations:r}=R(t);if(!e||"completed"!==r.status||!r.data)return;if(r.data.has(e))return r.data.get(e);if(G(e)(t))return;let s=o.parent_dir(e);for(;"/"!==s;){const i=r.data.get(s);if(i)return i.inheritable?Object.assign(Object.assign({},i),{fqPath:e,inheritedFromFqPath:i.fqPath}):void 0;if(G(s)(t))return;s=o.parent_dir(s)}},e.getUserExperiments=e=>{const{userExperiments:t}=R(e);return"completed"===t.status&&t.data?t.data:[]},e.getWorkflowBuilderActions=K,e.getWorkflowBuilderApplyToExisting=e=>{var t;return(null===(t=N(e))||void 0===t?void 0:t.applyToExistingFiles)||!1},e.getWorkflowBuilderDashboardActionSource=e=>{var t;return null===(t=N(e))||void 0===t?void 0:t.dashboardActionSource},e.getWorkflowBuilderEntryPoint=e=>{var t;return null===(t=R(e).workflowBuilder)||void 0===t?void 0:t.entryPoint},e.getWorkflowBuilderInheritable=e=>{var t;return(null===(t=N(e))||void 0===t?void 0:t.inheritable)||!1},e.getWorkflowBuilderIsEnabled=e=>{const t=N(e);return Boolean(null==t?void 0:t.isEnabled)},e.getWorkflowBuilderModalSessionId=e=>{var t;return(null===(t=R(e).workflowBuilder)||void 0===t?void 0:t.modalSessionId)||""},e.getWorkflowBuilderOperation=e=>{var t;return(null===(t=R(e).workflowBuilder)||void 0===t?void 0:t.operation)||"create"},e.getWorkflowBuilderPreviewActionId=e=>{const t=N(e);return null==t?void 0:t.previewActionId},e.getWorkflowBuilderStatus=e=>{var t;return null===(t=N(e))||void 0===t?void 0:t.isEnabled},e.getWorkflowBuilderSurface=e=>{var t;return null===(t=N(e))||void 0===t?void 0:t.surface},e.getWorkflowBuilderTrigger=e=>{const t=N(e);return null==t?void 0:t.trigger},e.getWorkflowBuilderWidth=X,e.getWorkflowStepsConfig=V,e.isInheritanceBlockingFqPath=G,e.shouldSubscribeToBolt=e=>R(e).shouldSubscribeToBolt}));
//# sourceMappingURL=c_flows_redux_selectors.js-vflLODVlG.map
