define(["exports","./c_file_viewer_collection_viewer","react","./e_folder_viewer_src_main","./c_init_data_runtime","./c_lodash-es_lodash","./c_react_query_helpers_helpers","./c_api_v2_client_base","./c_core_uri","./c_core_attribution_header","./c_csrf","metaserver/static/js/modules/constants/viewer","./e_edison","./c_apex-metrics_src_types","./c_init_data_edison","./c_src_sink_index","./e_core_exception","./c_core_xhr","./c_api_v2_noauth_client","./c_core_i18n","metaserver/static/js/langpack","./c_core_notify","react-dom","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/sharing","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/file_viewer_configuration","metaserver/static/js/modules/constants/file_viewer_feature_experiments","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/login_and_register","metaserver/static/js/modules/constants/fingerprintjs_constants","./c_security_crypto","./c_growth_ui_api","./c_esm_misc_util","./c_files_view_data_store","./c_browse_models","./c_base64","./c_flux_store_listener","./c_pap-events_navigation_navigate_to_replay","./c_hooks_use_stabilized_callback","./c_stormcrow_gating_factory","./c_stormcrow_types_log_exposure","metaserver/static/js/modules/constants/pdf_editing","./c_ui-icon_line_restore","./c_growth_ui_teams_web_actions_logger_events","metaserver/static/js/modules/constants/search","./c_toolkit_dist_redux-toolkit","./c_home_store","./c_plugin_utils_getImageDefaultSizes","metaserver/static/js/modules/constants/unity","./c_referrer_cleansing_redirect","./c_cloud_docs_types","./c_keymaster","./c_es_hooks_useDispatch","./c_core_utils_browser_detection","./c_ui-icon_line_zoom-out","./c_campaigns_campaign_enums","./c_bolt_metaserver_clients","./c_skeleton_index","./c_ui-icon_line_team","./c_ui-icon_line_zip","./c_stormcrow_explicit_exposure_logging","./c_flows_logging_flows_loggers","./c_spectrum_util_raf_throttle","./c_flux_base_store","./c_cloud_docs_constants","./c_chips_index","./c_chip_index","metaserver/static/js/modules/constants/contacts","./c_spectrum_colorized_icon","./c_spectrum_svg_icon_bundle","./c_spectrum_positioned_portal","./c_user_centric_perf_metrics_component_visually_complete_component_visually_complete_calculator","./c_plugin_utils_drawWatermarkOnCanvas","./c_resize-observer-polyfill_dist_ResizeObserver","./c_badges_index","./c_badge_index","./c_react-error-boundary"],(function(e,t,s,_,c,i,r,n,o,a,l,u,d,m,f,p,g,h,v,w,y,x,b,j,T,I,k,E,z,C,N,D,L,O,R,S,A,V,P,H,q,M,U,W,B,F,G,J,K,Q,X,Y,Z,$,ee,te,se,_e,ce,ie,re,ne,oe,ae,le,ue,de,me,fe,pe,ge,he,ve,we,ye,xe,be,je){"use strict";function Te(e,s){const _=Math.abs(e-s);return _<t.INTERSECTION_DELTA?_:null}function Ie({x:e,y:s},_){const c=_.y,i=_.y+_.height,r=_.x,n=_.x+_.width;if(e>=r-t.INTERSECTION_DELTA&&e<=n+t.INTERSECTION_DELTA){if(null!=Te(s,c))return!0;if(null!=Te(s,i))return!0}if(s>=c&&s<=i){if(null!=Te(e,r))return!0;if(null!=Te(e,n))return!0}return!1}function ke(e,t){if("image"===t.type){if(Ie(e,t.region))return!0}else if("document"===t.type)for(const s of t.regions)if(Ie(e,s))return!0;return!1}const Ee=(e,t)=>{for(const s of t){const{annotation:t}=s;if(null!=t&&ke(e,t))return s}};e.annotationHandleClick=(e,s)=>{const _=Ee(e,s.threads),{fileViewerId:c,file:i}=s;null==_?s.dispatch(t.deactivateAllThreads({fileViewerId:c})):s.dispatch(t.activateThread({fileId:i.fileId,sharedLinkURL:i.url,fileViewerId:c,threadId:_.id,isThirdParty:_.isThirdParty}))},e.handleHoverPointChange=(e,s)=>{if(null==s)return;const{fileViewerId:_}=e,c=Ee(s,e.threads);null==c?e.dispatch(t.hoverThread(_,null)):"annotating"!==e.annotationState&&e.dispatch(t.hoverThread(_,c.id))}}));
//# sourceMappingURL=c_comments2_annotations_annotation_layer.js-vflaSOpQu.map
