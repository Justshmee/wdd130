define(["exports","./c_files_view_data_store","./e_folder_viewer_src_main","./c_browse_models"],(function(e,t,r,n){"use strict";const l=e=>{var t;return!!r.BACKUP_ICONS.includes(null!==(t=null==e?void 0:e.icon)&&void 0!==t?t:"")||e instanceof n.File&&(!!e.is_in_backup_folder||!!e.is_backup_folder)},i=e=>(e=>r.getStateAtNamespace(e,r.BACKUP_NAMESPACE_KEY)||t.defaultBackupState)(e).backups,o=(e,t)=>Object.assign({id:e.id,name:e.name,nestLevel:s(e,t),rootNsId:e.rootNsId,deviceId:e.deviceId,anchorFolders:e.anchorFolders,displayName:e.displayName},"cb"===e.type?{type:"cb",usesAnchors:!!e.usesAnchors,thirdPartyProviders:e.thirdPartyProviders}:"edb"===e.type?{type:"edb",isFission:!!e.rootNsId}:{type:"third_party"}),s=(e,t)=>{if(!t||0===t.length)return 0;let n=r.rootRelativePath(e.fqPath);if("edb"===e.type&&e.isFission){if(1===t.length)return 0;n=e.fqPath}return t.indexOf(n)},a=t.createSelector(i,(e=>t=>{if(!e||!t)return null;const n=[t,...r.parent_dirs(t)],l=e.find((e=>n.includes(r.rootRelativePath(e.browsePath))));return null!=l?l:null})),u=t.createSelector(a,(e=>t=>{const n=e(t);if(null===n)return null;const l=[t,...r.parent_dirs(t)];return o(n,l)})),c=t.createSelector(a,(e=>t=>{if(t){if(t.is_in_backup_folder||t.is_backup_folder)return e(t.fq_path?t.fq_path:t.ns_path);{const r=e(t.fq_path);return(null==r?void 0:r.usesAnchors)||(null==r?void 0:r.isFission)?null:r}}return null})),d=t.createSelector(c,(e=>t=>{const n=e(t);if(null===n)return null;const l=[t.fq_path,...r.parent_dirs(t.fq_path)];return o(n,l)})),_=t.createSelector(i,(e=>t=>{var n;const l=null!==(n=t.fq_path)&&void 0!==n?n:"",i=l.split("/").filter(Boolean);if(i.length>=2&&i[1]===`${i[0]}${r.EDB_EXTENSION}`)return`/${i[0]}/${i[1]}`;const o=i.findIndex((e=>e.endsWith(r.EDB_EXTENSION)));if(-1!==o)return["",...i.slice(0,o+1)].join("/");if(null===e)return null;const s=[l,...r.parent_dirs(l)],a=e.map((e=>r.rootRelativePath(e.browsePath))).filter((e=>s.includes(e)));return 0===a.length?null:a[0]})),f=t.createSelector(c,(e=>t=>!(!(null==t?void 0:t.is_backup_folder)&&!(null==t?void 0:t.is_in_backup_folder))||(!!r.isBackupBrowse()||(!!l(t)||null!==e(t)))));e.backupFolderPathByFile=_,e.backupInfoByFile=c,e.folderBackupInfoByFile=d,e.folderBackupInfoByPath=u,e.isBackupFolderIcon=l,e.isInsideBackupFolderByFile=f}));
//# sourceMappingURL=c_sync_everything_redux_selectors.js-vfl6yZ-Ot.map
