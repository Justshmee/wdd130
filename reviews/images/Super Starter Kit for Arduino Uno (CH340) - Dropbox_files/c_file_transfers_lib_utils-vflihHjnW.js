define(["exports","./c_api_v2_client_base","./c_core_uri","./c_init_data_runtime","./c_react_query_helpers_helpers","./e_folder_viewer_src_main","./c_src_common_constants","./c_apex-metrics_src_types","./c_core_i18n","./e_core_exception","./c_upload_kit_lib_types","./c_browse_models","./c_file_transfers_async_browse_entry_point_onboarding_modal_async"],(function(e,r,a,n,i,t,s,o,l,d,f,c,T){"use strict";var S,g,_,F,m,u,p,E,C,L,O,A;function h(e){return r=>function(e){return e.value?e.value[".tag"]:"other"}(r)===e}e.UserFlow=void 0,(S=e.UserFlow||(e.UserFlow={})).TRANSFER_MANAGEMENT_MODAL="transfer_management_modal",S.MANAGEMENT_LIST_VIEW="management_list_view",S.CREATION="creation",S.RECIPIENT="recipient",S.BROWSE="browse",S.TRANSFER_CREATION_MODAL="transfer_creation_modal",e.ModalVisibilityChange=void 0,(g=e.ModalVisibilityChange||(e.ModalVisibilityChange={})).OPEN="open",g.CANCEL="cancel",g.OK="ok",e.SettingsVisibilityChange=void 0,(_=e.SettingsVisibilityChange||(e.SettingsVisibilityChange={})).OPEN="open",_.CLOSE="close",e.TransferListView=void 0,(F=e.TransferListView||(e.TransferListView={}))[F.Active=0]="Active",F[F.Expired=1]="Expired",F[F.All=2]="All",e.Actions=void 0,(m=e.Actions||(e.Actions={})).ChangeSettingsModalState="FileTransfers/ChangeSettingsModalState",m.ChangeConfirmTransferDeletionModalState="FileTransfers/ChangeConfirmTransferDeletionModalState",m.LogTransferCreationModalOpened="FileTransfers/LogTransferCreationModalOpened",m.CopyTransferLink="FileTransfers/CopyTransferLink",m.DeleteTransferSummary="FileTransfers/DeleteTransferSummary",m.ExpireTransferSummary="FileTransfers/ExpireTransferSummary",m.ReactivateTransferSummary="FileTransfers/ReactivateTransferSummary",m.FinishedEditing="FileTransfers/FinishedEditing",m.HideOnboardingStep="FileTransfers/HideOnboardingStep",m.InitApp="FileTransfers/InitApp",m.LogAllItemsUploaded="FileTransfers/LogAllItemsUploaded",m.LogAutoDownload="FileTransfers/LogAutoDownload",m.LogOnboarding="FileTransfers/LogOnboarding",m.LogEmailFeedback="FileTransfers/LogEmailFeedback",m.LogUpsell="FileTransfers/LogUpsell",m.MarkOnboardingStepComplete="FileTransfers/MarkOnboardingStepComplete",m.MarkServerRestrictedFiles="FileTransfers/MarkServerRestrictedFiles",m.MetadataUpdated="FileTransfers/MetadataUpdated",m.SendTransferViaEmail="FileTransfers/SendTransferViaEmail",m.TrackUserLeapEvent="FileTransfers/TrackUserLeapEvent",m.ReceivedTransferRowClick="FileTransfers/ReceivedTransferRowClick",m.TransferManagementTabClick="FileTransfers/TransferManagementTabClick",m.SetActiveUserId="FileTransfers/SetActiveUserId",m.SetBackground="FileTransfers/SetBackground",m.SetBackgroundPreview="FileTransfers/SetBackroundPreview",m.SetLogo="FileTransfers/SetLogo",m.SaveLogo="FileTransfers/SaveLogo",m.SetCurrentTransfer="FileTransfers/SetCurrentTransfer",m.SetExpiration="FileTransfers/SetExpiration",m.SetIsShared="FileTransfers/SetShareStatus",m.SetIsShareComplete="FileTransfer/SetShareComplete",m.ChangeManagementModalState="FileTransfers/ChangeManagementModalState",m.SetProductConfig="FileTransfers/SetProductConfig",m.SetRecipients="FileTransfers/SetRecipients",m.SetShareUrl="FileTransfers/SetShareUrl",m.SetFileTransfersUserMetadata="FileTransfers/SetFileTransfersUserMetadata",m.UpdateTransferSummaries="FileTransfers/UpdateTransferSummaries",m.AddNewTransferSummary="FileTransfers/AddNewTransferSummary",m.UpdateReceivedTransferSummaries="FileTransfers/UpdateReceivedTransferSummaries",m.ViewFeedbackForm="FileTransfers/ViewFeedbackForm",m.TemporarilySaveEmailFormInfo="FileTransfers/TemporarilySaveEmailFormInfo",m.ClearSavedEmailFormInfo="FileTransfers/ClearSavedEmailFormInfo",m.LogInternetDisconnected="FileTransfers/LogInternetDisconnected",m.LogOnboardingStepShown="FileTransfers/LogOnboardingStepShown",m.MarkOnboardingStepShown="FileTransfers/MarkOnboardingStepShown",m.LogShareError="FileTransfers/LogShareError",m.UpdateSettingsFromManagementModal="FileTransfers/UpdateSettingsFromManagementModal",m.LogSettingsClicked="LogSettingsClicked",m.RemoveReceivedTransferFromList="FileTransfers/RemoveReceivedTransferFromList",m.LogRemoveReceivedTransferClicked="FileTransfers/LogRemoveReceivedTransferClicked",m.LogViewReplayFileTransferPrompt="FileTransfers/ViewReplayFileTransferPrompt",m.LogClickReplayFileTransferPrompt="FileTransfers/ClickReplayFileTransferPrompt",m.LogClickDownloadSUSIFooter="FileTransfers/LogClickDownloadSUSIFooter",e.UploadStatus=void 0,(u=e.UploadStatus||(e.UploadStatus={}))[u.Waiting=0]="Waiting",u[u.Uploading=1]="Uploading",u[u.Success=2]="Success",u[u.Error=3]="Error",function(e){e.Dropbox="dropbox",e.Computer="computer",e.Transfer="transfer"}(p||(p={})),e.OriginalFileSource=void 0,(E=e.OriginalFileSource||(e.OriginalFileSource={})).Dropbox="dropbox",E.Computer="computer",E.Unknown="unknown",function(e){e.DRAG_DROP="drag_drop",e.DROPBOX_CHOOSER_ADDITIONAL="dropbox_chooser_additional",e.DROPBOX_CHOOSER_INITIAL="dropbox_chooser_initial",e.UPLOAD_BUTTON_ADDITIONAL="upload_button_additional",e.UPLOAD_BUTTON_INITIAL="upload_button_initial",e.DESKTOP_CONTEXT_MENU="desktop_context_menu",e.PAGELET_ON_LOAD="pagelet_on_load",e.TRANSFER_CREATION_MODAL_ON_LOAD="transfer_creation_modal_on_load"}(C||(C={})),function(e){e.EmptyFile="empty_file",e.IgnoredFile="ignored_file",e.OverMaxFileSize="over_max_file_size",e.PointerFile="pointer_file",e.TemporaryFile="temporary_file",e.InvalidChar="invalid_char",e.NotFound="not_found",e.NoPermission="no_permission",e.Restricted="restricted",e.InvalidArgs="invalid_args",e.Unknown="unknown"}(L||(L={})),function(e){e.CancelButton="cancel_button",e.WindowClose="window_close"}(O||(O={})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.DOWNLOADING=1]="DOWNLOADING",e[e.ERROR=2]="ERROR",e[e.PAUSED=3]="PAUSED",e[e.FETCHING_TOKENS=4]="FETCHING_TOKENS",e[e.CANCELED=5]="CANCELED",e[e.COMPLETED=6]="COMPLETED"}(A||(A={}));const R=h("image"),v=h("video");e.folderEligibleForTransfer=e=>!c.File.isNoAccessSharedFolder(e),e.getLocalStorageBooleanValueForKey=function(e){const r=localStorage.getItem(e);return null===r?null:"true"===r},e.getTransferFilesKey=function(e){return e||s.NULL_FILE_TRANSFER_KEY},e.isAtRoot=function(e){return null===function(e){let r;if("dest"in e)r=e.dest;else if("fullPath"in e){if(!e.fullPath)return null;r=e.fullPath,"/"===r.charAt(0)&&(r=e.fullPath.substring(1))}else{if(!("path"in e))throw new Error("file must be either PluploadFile, StateFileInfo, or FileSystemEntry");if(!e.path)return null;r=e.path}const a=r.split("/");if(a.length<=1)return null;return a[0]}(e)},e.isColorBackground=function(e){return!!e.color_hex&&!e.asset},e.isImageBackground=function(e){return!!e.asset&&R(e.asset)},e.isVideoBackground=function(e){return!!e.asset&&v(e.asset)},e.redirectToCreateTransferWithFiles=(e,r)=>{const a=T.prepareFileIdsParam(e);t.Snackbar$1.sync(l.intl.formatMessage({id:"EmOY+w",defaultMessage:"Creating new transfer..."}),!1,"create-transfer"),t.redirect(T.createTransferUrlWithParams({referrer:r,fileids:a}))},e.setLocalStorageValueForKey=function(e,r){localStorage.setItem(e,r.toString())},e.shouldShowTransferInSplitShare=(e,r)=>e&&r.length>0&&!r.some((e=>e.is_cloud_doc))&&!r.some(c.File.isNoAccessSharedFolder)}));
//# sourceMappingURL=c_file_transfers_lib_utils.js-vflW9JQKB.map
