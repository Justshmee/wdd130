define(["exports","react","./e_folder_viewer_src_main","./c_chip_index","./c_spectrum_util_raf_throttle"],(function(e,t,n,o,a){"use strict";function s(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=s(t),i=[["medium","standard"]],l=e=>{const t=i.find((([t,n])=>e===n));return void 0!==t?t[0]:e},c=r.forwardRef((({children:e,className:t,size:n="medium",withIconLeft:a,isSelected:s=!1,isAlert:i=!1,isSuccess:c=!1,isWarning:u=!1,...d},m)=>{const p=l(n),h=i?"alert":c?"success":u?"warning":"standard";return r.createElement(o._PrivateCompatabilityContext.Provider,{value:{isXSmall:"xsmall"===p}},r.createElement(o.Chip,{size:"xsmall"===p?"small":p,variant:h,isSelected:s,className:t,selectedStyle:"stroke",ref:m,onClick:d.onClick?d.onClick:()=>{},...d},a&&r.createElement(o.Chip.IconAccessory,null,a),r.createElement(o.Chip.Content,null,e)))})),u=r.forwardRef((({children:e,className:t,isSelected:n=!1,size:a="medium",withDropdownIcon:s=!1,withIconLeft:i,...c},u)=>{const d=l(a);return r.createElement(o._PrivateCompatabilityContext.Provider,{value:{isXSmall:"xsmall"===d}},r.createElement(o.Chip,{size:"xsmall"===d?"small":d,isSelected:n,className:t,withDropdownIcon:s,selectedStyle:"stroke",ref:u,onClick:c.onClick?c.onClick:()=>{},...c},i&&r.createElement(o.Chip.IconAccessory,null,i),r.createElement(o.Chip.Content,null,e)))})),d=r.forwardRef((({children:e,className:t,onDelete:n,isWarning:a=!1,isAlert:s=!1,isSelected:i=!1,size:c="medium",withAvatarLeft:u,withIconLeft:d,...m},p)=>{const h=l(c),g=s?"alert":a?"warning":"standard";return r.createElement(o.Chip,{variant:g,isSelected:i,className:t,onDelete:n||(()=>{}),selectedStyle:"stroke",size:h,ref:p,onClick:m.onClick?m.onClick:()=>{},...m},u&&r.createElement(o.Chip.AvatarAccessory,null,u),d&&r.createElement(o.Chip.IconAccessory,null,d),r.createElement(o.Chip.Content,null,e))})),m="dig-Typeahead-row--interactive",p=[`.${m}[role="option"]`,`.${m}[role="menuitemcheckbox"]`,".dig-Typeahead-results--show-more"],h={value:void 0,setSelected:()=>!1,setFocused:()=>!1,setSyntheticFocus:()=>!1,closeMenu:()=>!1,isPortaled:!0,menuRows:n.createMenuRows(),containerId:"",setIsTypeaheadDropdownVisible:()=>{},shouldOmitWrapperOverlay:!1,setShouldOmitWrapperOverlay:()=>{}},g=r.createContext(h),y=r.createContext({}),v=r.createContext({}),w=({children:e,isPortaled:t,closeOnSelection:o=!0,inlineProps:a,openMenuOnFocus:s=!0,containerId:i,hasMaxHeight:l=!1,onSelection:c,onBlur:u,onToggle:d,shouldHighlightFirstRow:m=!1,omitOverlay:h=!1,wrapperRef:y,...v})=>{const w=r.useRef(null),f=r.useRef(null),[C,E]=r.useState(!1),[x,T]=r.useState(!1),R=r.useRef(null),b=r.useRef(null),k=n.useUniqueId({prefix:"dig-Typeahead",idOverride:i}),[S,N]=r.useState(h);r.useImperativeHandle(y,(()=>({focusTrigger:()=>{const e=w.current;e&&"focus"in e&&e.focus()}})),[]);const I=r.useCallback((e=>{x!==e&&T(e)}),[x]),M=r.useCallback(((e,t)=>{c&&c(e,t),o&&(b&&b.current&&b.current(void 0),w&&n.returnFocus(w))}),[o,c,b]),{isOpen:P,openMenu:O,closeMenu:F,toggleMenu:D,value:A,setSelected:_,setFocused:B,setSyntheticFocus:z,getRootProps:K,getTriggerProps:H,getContentProps:W,menuRows:L,isFocusing:j}=n.useMenu({triggerRef:w,contentRef:R,onSelection:M,onToggle:d,closeOnSelection:o,shouldFocusDisabledRows:!0,interactiveRowSelectors:p,allowLetterNavigation:!1,focusMenuRowTriggerKey:"ArrowDown",allowSpaceBarToOpenMenu:!1,focusNextItemImmediately:!1,shouldHighlightFirstRow:m});b.current=B;const U=r.useCallback((()=>{E(!1),document.removeEventListener("mouseup",U)}),[]);r.useEffect((()=>(C&&document.addEventListener("mouseup",U),()=>document.removeEventListener("mouseup",U))),[C,U]);const V={getContentProps:e=>({open:Boolean(P),triggerRef:w,...W({tabIndex:void 0,...e}),role:"listbox"}),getTriggerProps:e=>({...H({...e,onKeyDown:t=>{if(a){const{customOpenKey:e,onCustomOpenKeyTrigger:n,customCloseKey:o}=a;"key"in e&&t.key===e.key||"keys"in e&&e.keys.includes(t.key)?(O({autoFocus:!1}),n&&n(t)):o&&t.key===o.key&&F({autoFocus:!1})}e&&e.onKeyDown&&e.onKeyDown(t)}}),role:"combobox","aria-haspopup":"listbox","aria-autocomplete":"list","aria-controls":k,onChange:t=>{a||O({autoFocus:!1}),e&&e.onChange&&e.onChange(t)},onMouseDown:t=>{e&&e.onMouseDown&&e.onMouseDown(t),E(!0)},onClick:e?e.onClick:void 0,onKeyUp:e?e.onKeyUp:void 0,onFocus:t=>{s&&O({autoFocus:!1}),B(void 0),e&&e.onFocus&&e.onFocus(t)}}),openMenu:O,closeMenu:F,toggleMenu:D,triggerRef:w},$=r.useCallback((e=>{var t;const n=e.relatedTarget&&(null==(t=f.current)?void 0:t.contains(e.relatedTarget));A||j||n||F({autoFocus:!1}),u&&u(e)}),[A,j,F,u]),q={isPortaled:t,contentRef:R,value:A,setSelected:_,setFocused:B,setSyntheticFocus:z,closeMenu:F,inlineProps:a,menuRows:L,containerId:k,hasMaxHeight:l,setIsTypeaheadDropdownVisible:I,shouldHighlightFirstRow:m,shouldOmitWrapperOverlay:S,setShouldOmitWrapperOverlay:N},X=r.useCallback((()=>{F({autoFocus:!1})}),[F]),Q=a?e&&e(V):r.createElement(n.ClickOutside,{className:"dig-Typeahead-backdrop",isBlock:!0,onClickOutside:X,shouldPropagateMouseEvents:!0,isClickThroughPortaled:t,isActive:Boolean(P)&&!C&&x},e&&e(V));return r.createElement(g.Provider,{value:q},r.createElement("div",{className:"dig-Typeahead",ref:f,...K({...v,onBlur:$})},Q))};w.displayName="Wrapper";var f=({className:e,children:t,...o})=>{const a=n.cx("dig-Typeahead-row-accessory",e);return r.createElement("div",{className:a,...o},t)};f.displayName="RowAccessory";var C=({className:e,children:t,...o})=>{const a=n.cx("dig-Typeahead-row-content",e);return r.createElement("div",{className:a,...o},t)};C.displayName="RowContent";var E=({className:e,children:t,...o})=>{const a=n.cx("dig-Typeahead-row-subtitle",e);return r.createElement("div",{className:a,...o},t)};E.displayName="RowSubtitle";var x=({className:e,children:t,...o})=>{const a=n.cx("dig-Typeahead-row-title",e);return r.createElement("div",{className:a,...o},t)};x.displayName="RowTitle";var T=({id:e,title:t,subTitle:n,sectionTitle:o})=>r.createElement("div",{className:"dig-Typeahead-accessible-text",id:e},t," ",n,o&&`, ${o}`),R=r.forwardRef((({tagName:e="li",role:t="option",disabled:o=!1,interactive:a=!0,className:s,withLeftAccessory:i,withRightAccessory:l,withSubtitle:c,withTitle:u,onFocus:d,onClick:m,onKeyDown:p,value:h,tabIndex:w=-1,children:R,...b},k)=>{const S=r.useRef(null),{menuRows:N,setSelected:I,setFocused:M,shouldHighlightFirstRow:P}=r.useContext(g),{resultIndex:O}=r.useContext(v),{rowIndex:F,focusIndex:D,sectionTitle:A}=r.useContext(y),_=100*(O||0)+(F||0),B=n.useUniqueId({prefix:""}),{getItemProps:z}=n.useMenuItem({interactive:a,disabled:o,ref:S,role:t,index:_,itemValue:h},N),[K,H]=r.useState(!1),[W,L]=r.useState(!1);r.useEffect((()=>{n.isRowFirst(N,_)&&L(!0),W&&n.areRowsFocused(N)?H(!0):H(!1)}),[N,_,F,W]),r.useEffect((()=>{void 0!==D&&D===F&&setTimeout((()=>{S.current&&S.current.focus()}),0)}),[D,F]);const j=n.cx("dig-Typeahead-row",{"dig-Typeahead-row--disabled":o,"dig-Typeahead-row--interactive":a},s),U=n.cx(j,{"dig-Typeahead-row--highlight":P},s);r.useImperativeHandle(k,(()=>({getBoundingClientRect:()=>{if(S.current)return S.current.getBoundingClientRect()}})));return r.createElement(e,{onClick:e=>{e.preventDefault(),I(h,e),M(void 0),m&&m(e)},onFocus:e=>{M(h,F),d&&d(e)},onKeyDown:e=>{p&&!o&&p(e)},className:W&&!K?U:j,ref:S,...z({...b})},R||r.createElement(r.Fragment,null,i&&r.createElement(f,null,i),r.createElement(C,{"aria-labelledby":B},r.createElement(x,{"aria-hidden":"true"},u),c&&r.createElement(E,{"aria-hidden":"true"},c)),r.createElement(T,{id:B,title:u,subTitle:c,sectionTitle:A}),l&&r.createElement(f,null,l)))}));R.displayName="Row";var b=({children:e})=>r.createElement("div",{className:"dig-Typeahead-prompt"},e);b.displayName="Prompt";var k=({open:e,triggerRef:t,emptyPrompt:o,isEmptyQuery:a=!1,loading:s,children:i,auto:l=!0,positioningStrategy:c="absolute",placement:u="bottom-start",omitOverlay:d=!1,...m})=>{const{menuRows:p,closeMenu:h,contentRef:y,isPortaled:w,containerId:f,inlineProps:C,hasMaxHeight:E,shouldOmitWrapperOverlay:x,setShouldOmitWrapperOverlay:T,setIsTypeaheadDropdownVisible:R,setSyntheticFocus:k}=r.useContext(g),S=r.useCallback((()=>{h({autoFocus:!1})}),[h]),{styles:N}=n.useMaxHeight({hasMaxHeight:E,contentRef:y}),I=null!=o;if(r.useEffect((()=>{let e=!0;s||a&&I||0!==p.items.size||(e=!1),R(e)}),[s,I,a,p.items.size,R]),r.useEffect((()=>{d&&T(!0)}),[d,T]),!e||!i)return null;let M,P={};if(s?M=r.createElement(b,null,r.createElement(n.Spinner,null)):a&&I?M=o:0===p.items.size?(M=i,P={display:"none"}):M=r.Children.map(i,((e,t)=>r.createElement(v.Provider,{value:{resultIndex:t}},e))),x)return r.createElement("div",{onPointerDownCapture:()=>{k()},className:"dig-Typeahead-container__omit-overlay-results-wrapper"},M);const O=(e=>{switch(e){case"top":case"top-start":case"top-end":default:return"up";case"bottom":case"bottom-start":case"bottom-end":return"down"}})(u),F=r.createElement(n.Motion,{transitionIn:{transitions:[{property:O,value:0},{property:"opacity",value:1}],easing:"enter",duration:125},transitionOut:{transitions:[{property:"opacity",value:0}],easing:"leave",duration:125},style:{opacity:0},in:e,mountOnEnter:!0,unmountOnExit:!0},(({state:o,style:a})=>(e||"exited"!==o)&&r.createElement(n.Overlay,{anchorRef:t,auto:l,isPortaled:w,placement:u,positioningStrategy:c,offsetDistance:4,setWidthSameAsAnchor:!C},r.createElement("ul",{className:"dig-Typeahead-container",ref:y,id:f,style:P,...m},r.createElement("div",{className:"dig-Typeahead-container--canvas",style:{...a,...N},onMouseDownCapture:()=>k()},M)))));return C?r.createElement(n.ClickOutside,{className:"dig-Typeahead-backdrop",isBlock:!0,onClickOutside:S,shouldPropagateMouseEvents:!1,isClickThroughPortaled:w,isActive:Boolean(e)},F):F};k.displayName="Container";var S=e=>{const{placeholderText:t}=e;return r.createElement(b,null,r.createElement(n.UIIcon,{size:"large",src:a.SearchLine}),r.createElement(n.Text,{color:"subtle"},t))};S.displayName="EmptyPrompt";var N=({onShowMoreClick:e,showMoreButtonText:t="Show more"})=>{const o=r.useRef(null),{menuRows:a,setFocused:s}=r.useContext(g),{resultIndex:i}=r.useContext(v),{rowIndex:l}=r.useContext(y),c=100*(i||0)+(l||0),{getItemProps:u}=n.useMenuItem({interactive:!0,disabled:!0,ref:o,role:"option",index:c},a),d=t=>{t.stopPropagation(),t.preventDefault(),e()};return r.createElement(n.Button,{className:"dig-Typeahead-results--show-more",variant:"transparent",ref:o,type:"button",onClick:d,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.stopPropagation(),t.preventDefault(),e())},onMouseDown:d,onFocus:()=>{s(void 0)},...u(),disabled:!1,"aria-disabled":!1},t)};N.displayName="ShowMore";var I=[["medium","standard"]];function M({results:e,title:t,renderRow:o,initialResults:a=4,maxResults:s=8,showMoreButtonText:i,size:l="medium"}){const{setFocused:c}=r.useContext(g),u=(e=>{const t=I.find((([t,n])=>e===n));return void 0!==t?t[0]:e})(l),[d,m]=r.useState(Math.min(e.length,a)),[p,h]=r.useState();if(r.useEffect((()=>{m(Math.min(e.length,a))}),[e,a]),!e||0===e.length)return null;const v=n.cx("dig-Typeahead-results",{"dig-Typeahead-results--standard":"medium"===u,"dig-Typeahead-results--large":"large"===u});return r.createElement("div",{className:v},t?r.createElement(n.Text,{className:"dig-Typeahead-results--title",color:"subtle",isBold:!0,size:"small","aria-hidden":"true"},t):r.createElement("div",{className:"dig-Typeahead-results--title-spacer",role:"presentation"}),e.slice(0,d).map(((e,n)=>r.createElement(y.Provider,{key:n,value:{rowIndex:n,focusIndex:p,sectionTitle:t}},o(e)))),d<e.length&&d!==s&&r.createElement(y.Provider,{value:{rowIndex:d+100}},r.createElement(N,{showMoreButtonText:i,onShowMoreClick:()=>{d<e.length&&(c(e[d]),h(d),m(Math.min(e.length,s)))}})))}M.displayName="Results";var P={Row:R,RowAccessory:f,RowContent:C,RowSubtitle:E,RowTitle:x,Wrapper:w,Container:k,Prompt:b,EmptyPrompt:S,Results:M};e.ChoiceChip=c,e.FilterChip=u,e.InputChip=d,e.Typeahead=P}));
//# sourceMappingURL=c_chips_index.js-vfllvXJ0o.map
