define(["exports","./c_file_viewer_collection_viewer","./c_lodash-es_lodash"],(function(e,t,n){"use strict";class r{constructor(){this.getDisposer=()=>()=>{this._array.forEach((e=>e())),this._array=[]},this.push=e=>{this._array.push(e)},this._array=[]}}const s=(e,t,n=!1)=>{const s=new r;for(const[r,i]of Object.entries(t))n?e.one(r,i):e.on(r,i),s.push((()=>e.off(r,i)));return s},i=500;function o(e,t,n){var r,s;return"backward"===t?e.paused()&&e.currentTime()-(null!==(r=null==n?void 0:n.start)&&void 0!==r?r:0)<.2:(null!==(s=null==n?void 0:n.end)&&void 0!==s?s:e.duration())-e.currentTime()<.2}e.disableAtEndpoint=(e,t,r,a)=>{const u=()=>r(o(e,t,a)),c={seeking:n.throttle(u,i),durationchange:u,seeked:u,playing:()=>r(!1)};return"forward"===t&&(c.ended=()=>r(!0)),s(e,c).getDisposer()},e.getPlayPauseKeybinding=function(e){return t.getKeyboardBinding({key:" ",callback:n=>(e._next_play_pause_invoked_by_keyboard=!0,e.paused()?e.play():e.pause(),t.isKeyboardEvent(n)&&n.preventDefault(),!0)})},e.getTechFromPlayer=function(e){return e.tech({IWillNotUseThisInPlugins:!0})},e.isAtEndpoint=o,e.setupVideoJsEvents=(e,t,n=!1)=>s(e,t,n).getDisposer(),e.tagCriticalPathContentRequest=function(e,t){if(e&&t){const n=new URL(e);return n.searchParams.set("psid",t),n.toString()}return e}}));
//# sourceMappingURL=c_preview_audio_video_helper_utils.js-vflmPCF7N.map
