define(["require","exports","react","./c_init_data_runtime","./c_api_v2_noauth_client","./c_user_centric_perf_metrics_component_visually_complete_ajax","./c_viewer","./c_src_sink_index","./c_browser_browser_detection","./e_core_exception","./c_core_notify","./c_core_i18n","react-dom","./c_core_xhr","./c_core_uri","./c_csrf","./c_core_attribution_header","./e_edison","metaserver/static/js/modules/constants/viewer","metaserver/static/js/langpack","./c_init_data_edison"],(function(e,t,n,i,o,r,a,s,c,l,d,u,m,p,f,g,h,_,v,b,y){"use strict";function E(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var w,S,C,T,x,N=E(n),k=E(m);class O extends i.Message{constructor(e){super(),this.userAgent="",this.sessionId="",this.anonIp="",this.localeUserSelected="",this.localeBrowserHeader="",this.country="",this.uaBrowserName="",this.uaBrowserVersion="",this.uaOsName="",this.uaOsVersion="",i.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new O).fromBinary(e,t)}static fromJson(e,t){return(new O).fromJson(e,t)}static fromJsonString(e,t){return(new O).fromJsonString(e,t)}static equals(e,t){return i.proto3.util.equals(O,e,t)}}O.runtime=i.proto3,O.typeName="ccpa_data.CCPALogContext",O.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"user_agent",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"anon_ip",kind:"scalar",T:9},{no:4,name:"locale_user_selected",kind:"scalar",T:9},{no:5,name:"locale_browser_header",kind:"scalar",T:9},{no:6,name:"country",kind:"scalar",T:9},{no:7,name:"ua_browser_name",kind:"scalar",T:9},{no:8,name:"ua_browser_version",kind:"scalar",T:9},{no:9,name:"ua_os_name",kind:"scalar",T:9},{no:10,name:"ua_os_version",kind:"scalar",T:9}]));class I extends i.Message{constructor(e){super(),this.isDws=!1,this.sourceType=w.UNKNOWN,this.subtypes={},this.url="",i.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new I).fromBinary(e,t)}static fromJson(e,t){return(new I).fromJson(e,t)}static fromJsonString(e,t){return(new I).fromJsonString(e,t)}static equals(e,t){return i.proto3.util.equals(I,e,t)}}I.runtime=i.proto3,I.typeName="web_timing_logger.WebTimingLoggerServerContext",I.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"is_dws",kind:"scalar",T:8},{no:2,name:"dws_opts",kind:"message",T:A},{no:3,name:"source_type",kind:"enum",T:i.proto3.getEnumType(w)},{no:4,name:"subtypes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"url",kind:"scalar",T:9}])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.DESKTOP_WEB=1]="DESKTOP_WEB",e[e.MOBILE_WEB=2]="MOBILE_WEB"}(w||(w={})),i.proto3.util.setEnumType(w,"web_timing_logger.WebTimingLoggerServerContext.SourceType",[{no:0,name:"UNKNOWN"},{no:1,name:"DESKTOP_WEB"},{no:2,name:"MOBILE_WEB"}]);class A extends i.Message{constructor(e){super(),this.isDws2=!1,this.isEarlyEnsemble=!1,this.jsPreloading=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new A).fromBinary(e,t)}static fromJson(e,t){return(new A).fromJson(e,t)}static fromJsonString(e,t){return(new A).fromJsonString(e,t)}static equals(e,t){return i.proto3.util.equals(A,e,t)}}A.runtime=i.proto3,A.typeName="web_timing_logger.WebTimingLoggerServerContext.DWSOptions",A.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"is_dws2",kind:"scalar",T:8},{no:2,name:"is_early_ensemble",kind:"scalar",T:8},{no:3,name:"js_preloading",kind:"scalar",T:8}])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOGGED_OUT_NOT_ENROLLED=1]="LOGGED_OUT_NOT_ENROLLED",e[e.LOGGED_IN_NOT_ENROLLED=2]="LOGGED_IN_NOT_ENROLLED",e[e.LOGGED_OUT_EMAIL_PENDING=3]="LOGGED_OUT_EMAIL_PENDING",e[e.LOGGED_OUT_ENROLLED=4]="LOGGED_OUT_ENROLLED",e[e.LOGGED_IN_EMAIL_PENDING=5]="LOGGED_IN_EMAIL_PENDING",e[e.LOGGED_IN_ENROLLED=6]="LOGGED_IN_ENROLLED",e[e.LOGGED_OUT_GPC_ENABLED=7]="LOGGED_OUT_GPC_ENABLED",e[e.CROSS_ORIGIN_ENROLLED=8]="CROSS_ORIGIN_ENROLLED",e[e.ENROLLED_VIA_COOKIES=9]="ENROLLED_VIA_COOKIES"}(S||(S={})),i.proto3.util.setEnumType(S,"privacy_consent.UserDNSInitState",[{no:0,name:"UNKNOWN"},{no:1,name:"LOGGED_OUT_NOT_ENROLLED"},{no:2,name:"LOGGED_IN_NOT_ENROLLED"},{no:3,name:"LOGGED_OUT_EMAIL_PENDING"},{no:4,name:"LOGGED_OUT_ENROLLED"},{no:5,name:"LOGGED_IN_EMAIL_PENDING"},{no:6,name:"LOGGED_IN_ENROLLED"},{no:7,name:"LOGGED_OUT_GPC_ENABLED"},{no:8,name:"CROSS_ORIGIN_ENROLLED"},{no:9,name:"ENROLLED_VIA_COOKIES"}]);class R extends i.Message{constructor(e){super(),this.iframeOrigin="",this.countryCode="",this.isCcpaEnabled=!1,this.loggedInState=C.UNKNOWN,this.isMigrationGateEnabled=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new R).fromBinary(e,t)}static fromJson(e,t){return(new R).fromJson(e,t)}static fromJsonString(e,t){return(new R).fromJsonString(e,t)}static equals(e,t){return i.proto3.util.equals(R,e,t)}}R.runtime=i.proto3,R.typeName="privacy_consent.PrivacyConsentInitData",R.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"iframe_origin",kind:"scalar",T:9},{no:2,name:"country_code",kind:"scalar",T:9},{no:3,name:"is_ccpa_enabled",kind:"scalar",T:8},{no:4,name:"logged_in_state",kind:"enum",T:i.proto3.getEnumType(C)},{no:5,name:"is_migration_gate_enabled",kind:"scalar",T:8}])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOGGED_OUT=1]="LOGGED_OUT",e[e.LOGGED_IN=2]="LOGGED_IN"}(C||(C={})),i.proto3.util.setEnumType(C,"privacy_consent.PrivacyConsentInitData.LoggedInState",[{no:0,name:"UNKNOWN"},{no:1,name:"LOGGED_OUT"},{no:2,name:"LOGGED_IN"}]);class F extends i.Message{constructor(e){super(),this.consentIframeOrigin="",this.dnsState=S.UNKNOWN,this.userEmails=[],this.verifiedEmails=[],this.unverifiedEmails=[],this.ccpaToken="",this.isGpcEnabled=!1,this.localizedTextOverrides={},this.csrfToken="",this.defaultNonCcpaToggleState=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new F).fromBinary(e,t)}static fromJson(e,t){return(new F).fromJson(e,t)}static fromJsonString(e,t){return(new F).fromJsonString(e,t)}static equals(e,t){return i.proto3.util.equals(F,e,t)}}F.runtime=i.proto3,F.typeName="privacy_consent.CCPAIFrameInitData",F.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"consent_iframe_origin",kind:"scalar",T:9},{no:2,name:"dns_state",kind:"enum",T:i.proto3.getEnumType(S)},{no:3,name:"user_emails",kind:"scalar",T:9,repeated:!0},{no:4,name:"verified_emails",kind:"scalar",T:9,repeated:!0},{no:5,name:"unverified_emails",kind:"scalar",T:9,repeated:!0},{no:6,name:"logging_context",kind:"message",T:O},{no:7,name:"ccpa_token",kind:"scalar",T:9},{no:8,name:"is_gpc_enabled",kind:"scalar",T:8},{no:9,name:"localized_text_overrides",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:10,name:"csrf_token",kind:"scalar",T:9},{no:11,name:"default_non_ccpa_toggle_state",kind:"scalar",T:8}]));class L extends i.Message{constructor(e){super(),this.confirmationStatus=T.UNKNOWN,this.userEmailToken="",this.countryCode="",this.locale="",this.hasError=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new L).fromBinary(e,t)}static fromJson(e,t){return(new L).fromJson(e,t)}static fromJsonString(e,t){return(new L).fromJsonString(e,t)}static equals(e,t){return i.proto3.util.equals(L,e,t)}}L.runtime=i.proto3,L.typeName="privacy_consent.CCPADNSVerificationInitData",L.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"confirmation_status",kind:"enum",T:i.proto3.getEnumType(T)},{no:2,name:"user_email_token",kind:"scalar",T:9},{no:3,name:"country_code",kind:"scalar",T:9},{no:4,name:"locale",kind:"scalar",T:9},{no:5,name:"has_error",kind:"scalar",T:8},{no:6,name:"web_timing_logger_server_context",kind:"message",T:I}])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CONFIRMED=1]="CONFIRMED",e[e.CANCELED=2]="CANCELED",e[e.PENDING=3]="PENDING"}(T||(T={})),i.proto3.util.setEnumType(T,"privacy_consent.CCPADNSVerificationInitData.DNSVerificationStatus",[{no:0,name:"UNKNOWN"},{no:1,name:"CONFIRMED"},{no:2,name:"CANCELED"},{no:3,name:"PENDING"}]),function(e){e.NotEnrolled="NOT_ENROLLED",e.EnrollmentPendingEmailConfirmation="ENROLLMENT_PENDING_EMAIL_CONFIRMATION",e.EnrollmentPendingAccountConfirmation="ENROLLMENT_PENDING_ACCOUNT_CONFIRMATION",e.EnrolledEmail="ENROLLED_EMAIL",e.EnrolledAccount="ENROLLED_ACCOUNT",e.CrossOriginEnrolled="CROSS_ORIGIN_ENROLLED",e.EnrolledViaCookie="ENROLLED_VIA_COOKIES",e.UnenrollmentPendingEmailUIConfirmation="UNENROLLMENT_PENDING_EMAIL_UI_CONFIRMATION",e.UnenrollmentPendingAccountUIConfirmation="UNENROLLMENT_PENDING_ACCOUNT_UI_CONFIRMATION",e.EnrollmentPendingEmailUIConfirmation="ENROLLMENT_PENDING_EMAIL_UI_CONFIRMATION",e.EnrollmentPendingAccountUIConfirmation="ENROLLMENT_PENDING_ACCOUNT_UI_CONFIRMATION",e.EnrollmentPendingEmailVerificationSent="ENROLLMENT_PENDING_EMAIL_VERIFICATION_SENT",e.EnrollmentPendingAccountVerificationSent="ENROLLMENT_PENDING_ACCOUNT_VERIFICATION_SENT"}(x||(x={}));const M=e=>e===x.EnrollmentPendingEmailVerificationSent||e===x.EnrollmentPendingAccountVerificationSent||e===x.EnrollmentPendingEmailUIConfirmation||e===x.EnrollmentPendingAccountUIConfirmation||e===x.EnrollmentPendingEmailConfirmation||e===x.EnrollmentPendingAccountConfirmation||e===x.EnrolledEmail||e===x.EnrolledAccount||e===x.CrossOriginEnrolled||e===x.EnrolledViaCookie,P=e=>e===x.EnrollmentPendingEmailUIConfirmation||e===x.EnrollmentPendingAccountUIConfirmation,D=e=>e===x.EnrolledAccount||e===x.EnrollmentPendingAccountConfirmation,B=e=>e===x.NotEnrolled,U=e=>!(e===x.EnrollmentPendingAccountUIConfirmation||e===x.EnrollmentPendingEmailUIConfirmation||e===x.UnenrollmentPendingAccountUIConfirmation||e===x.UnenrollmentPendingEmailUIConfirmation||e===x.EnrollmentPendingEmailVerificationSent||e===x.EnrollmentPendingAccountVerificationSent);function z(e){return e.ns("ccpa")}class G extends o.ApiV2ClientBase{constructor(e){super(e)}_headers(e){const t=a.Viewer.get_viewer().get_user_by_id(e.subjectUserId);return Object.assign({[r.ApiV2HeaderNames.DropboxUid]:String(t.id),[r.ApiV2HeaderNames.DropboxPathRoot]:String(t.root_ns_id)},e.headers)}}const j="privacy_consent";var V,$,q,W,H;!function(e){e.DNS_OPT_IN="dns_opt_in_submitted",e.DNS_OPT_IN_ERROR="dns_opt_in_error",e.DNS_OPT_OUT="dns_opt_out_submitted",e.DNS_OPT_OUT_ERROR="dns_opt_out_error",e.RESEND_EMAIL="resend_email_submitted",e.RESEND_EMAIL_ERROR="resend_email_error",e.IFRAME_LOAD_SUCCESS="ccpa_iframe_load_success",e.IFRAME_LOAD_ERROR="ccpa_iframe_load_error",e.EMAIL_VERIFICATION_PAGE_VISIT="ccpa_email_verification_page_visited",e.EMAIL_VERIFICATION_PAGE_ERROR="ccpa_email_verification_page_error",e.EMAIL_VERIFICATION_CONFIRM_CLICKED="ccpa_email_confirm_clicked",e.EMAIL_VERIFICATION_CANCEL_CLICKED="ccpa_email_cancel_clicked"}(V||(V={})),function(e){e.CSRF_TOKEN_ERROR="csrf_token_error",e.UNSUCCESSFUL_RESPONSE="unsuccessful_response"}($||($={})),function(e){e.SIGNED_IN="signed_in",e.SIGNED_OUT="signed_out",e.SHOULD_USE_APP_AUTH="should_use_app_auth",e.SHOULD_NOT_USE_APP_AUTH="should_not_use_app_auth"}(q||(q={})),function(e){e.SETUP_REENTRY_SUCCESS="setup_reentry_success",e.SETUP_REENTRY_FAILURE="setup_reentry_failure",e.SETUP_REENTRY_START="setup_reentry_start"}(W||(W={})),function(e){e.CCPA_IFRAME_LOAD_LATENCY="ccpa_iframe_load_latency",e.CROWNPEAK_LOAD_LATENCY="crownpeak_load_latency",e.EVENTS="events",e.CONSENT_IFRAME_RENDERED="consent_iframe_rendered",e.CCPA_IFRAME_RENDERED="ccpa_iframe_rendered"}(H||(H={}));const K=new class{constructor(){}get metricsReporter(){return this.metricsReporterInstance||(this.metricsReporterInstance=s.getMetricsReporter$1()),this.metricsReporterInstance}createCounter(e,t={}){return this.metricsReporter.createCounter({ns:j,name:e},t)}createStats(e,t={}){return this.metricsReporter.createStats({ns:j,name:e},t)}logCounter(e,t={}){try{const n=this.createCounter(e,t);n.increment(),n.record()}catch(t){l.reportStack(`PrivacyConsentAmpLogError: Failed to log AMP metric for event: ${e}.`,{severity:l.SEVERITY.NONCRITICAL,tags:["privacy_consent"],silent:!0})}}logError(e,t={},n){this.logCounter(e,t),l.reportException({err:n,severity:l.SEVERITY.CRITICAL,tags:["privacy_consent"],exc_extra:t.event_name})}logDuration(e,t={},n){try{this.createStats(e,t).recordDuration(n,c.TimeUnit.MILLISECONDS)}catch(t){l.reportStack(`PrivacyConsentAmpLogError: Failed to log AMP metric for event: ${e}.`,{severity:l.SEVERITY.NONCRITICAL,tags:["privacy_consent"],silent:!0})}}logStats(e,t={},n){try{this.createStats(e,t).record(n)}catch(t){l.reportStack(`PrivacyConsentAmpLogError: Failed to log AMP metric for event: ${e}.`,{severity:l.SEVERITY.NONCRITICAL,tags:["privacy_consent"],silent:!0})}}};function Y(){var e;if(i.isServedByEdisonWebServer())return i.getActiveUserId();if(window.ensemble&&window.ensemble.viewer){const e=window.ensemble.viewer.getActiveUser();if(e)return e.userId}return null===(e=a.Viewer.get_viewer().active_user)||void 0===e?void 0:e.id}function Z(){const e=Y();return e?a.Viewer.get_viewer().get_user_by_id(e):void 0}const J=()=>a.Viewer.get_viewer().is_signed_in,X=()=>{let e=!0;try{""===Reflect.get(document.constructor.prototype,"cookie",document)&&(e=!1)}catch(t){e=!1}return!e},Q=(e,t)=>({event_name:e,is_signed_in:J()?q.SIGNED_IN:q.SIGNED_OUT,should_use_app_auth:X()?q.SHOULD_USE_APP_AUTH:q.SHOULD_NOT_USE_APP_AUTH,error_type:null==t?"null":t}),ee=e=>{const t=e&&e.sessionId?e.sessionId:i.getBrowserId();return{user_agent:null==e?void 0:e.userAgent,session_id:t,anon_ip:null==e?void 0:e.anonIp,locale_user_selected:null==e?void 0:e.localeUserSelected,locale_browser_header:null==e?void 0:e.localeBrowserHeader,country:null==e?void 0:e.country,ua_browser_name:null==e?void 0:e.uaBrowserName,ua_browser_version:null==e?void 0:e.uaBrowserVersion,ua_os_name:null==e?void 0:e.uaOsName,ua_os_version:null==e?void 0:e.uaOsVersion}},te="https://api.dropboxapi.com",ne=`Basic ${btoa("bvfyoawupclb746:6pv9whg6d9wh8xm")}`;var ie;!function(e){e.USER_INPUT="UI",e.COOKIE_AUTO="COOKIE_AUTO",e.GPC_UI="GPC_UI",e.GPC_AUTO="GPC_AUTO"}(ie||(ie={}));const oe=(e,t,n,i)=>{if(!e)return void t(!1,"");const r=Z(),s=ee(n);if(K.logCounter(H.EVENTS,Q(V.RESEND_EMAIL,null)),J()&&r){const e=z(new G),n=a.Viewer.get_viewer().get_users().map((e=>e.email));e.rpc("resend_dns_verification_email",{raw_email_addresses:n,logging_context:s},{subjectUserId:r.id}).then((e=>{if(t(e.success,""),!e.success)throw new Error("Resend email failed")})).catch((e=>{t(!1,""),K.logError(H.EVENTS,Q(V.RESEND_EMAIL_ERROR,$.UNSUCCESSFUL_RESPONSE),e)}))}else if(X()){if(!i)return t(!1,""),void K.logError(H.EVENTS,Q(V.RESEND_EMAIL_ERROR,$.CSRF_TOKEN_ERROR),new Error("csrf token not found"));((e,t,n,i)=>{fetch(`${te}/2/ccpa/resend_dns_verification_email`,{headers:{"content-type":"text/plain; charset=dropbox-cors-hack",authorization:ne},method:"POST",body:JSON.stringify({raw_email_addresses:e,logging_context:i,csrf_token:t})}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>{if(n(e.success,""),!e.success)throw new Error("Resend email with app auth failed")})).catch((e=>{n(!1,""),K.logError(H.EVENTS,Q(V.RESEND_EMAIL_ERROR,$.UNSUCCESSFUL_RESPONSE),e)}))})(e,i,t,s)}else{z(new o.NoAuthApiV2Client).rpc("resend_dns_verification_email",{raw_email_addresses:e,logging_context:s},{}).then((e=>{if(t(e.success,""),!e.success)throw new Error("Resend email failed")})).catch((e=>{t(!1,""),K.logError(H.EVENTS,Q(V.RESEND_EMAIL_ERROR,$.UNSUCCESSFUL_RESPONSE),e)}))}},re=(e,t,n,i,o,r,a)=>{e?(K.logCounter(H.EVENTS,Q(V.DNS_OPT_IN,null)),ae(t,n,i,o,r,a)):(K.logCounter(H.EVENTS,Q(V.DNS_OPT_OUT,null)),se(t,n,i,o,r,a))},ae=(e,t,n,i,r,a)=>{const s=Z(),c=ee(n);if(J()&&s){z(new G).rpc("opt_in_dns",Object.assign({logging_context:c,ccpa_token:i},a),{subjectUserId:s.id}).then((t=>{if(e(t.success),!t.success)throw new Error("Opt in DNS failed")})).catch((t=>{e(!1),K.logError(H.EVENTS,Q(V.DNS_OPT_IN_ERROR,$.UNSUCCESSFUL_RESPONSE),t)}))}else if(X()){if(!r)return e(!1),void K.logError(H.EVENTS,Q(V.DNS_OPT_IN_ERROR,$.CSRF_TOKEN_ERROR),new Error("csrf token not found"));((e,t,n,i,o,r)=>{fetch(`${te}/2/ccpa/opt_in_dns`,{headers:{"content-type":"text/plain; charset=dropbox-cors-hack",authorization:ne},method:"POST",body:JSON.stringify(Object.assign({raw_email_address:n,logging_context:i,ccpa_token:o,csrf_token:t},r))}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((t=>{if(e(t.success),!t.success)throw new Error("Opt in DNS with app auth failed")})).catch((t=>{e(!1),K.logError(H.EVENTS,Q(V.DNS_OPT_IN_ERROR,$.UNSUCCESSFUL_RESPONSE),t)}))})(e,r,t,c,i,a)}else{z(new o.NoAuthApiV2Client).rpc("opt_in_dns",Object.assign({raw_email_address:t,logging_context:c,ccpa_token:i},a),{}).then((t=>{if(e(t.success),!t.success)throw new Error("Opt in DNS failed")})).catch((t=>{e(!1),K.logError(H.EVENTS,Q(V.DNS_OPT_IN_ERROR,$.UNSUCCESSFUL_RESPONSE),t)}))}},se=(e,t,n,i,r,a)=>{const s=Z(),c=ee(n);if(J()&&s){z(new G).rpc("opt_out_dns",Object.assign({logging_context:c,ccpa_token:i},a),{subjectUserId:s.id}).then((t=>{if(e(t.success),!t.success)throw new Error("Opt out DNS failed")})).catch((t=>{e(!1),K.logError(H.EVENTS,Q(V.DNS_OPT_OUT_ERROR,$.UNSUCCESSFUL_RESPONSE),t)}))}else if(X()){if(!r)return e(!1),void K.logError(H.EVENTS,Q(V.DNS_OPT_OUT_ERROR,$.CSRF_TOKEN_ERROR),new Error("csrf token not found"));((e,t,n,i,o,r)=>{fetch(`${te}/2/ccpa/opt_out_dns`,{headers:{"content-type":"text/plain; charset=dropbox-cors-hack",authorization:ne},method:"POST",body:JSON.stringify(Object.assign({raw_email_address:n,logging_context:i,ccpa_token:o,csrf_token:t},r))}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((t=>{if(e(t.success),!t.success)throw new Error("Opt out DNS with app auth failed")})).catch((t=>{e(!1),K.logError(H.EVENTS,Q(V.DNS_OPT_OUT_ERROR,$.UNSUCCESSFUL_RESPONSE),t)}))})(e,r,t,c,i,a)}else{z(new o.NoAuthApiV2Client).rpc("opt_out_dns",Object.assign({raw_email_address:t,logging_context:c,ccpa_token:i},a),{}).then((t=>{if(e(t.success),!t.success)throw new Error("Opt out DNS failed")})).catch((t=>{e(!1),K.logError(H.EVENTS,Q(V.DNS_OPT_OUT_ERROR,$.UNSUCCESSFUL_RESPONSE),t)}))}};var ce,le={exports:{}};ce=le,function(){var e={}.hasOwnProperty;function t(){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var r=typeof o;if("string"===r||"number"===r)n.push(o);else if(Array.isArray(o)&&o.length){var a=t.apply(null,o);a&&n.push(a)}else if("object"===r)for(var s in o)e.call(o,s)&&o[s]&&n.push(s)}}return n.join(" ")}ce.exports?(t.default=t,ce.exports=t):window.classNames=t}();var de=le.exports,ue=l.getDefaultExportFromCjs(de);const me=N.createContext({});function pe(e){return Math.floor(e/-4)+2}const fe=({className:e,src:t,size:n="medium",isOpticallyAligned:i=!1,height:o,width:r,...a})=>{const{UIIconOverrides:s}=N.useContext(me),c=s&&s.size?s.size:n,l="standard"===c?"medium":12===c?"small":20===c?"medium":c,d=s&&void 0!==s.isOpticallyAligned?s.isOpticallyAligned:i,u=ue("dig-UIIcon",{"dig-UIIcon--small":"small"===l,"dig-UIIcon--standard":"medium"===l,"dig-UIIcon--is-optically-aligned":d},e),m=!a["aria-label"]&&!a["aria-labelledby"],p=function(e,t,n){if(void 0!==t||void 0!==n){if("number"==typeof t)return t;if("number"==typeof n)return n;if(/px$/.test(t||n||"")){const e=(t||n||"0").match(/\d+/),i=e?e.pop():void 0;if(i){const e=parseInt(i,10);if(!isNaN(e))return parseInt(i,10)}}else if(!isNaN(t||n))return parseInt(t||n||"",10)}switch(e){case"small":return 16;case"large":return 32}return 24}(l,o,r),f={marginLeft:pe(p),marginRight:pe(p)};return d?N.createElement("span",{className:u,style:{display:"inline-flex"}},N.createElement(t,{width:p,height:p,role:m?"presentation":void 0,focusable:"false",style:f,...a})):N.createElement(t,{className:u,width:p,height:p,role:m?"presentation":void 0,focusable:"false",...a})};fe.displayName="UIIcon";const ge=({className:e,src:t,...n})=>{const i=ue("dig-PictogramIcon",e),o=!n["aria-label"]&&!n["aria-labelledby"];return N.createElement(t,{className:i,width:64,height:64,focusable:"false",role:o?"presentation":void 0,...n})};ge.displayName="PictogramIcon";const he=e=>N.createElement("svg",{viewBox:"0 0 64 64",fill:"none",...e},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.772 16.772C13.82 19.725 12 24.512 12 32c0 7.487 1.82 12.276 4.772 15.228C19.725 50.18 24.512 52 32 52c7.487 0 12.276-1.82 15.228-4.772C50.18 44.275 52 39.488 52 32c0-7.487-1.82-12.276-4.772-15.228C44.275 13.82 39.488 12 32 12c-7.487 0-12.276 1.82-15.228 4.772ZM8 32C8 15.85 15.85 8 32 8s24 7.85 24 24-7.85 24-24 24S8 48.15 8 32Z",fill:"currentColor"}),N.createElement("path",{d:"M43.828 26.828 41 24 29.414 35.585 23.828 30 21 32.828l8.414 8.415 14.414-14.415Z",fill:"currentColor"})),_e=e=>N.createElement("svg",{viewBox:"0 0 64 64",fill:"none",...e},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m21.353 39.819 9.192-9.193 9.193-9.192 2.828 2.828-18.385 18.385-2.828-2.828Z",fill:"currentColor"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.181 21.353 18.385 18.385-2.828 2.828-18.385-18.385 2.828-2.828Z",fill:"currentColor"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.832 47.168c2.93 2.93 7.693 4.747 15.168 4.747s12.237-1.817 15.168-4.747c2.93-2.93 4.747-7.693 4.747-15.168s-1.817-12.237-4.747-15.168c-2.93-2.93-7.693-4.747-15.168-4.747s-12.237 1.817-15.168 4.747c-2.93 2.93-4.747 7.693-4.747 15.168s1.817 12.237 4.747 15.168ZM8 32c0 16.15 7.85 24 24 24s24-7.85 24-24S48.15 8 32 8 8 15.85 8 32Z",fill:"currentColor"})),ve=e=>N.createElement("svg",{viewBox:"0 0 64 64",fill:"none",...e},N.createElement("path",{d:"M32 8C16.523 8 8 16.523 8 32s8.523 24 24 24 24-8.523 24-24S47.477 8 32 8Zm0 44c-13.271 0-20-6.729-20-20s6.729-20 20-20 20 6.729 20 20-6.729 20-20 20Z",fill:"currentColor"}),N.createElement("path",{d:"M32 22a1.857 1.857 0 0 0-2 2 2 2 0 0 0 4 0 1.857 1.857 0 0 0-2-2Zm-2 5.491V42h4V27.491a4.186 4.186 0 0 1-4 0Z",fill:"currentColor"})),be=e=>N.createElement("svg",{viewBox:"0 0 64 64",fill:"none",...e},N.createElement("path",{d:"M32 41a2 2 0 1 0 2 2 1.857 1.857 0 0 0-2-2Zm-2-13v11.509a4.186 4.186 0 0 1 4 0V28h-4Z",fill:"currentColor"}),N.createElement("path",{d:"M32 9.008 6.531 53h50.938L32 9.008Zm0 7.983L50.531 49H13.469L32 16.991Z",fill:"currentColor"})),ye=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{d:"M12 4c-5.159 0-8 2.841-8 8s2.841 8 8 8 8-2.841 8-8-2.841-8-8-8Zm0 14.5c-4.374 0-6.5-2.126-6.5-6.5 0-4.374 2.126-6.5 6.5-6.5 4.374 0 6.5 2.126 6.5 6.5 0 4.374-2.126 6.5-6.5 6.5Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}),N.createElement("path",{d:"m11 13.44-1.97-1.97-1.06 1.06L11 15.56l5.03-5.03-1.06-1.06L11 13.44Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"})),Ee=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{d:"M5.5 11.5 10 16l8.25-8.25",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:10,vectorEffect:"non-scaling-stroke"})),we=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{d:"m5.25 9.25 6.5 6.25 6.5-6.25",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:10,vectorEffect:"non-scaling-stroke"})),Se=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{d:"m14.75 5.75-6.25 6.5 6.25 6.5",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:10,vectorEffect:"non-scaling-stroke"})),Ce=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{d:"m9.25 5.75 6.25 6.5-6.25 6.5",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:10,vectorEffect:"non-scaling-stroke"})),Te=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{d:"m17.5 6.5-11 11m11 0-11-11",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:10,vectorEffect:"non-scaling-stroke"})),xe=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 5 4 7.5 8 10l-4 2.5L8 15l4-2.5 4 2.5 4-2.5-4-2.5 4-2.466L16 5l-4 2.5L8 5Zm4 2.5 4 2.5-4 2.5L8 10l4-2.5Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}),N.createElement("path",{d:"m8 16.5 4-2.5 4 2.5-4 2.5-4-2.5Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"})),Ne=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{d:"M12 4c-5.159 0-8 2.841-8 8s2.841 8 8 8 8-2.841 8-8-2.841-8-8-8Zm0 14.5c-4.374 0-6.5-2.126-6.5-6.5 0-4.374 2.126-6.5 6.5-6.5 4.374 0 6.5 2.126 6.5 6.5 0 4.374-2.126 6.5-6.5 6.5Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}),N.createElement("path",{d:"M14.475 8.465 12 10.94 9.525 8.465l-1.06 1.06L10.94 12l-2.475 2.475 1.06 1.06L12 13.06l2.475 2.476 1.06-1.061L13.06 12l2.476-2.475-1.061-1.06Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"})),ke=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{d:"M11.75 4C6.535 4 4 6.535 4 11.75s2.535 7.75 7.75 7.75 7.75-2.535 7.75-7.75S16.965 4 11.75 4Zm0 14c-4.322 0-6.25-1.927-6.25-6.25 0-4.322 1.928-6.25 6.25-6.25 4.323 0 6.25 1.928 6.25 6.25 0 4.323-1.927 6.25-6.25 6.25Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}),N.createElement("path",{d:"M11.75 8a.75.75 0 1 0 .75.75.71.71 0 0 0-.75-.75ZM11 10.405V15.5h1.5v-5.095a3.01 3.01 0 0 1-1.5 0Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"})),Oe=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{d:"M12 10a1.857 1.857 0 0 0-2 2 1.857 1.857 0 0 0 2 2 1.857 1.857 0 0 0 2-2 1.857 1.857 0 0 0-2-2Zm0 6a1.858 1.858 0 0 0-2 2 1.857 1.857 0 0 0 2 2 1.857 1.857 0 0 0 2-2 1.857 1.857 0 0 0-2-2Zm0-8a1.857 1.857 0 0 0 2-2 1.856 1.856 0 0 0-2-2 1.857 1.857 0 0 0-2 2 1.857 1.857 0 0 0 2 2Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"})),Ie=e=>N.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},N.createElement("path",{d:"M11.5 10.5v3.595a3.01 3.01 0 0 1 1.5 0V10.5h-1.5Zm.75 4.5a.75.75 0 1 0 .75.75.711.711 0 0 0-.75-.75Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.933 19.5 12.25 3.78l9.317 15.72H2.933Zm16-1.5L12.25 6.722 5.566 18h13.367Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}));function Ae(){var e=N.useContext(u.Context);return u.invariantIntlContext(e),e}var Re,Fe;function Le(e){var t=function(t){var n=Ae(),i=t.value,o=t.children,r=u.__rest(t,["value","children"]),a="string"==typeof i?new Date(i||0):i;return o("formatDate"===e?n.formatDateToParts(a,r):n.formatTimeToParts(a,r))};return t.displayName=Fe[e],t}function Me(e){var t=function(t){var n=Ae(),i=t.value,o=t.children,r=u.__rest(t,["value","children"]),a=n[e](i,r);if("function"==typeof o)return o(a);var s=n.textComponent||N.Fragment;return N.createElement(s,null,a)};return t.displayName=Re[e],t}!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(Re||(Re={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(Fe||(Fe={})),Me("formatDate"),Me("formatTime"),Me("formatNumber"),Me("formatList"),Me("formatDisplayName"),Le("formatDate"),Le("formatTime");const Pe=()=>u.intl.formatMessage({id:"zd0szP",defaultMessage:"You must confirm your email address to save your preferences. We will send you an email from no-reply@dropbox.com. Open the email and click Confirm Email Address to complete your preference submission."}),De=u.intl.formatMessage({id:"oQWTes",defaultMessage:"Please Confirm Email:"}),Be=u.intl.formatMessage({id:"D09GlF",defaultMessage:"Resend"}),Ue=e=>{const{emails:t}=e;return N.default.createElement("p",{className:"email-confirm-msg"},De," ",t," ",N.default.createElement("button",{id:"email-resend",className:"email-resend",onClick:e=>oe(t,ze)},Be),"?")};Ue.displayName="EmailConfirmMessage";const ze=e=>{e?d.Notify.success(u.intl.formatMessage({id:"b+akES",defaultMessage:"Success! Email will be sent shortly."})):d.Notify.error(u.intl.formatMessage({id:"6w278K",defaultMessage:"Something went wrong! Try again later."}))},Ge=e=>{const{enrollmentState:t,userEmails:n,verifiedEmails:i,unverifiedEmails:o}=e,r=!U(t),a=new Set([...n||[],...i||[],...o||[]]),s=Array.from(a).join(", ");let c;return r||(c=null==o?void 0:o.join(", ")),N.default.createElement("div",null,s&&N.default.createElement("div",null,N.default.createElement("p",{className:"settings-saved-text"},(e=>{const t=u.intl.formatMessage({id:"bnEYxL",defaultMessage:"Settings are saved for the following accounts:"}),n=u.intl.formatMessage({id:"OibIHY",defaultMessage:"Settings will be saved for the following accounts:"});return e?t:n})(!r)),N.default.createElement("div",{className:"dns-emails"},s)),c&&t!==x.CrossOriginEnrolled&&N.default.createElement("div",{className:"unverified-emails"},N.default.createElement(fe,{src:Ie}),N.default.createElement("span",null,De," ",N.default.createElement("span",{className:"weight-500"},c)," ",N.default.createElement("button",{id:"email-resend",className:"email-resend",onClick:e=>oe(o,ze)},Be))),P(t)&&N.default.createElement("p",{className:"email-verification-text"},Pe()))};Ge.displayName="EnrollmentDetails";const je=e=>{const{email:t,handleEmailChange:n,enrollmentState:i}=e,o=u.intl.formatMessage({id:"XtxsF7",defaultMessage:"Settings are saved for"}),r=!U(i);return N.default.createElement("div",null,N.default.createElement("label",{className:"dns-email-label",htmlFor:"dns-email"},o),N.default.createElement("input",{type:"text",id:"dns-email",name:"dns-email",className:"dns-email",value:t,onChange:e=>{n(e.target.value)},placeholder:"example@dropbox.com"}),r&&N.default.createElement("p",{className:"email-verification-text"},Pe()))};je.displayName="EmailInputForm";const Ve=e=>{const{enrollmentState:t,userEmails:n,verifiedEmails:i,unverifiedEmails:o,email:r,handleEmailChange:a}=e;return t===x.EnrolledAccount||t===x.EnrolledEmail||t===x.EnrollmentPendingAccountVerificationSent||t===x.EnrollmentPendingAccountConfirmation||t===x.EnrollmentPendingAccountUIConfirmation||t===x.UnenrollmentPendingAccountUIConfirmation||t===x.UnenrollmentPendingEmailUIConfirmation?N.default.createElement(Ge,{userEmails:n,verifiedEmails:i,unverifiedEmails:o,enrollmentState:t}):t===x.EnrollmentPendingEmailVerificationSent||t===x.EnrollmentPendingEmailUIConfirmation?N.default.createElement(je,{enrollmentState:t,email:r,handleEmailChange:a}):t===x.EnrollmentPendingEmailConfirmation?N.default.createElement(Ue,{emails:o}):null};Ve.displayName="DNSForm";const $e={Spacing:{Dimension:{0:"var(--dig-spacing__dimension__0)",2:"var(--dig-spacing__dimension__2)",4:"var(--dig-spacing__dimension__4)",6:"var(--dig-spacing__dimension__6)",8:"var(--dig-spacing__dimension__8)",10:"var(--dig-spacing__dimension__10)",12:"var(--dig-spacing__dimension__12)",16:"var(--dig-spacing__dimension__16)",20:"var(--dig-spacing__dimension__20)",24:"var(--dig-spacing__dimension__24)",28:"var(--dig-spacing__dimension__28)",32:"var(--dig-spacing__dimension__32)",36:"var(--dig-spacing__dimension__36)",44:"var(--dig-spacing__dimension__44)",52:"var(--dig-spacing__dimension__52)",60:"var(--dig-spacing__dimension__60)",68:"var(--dig-spacing__dimension__68)",76:"var(--dig-spacing__dimension__76)",84:"var(--dig-spacing__dimension__84)",100:"var(--dig-spacing__dimension__100)",116:"var(--dig-spacing__dimension__116)",132:"var(--dig-spacing__dimension__132)"},Micro:{XSmall:"var(--dig-spacing__micro__xsmall)",Small:"var(--dig-spacing__micro__small)",Medium:"var(--dig-spacing__micro__medium)",Large:"var(--dig-spacing__micro__large)",XLarge:"var(--dig-spacing__micro__xlarge)"},Macro:{XSmall:"var(--dig-spacing__macro__xsmall)",Small:"var(--dig-spacing__macro__small)",Medium:"var(--dig-spacing__macro__medium)",Large:"var(--dig-spacing__macro__large)",XLarge:"var(--dig-spacing__macro__xlarge)"}},Breakpoint:{XSmall:"var(--dig-breakpoint__xsmall)",Small:"var(--dig-breakpoint__small)",Medium:"var(--dig-breakpoint__medium)",Large:"var(--dig-breakpoint__large)",XLarge:"var(--dig-breakpoint__xlarge)"},Color:{"Selection Base":"var(--dig-color__selection__base)","Selection Base - State 1":"var(--dig-color__selection__base--state-1)","Selection Base - State 2":"var(--dig-color__selection__base--state-2)","Selection On Base":"var(--dig-color__selection__on-base)","Selection Surface":"var(--dig-color__selection__surface)","Selection Surface - State 1":"var(--dig-color__selection__surface--state-1)","Selection Surface - State 2":"var(--dig-color__selection__surface--state-2)","Selection On Surface":"var(--dig-color__selection__on-surface)","Identity Yellow":"var(--dig-color__identity__yellow)","Identity On Yellow":"var(--dig-color__identity__on-yellow)","Identity Purple":"var(--dig-color__identity__purple)","Identity On Purple":"var(--dig-color__identity__on-purple)","Identity Red":"var(--dig-color__identity__red)","Identity On Red":"var(--dig-color__identity__on-red)","Identity Cyan":"var(--dig-color__identity__cyan)","Identity On Cyan":"var(--dig-color__identity__on-cyan)","Identity Magenta":"var(--dig-color__identity__magenta)","Identity On Magenta":"var(--dig-color__identity__on-magenta)","Identity Blue":"var(--dig-color__identity__blue)","Identity On Blue":"var(--dig-color__identity__on-blue)","Identity Orange":"var(--dig-color__identity__orange)","Identity On Orange":"var(--dig-color__identity__on-orange)","Identity Green":"var(--dig-color__identity__green)","Identity On Green":"var(--dig-color__identity__on-green)","Folder Closed":"var(--dig-color__folder__closed)","Folder Outside":"var(--dig-color__folder__outside)","Folder Inside":"var(--dig-color__folder__inside)","Primary CTA Base":"var(--dig-color__primary-cta__base)","Primary CTA Base - State 1":"var(--dig-color__primary-cta__base--state-1)","Primary CTA Base - State 2":"var(--dig-color__primary-cta__base--state-2)","Primary CTA On Base":"var(--dig-color__primary-cta__on-base)","Background Base":"var(--dig-color__background__base)","Background Subtle":"var(--dig-color__background__subtle)","Background Raised":"var(--dig-color__background__raised)","Text Base":"var(--dig-color__text__base)","Text Subtle":"var(--dig-color__text__subtle)","Border Base":"var(--dig-color__border__base)","Border Subtle":"var(--dig-color__border__subtle)","Border Bold":"var(--dig-color__border__bold)","Disabled Base":"var(--dig-color__disabled__base)","Disabled On Base":"var(--dig-color__disabled__on-base)","Disabled Surface":"var(--dig-color__disabled__surface)","Disabled On Surface":"var(--dig-color__disabled__on-surface)","Primary Base":"var(--dig-color__primary__base)","Primary Base - State 1":"var(--dig-color__primary__base--state-1)","Primary Base - State 2":"var(--dig-color__primary__base--state-2)","Primary On Base":"var(--dig-color__primary__on-base)","Primary Surface":"var(--dig-color__primary__surface)","Primary Surface - State 1":"var(--dig-color__primary__surface--state-1)","Primary Surface - State 2":"var(--dig-color__primary__surface--state-2)","Primary On Surface":"var(--dig-color__primary__on-surface)","Secondary Base":"var(--dig-color__secondary__base)","Secondary Base - State 1":"var(--dig-color__secondary__base--state-1)","Secondary Base - State 2":"var(--dig-color__secondary__base--state-2)","Secondary On Base":"var(--dig-color__secondary__on-base)","Secondary Surface":"var(--dig-color__secondary__surface)","Secondary Surface - State 1":"var(--dig-color__secondary__surface--state-1)","Secondary Surface - State 2":"var(--dig-color__secondary__surface--state-2)","Secondary On Surface":"var(--dig-color__secondary__on-surface)","Warning Base":"var(--dig-color__warning__base)","Warning Base - State 1":"var(--dig-color__warning__base--state-1)","Warning Base - State 2":"var(--dig-color__warning__base--state-2)","Warning On Base":"var(--dig-color__warning__on-base)","Warning Surface":"var(--dig-color__warning__surface)","Warning Surface - State 1":"var(--dig-color__warning__surface--state-1)","Warning Surface - State 2":"var(--dig-color__warning__surface--state-2)","Warning On Surface":"var(--dig-color__warning__on-surface)","Success Base":"var(--dig-color__success__base)","Success Base - State 1":"var(--dig-color__success__base--state-1)","Success Base - State 2":"var(--dig-color__success__base--state-2)","Success On Base":"var(--dig-color__success__on-base)","Success Surface":"var(--dig-color__success__surface)","Success Surface - State 1":"var(--dig-color__success__surface--state-1)","Success Surface - State 2":"var(--dig-color__success__surface--state-2)","Success On Surface":"var(--dig-color__success__on-surface)","Alert Base":"var(--dig-color__alert__base)","Alert Base - State 1":"var(--dig-color__alert__base--state-1)","Alert Base - State 2":"var(--dig-color__alert__base--state-2)","Alert On Base":"var(--dig-color__alert__on-base)","Alert Surface":"var(--dig-color__alert__surface)","Alert Surface - State 1":"var(--dig-color__alert__surface--state-1)","Alert Surface - State 2":"var(--dig-color__alert__surface--state-2)","Alert On Surface":"var(--dig-color__alert__on-surface)","Opacity Surface":"var(--dig-color__opacity__surface)","Opacity Surface - State 1":"var(--dig-color__opacity__surface--state-1)","Opacity Surface - State 2":"var(--dig-color__opacity__surface--state-2)","Shadow Elevated":"var(--dig-color__shadow__elevated)","Utility Focus Ring":"var(--dig-color__utility__focus-ring)","Utility Overlay":"var(--dig-color__utility__overlay)","Highlight Blue":"var(--dig-color__highlight__blue)","Highlight Blue - Bold":"var(--dig-color__highlight__blue--bold)","Highlight Blue - Bolder":"var(--dig-color__highlight__blue--bolder)","Highlight Purple":"var(--dig-color__highlight__purple)","Highlight Purple - Bold":"var(--dig-color__highlight__purple--bold)","Highlight Purple - Bolder":"var(--dig-color__highlight__purple--bolder)","Highlight Yellow":"var(--dig-color__highlight__yellow)","Highlight Yellow - Bold":"var(--dig-color__highlight__yellow--bold)","Highlight Yellow - Bolder":"var(--dig-color__highlight__yellow--bolder)","Highlight Red":"var(--dig-color__highlight__red)","Highlight Red - Bold":"var(--dig-color__highlight__red--bold)","Highlight Red - Bolder":"var(--dig-color__highlight__red--bolder)","Highlight Green":"var(--dig-color__highlight__green)","Highlight Green - Bold":"var(--dig-color__highlight__green--bold)","Highlight Green - Bolder":"var(--dig-color__highlight__green--bolder)","Accent Cyan":"var(--dig-color__accent__cyan)","Accent Red":"var(--dig-color__accent__red)","Accent Orange":"var(--dig-color__accent__orange)","Accent Green":"var(--dig-color__accent__green)","Accent Blue":"var(--dig-color__accent__blue)","Accent Purple":"var(--dig-color__accent__purple)","Accent Magenta":"var(--dig-color__accent__magenta)","Accent Yellow":"var(--dig-color__accent__yellow)","Accent On Accent":"var(--dig-color__accent__on-accent)","FileIcon Container":"var(--dig-color__fileicon__container)","FileIcon Shadow":"var(--dig-color__fileicon__shadow)","FileIcon Icon":"var(--dig-color__fileicon__icon)","FileIcon Icon Shadow":"var(--dig-color__fileicon__icon-shadow)","FolderIcon Container":"var(--dig-color__foldericon__container)","FolderIcon Shadow":"var(--dig-color__foldericon__shadow)","FolderIcon Icon":"var(--dig-color__foldericon__icon)","FolderIcon Icon Shadow":"var(--dig-color__foldericon__icon-shadow)","Glyph Primary":"var(--dig-color__glyph__primary)","Glyph Accent":"var(--dig-color__glyph__accent)"},Radius:{XSmall:"var(--dig-radius__xsmall)",Small:"var(--dig-radius__small)",Medium:"var(--dig-radius__medium)",Large:"var(--dig-radius__large)",XLarge:"var(--dig-radius__xlarge)",Circular:"var(--dig-radius__circular)"},Type:{bodyFontStack:"var(--dig-type__bodyfontstack)",titleFontStack:"var(--dig-type__titlefontstack)",monospaceFontStack:"var(--dig-type__monospacefontstack)",Size:{Text:{XLarge:"var(--dig-type__size__text__xlarge)",Large:"var(--dig-type__size__text__large)",Medium:"var(--dig-type__size__text__medium)",Small:"var(--dig-type__size__text__small)",XSmall:"var(--dig-type__size__text__xsmall)"},Title:{Large:"var(--dig-type__size__title__large)",Medium:"var(--dig-type__size__title__medium)",Small:"var(--dig-type__size__title__small)"},Action:{XLarge:"var(--dig-type__size__action__xlarge)",Large:"var(--dig-type__size__action__large)",Medium:"var(--dig-type__size__action__medium)",Small:"var(--dig-type__size__action__small)"}},Family:{Text:"var(--dig-type__family__text)",Title:"var(--dig-type__family__title)",Monospace:"var(--dig-type__family__monospace)",Action:"var(--dig-type__family__action)"},Weight:{Base:"var(--dig-type__weight__base)",Strong:"var(--dig-type__weight__strong)",Monospace:"var(--dig-type__weight__monospace)"},Lineheight:{Text:{XLarge:"var(--dig-type__lineheight__text__xlarge)",Large:"var(--dig-type__lineheight__text__large)",Medium:"var(--dig-type__lineheight__text__medium)",Small:"var(--dig-type__lineheight__text__small)",XSmall:"var(--dig-type__lineheight__text__xsmall)"},Title:{Large:"var(--dig-type__lineheight__title__large)",Medium:"var(--dig-type__lineheight__title__medium)",Small:"var(--dig-type__lineheight__title__small)"},Label:{XLarge:"var(--dig-type__lineheight__label__xlarge)",Large:"var(--dig-type__lineheight__label__large)",Medium:"var(--dig-type__lineheight__label__medium)",Small:"var(--dig-type__lineheight__label__small)",XSmall:"var(--dig-type__lineheight__label__xsmall)"}},Letterspacing:{Action:"var(--dig-type__letterspacing__action)"}}};function qe(e,t){return Object.keys(e).reduce(((n,i)=>({...n,[`${t} ${i}`]:e[i]})),{})}const We=Object.keys,{Spacing:He}=$e,Ke={...He.Dimension,...qe(He.Micro,"Micro"),...qe(He.Macro,"Macro")};function Ye(e){var t=e.match(/^var\((.*)\)$/);return t?t[1]:e}function Ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e.constructor();for(var o in e){var r=e[o],a=[...n,o];"string"==typeof r||"number"==typeof r||null==r?i[o]=t(r,a):"object"!=typeof r||Array.isArray(r)?console.warn('Skipping invalid key "'.concat(a.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(r)?"Array":typeof r,'"')):i[o]=Ze(r,t,a)}return i}function Je(e,t){var n={};if("object"==typeof t){var i=e;Ze(t,((e,t)=>{var o=function(e,t){var n=e;for(var i of t){if(!(i in n))throw new Error("Path ".concat(t.join(" -> ")," does not exist in object"));n=n[i]}return n}(i,t);n[Ye(o)]=String(e)}))}else{var o=e;for(var r in o)n[Ye(r)]=o[r]}return Object.defineProperty(n,"toString",{value:function(){return Object.keys(this).map((e=>"".concat(e,":").concat(this[e]))).join(";")},writable:!1}),n}const Xe={vis2020:{baseSelector:":root, .dig-Theme",baseClassName:"dig-Theme",modes:{bright:{selector:":root, .dig-Theme--bright",className:"dig-Theme--bright",classList:"dig-Theme dig-Theme--bright dig-Mode--bright",genericModeClassName:"dig-Mode--bright",genericModeSelector:".dig-Mode--bright"},dark:{selector:".dig-Theme--dark",className:"dig-Theme--dark",classList:"dig-Theme dig-Theme--dark dig-Mode--dark",genericModeClassName:"dig-Mode--dark",genericModeSelector:".dig-Mode--dark"}}},vis2023:{baseSelector:".dig-Theme-vis2023",baseClassName:"dig-Theme-vis2023",modes:{bright:{selector:".dig-Theme-vis2023--bright",className:"dig-Theme-vis2023--bright",classList:"dig-Theme-vis2023 dig-Theme-vis2023--bright dig-Mode--bright",genericModeClassName:"dig-Mode--bright",genericModeSelector:".dig-Mode--bright"},dark:{selector:".dig-Theme-vis2023--dark",className:"dig-Theme-vis2023--dark",classList:"dig-Theme-vis2023 dig-Theme-vis2023--dark dig-Mode--dark",genericModeClassName:"dig-Mode--dark",genericModeSelector:".dig-Mode--dark"}}}},Qe={"Foundation Gold 50":"#f9f6f0","Foundation Gold 100":"#f1e8d8","Foundation Gold 150":"#eadabd","Foundation Gold 200":"#e4cd9f","Foundation Gold 250":"#dfbd7d","Foundation Gold 300":"#dcaf57","Foundation Gold 350":"#dc9e29","Foundation Gold 400":"#ce911e","Foundation Gold 450":"#bf8519","Foundation Gold 500":"#b17914","Foundation Gold 550":"#a26f10","Foundation Gold 600":"#93640c","Foundation Gold 650":"#845909","Foundation Gold 700":"#764f07","Foundation Gold 750":"#684505","Foundation Gold 800":"#593a03","Foundation Gold 850":"#4c3102","Foundation Gold 900":"#3e2801","Foundation Gold 950":"#311f00","Foundation Gold 1000":"#241700","Foundation Gold Base":"#9b6400","Foundation Azalea 50":"#fcf4f8","Foundation Azalea 100":"#f8e4ee","Foundation Azalea 150":"#f3d3e3","Foundation Azalea 200":"#efc2d9","Foundation Azalea 250":"#ebb2ce","Foundation Azalea 300":"#e6a1c3","Foundation Azalea 350":"#e28fb9","Foundation Azalea 400":"#de7eae","Foundation Azalea 450":"#da6ba2","Foundation Azalea 500":"#d55796","Foundation Azalea 550":"#d04188","Foundation Azalea 600":"#c3307a","Foundation Azalea 650":"#b02b6d","Foundation Azalea 700":"#9d2561","Foundation Azalea 750":"#892055","Foundation Azalea 800":"#771c4a","Foundation Azalea 850":"#66173f","Foundation Azalea 900":"#531333","Foundation Azalea 950":"#410f28","Foundation Azalea 1000":"#310b1e","Foundation Azalea Base":"#cd2f7b","Foundation Plum 50":"#f9f5f8","Foundation Plum 100":"#f1e6ee","Foundation Plum 150":"#e8d6e4","Foundation Plum 200":"#e1c8db","Foundation Plum 250":"#d9b9d2","Foundation Plum 300":"#d2a9c9","Foundation Plum 350":"#cc99c1","Foundation Plum 400":"#c689ba","Foundation Plum 450":"#bf78b2","Foundation Plum 500":"#ba67ab","Foundation Plum 550":"#b456a3","Foundation Plum 600":"#a74898","Foundation Plum 650":"#983f8a","Foundation Plum 700":"#89367c","Foundation Plum 750":"#792e6e","Foundation Plum 800":"#682760","Foundation Plum 850":"#592051","Foundation Plum 900":"#491944","Foundation Plum 950":"#3a1336","Foundation Plum 1000":"#2b0e28","Foundation Plum Base":"#78286e","Foundation Navy 50":"#f6f6f7","Foundation Navy 100":"#e8e9ec","Foundation Navy 150":"#dbdce1","Foundation Navy 200":"#ceced7","Foundation Navy 250":"#c0c1cd","Foundation Navy 300":"#b3b4c4","Foundation Navy 350":"#a5a8bb","Foundation Navy 400":"#979cb3","Foundation Navy 450":"#8a90ac","Foundation Navy 500":"#7c83a4","Foundation Navy 550":"#6e789d","Foundation Navy 600":"#606c93","Foundation Navy 650":"#556085","Foundation Navy 700":"#4a5678","Foundation Navy 750":"#3f4c6a","Foundation Navy 800":"#35415c","Foundation Navy 850":"#2b374d","Foundation Navy 900":"#222d40","Foundation Navy 950":"#1b2433","Foundation Navy 1000":"#131a25","Foundation Navy Base":"#283750","Foundation Canopy 50":"#f4f7f6","Foundation Canopy 100":"#e2ece8","Foundation Canopy 150":"#cfe0da","Foundation Canopy 200":"#b8d6cc","Foundation Canopy 250":"#9fcbbd","Foundation Canopy 300":"#83c3ad","Foundation Canopy 350":"#60ba9c","Foundation Canopy 400":"#45ae8b","Foundation Canopy 450":"#3ca280","Foundation Canopy 500":"#349574","Foundation Canopy 550":"#2c8769","Foundation Canopy 600":"#267b5e","Foundation Canopy 650":"#206f54","Foundation Canopy 700":"#1b634b","Foundation Canopy 750":"#175641","Foundation Canopy 800":"#124b38","Foundation Canopy 850":"#0f3f2f","Foundation Canopy 900":"#0b3326","Foundation Canopy 950":"#09291e","Foundation Canopy 1000":"#061e16","Foundation Canopy Base":"#0f503c","Foundation Rust 50":"#fbf5f2","Foundation Rust 100":"#f6e6de","Foundation Rust 150":"#f0d7c9","Foundation Rust 200":"#ecc8b5","Foundation Rust 250":"#e8b79e","Foundation Rust 300":"#e5a887","Foundation Rust 350":"#e29770","Foundation Rust 400":"#e08555","Foundation Rust 450":"#de7338","Foundation Rust 500":"#d86120","Foundation Rust 550":"#c5581b","Foundation Rust 600":"#b44f16","Foundation Rust 650":"#a14612","Foundation Rust 700":"#903e0e","Foundation Rust 750":"#7f360b","Foundation Rust 800":"#6d2e09","Foundation Rust 850":"#5e2707","Foundation Rust 900":"#4d1f05","Foundation Rust 950":"#3d1803","Foundation Rust 1000":"#2d1202","Foundation Rust Base":"#be4b0a","Foundation Crimson 50":"#fbf5f7","Foundation Crimson 100":"#f5e5eb","Foundation Crimson 150":"#f1d6de","Foundation Crimson 200":"#ecc5d2","Foundation Crimson 250":"#e9b5c6","Foundation Crimson 300":"#e5a3b9","Foundation Crimson 350":"#e392ac","Foundation Crimson 400":"#e17f9f","Foundation Crimson 450":"#df6a91","Foundation Crimson 500":"#de5380","Foundation Crimson 550":"#de346b","Foundation Crimson 600":"#d21c57","Foundation Crimson 650":"#c0154c","Foundation Crimson 700":"#ab1042","Foundation Crimson 750":"#970b38","Foundation Crimson 800":"#85072f","Foundation Crimson 850":"#720427","Foundation Crimson 900":"#600220","Foundation Crimson 950":"#4e0119","Foundation Crimson 1000":"#3c0013","Foundation Crimson Base":"#9b0032","Foundation Ocean 50":"#f1f8f9","Foundation Ocean 100":"#d9eef0","Foundation Ocean 150":"#bde3e9","Foundation Ocean 200":"#a0d9e2","Foundation Ocean 250":"#7bd0dd","Foundation Ocean 300":"#4cc6da","Foundation Ocean 350":"#22b9d3","Foundation Ocean 400":"#1cacc5","Foundation Ocean 450":"#179eb7","Foundation Ocean 500":"#1392a9","Foundation Ocean 550":"#0f849a","Foundation Ocean 600":"#0c778c","Foundation Ocean 650":"#096b7e","Foundation Ocean 700":"#075f71","Foundation Ocean 750":"#055463","Foundation Ocean 800":"#034855","Foundation Ocean 850":"#023d48","Foundation Ocean 900":"#01323b","Foundation Ocean 950":"#002730","Foundation Ocean 1000":"#001d23","Foundation Ocean Base":"#007891","Foundation Vivid Vargas 50":"#fef6dc","Foundation Vivid Vargas 100":"#fbe8ae","Foundation Vivid Vargas 150":"#f5db84","Foundation Vivid Vargas 200":"#eecc5d","Foundation Vivid Vargas 250":"#e6bd3b","Foundation Vivid Vargas 300":"#dcaf21","Foundation Vivid Vargas 350":"#cca421","Foundation Vivid Vargas 400":"#bd9820","Foundation Vivid Vargas 450":"#ae8c1f","Foundation Vivid Vargas 500":"#9f811e","Foundation Vivid Vargas 550":"#91761d","Foundation Vivid Vargas 600":"#836b1c","Foundation Vivid Vargas 650":"#755f1a","Foundation Vivid Vargas 700":"#675418","Foundation Vivid Vargas 750":"#5a4a16","Foundation Vivid Vargas 800":"#4d3f14","Foundation Vivid Vargas 850":"#413511","Foundation Vivid Vargas 900":"#352b0f","Foundation Vivid Vargas 950":"#2a220c","Foundation Vivid Vargas 1000":"#1e1909","Foundation Vivid Vargas Base":"#fad24b","Foundation Pink 50":"#fff4f3","Foundation Pink 100":"#fee3e1","Foundation Pink 150":"#fdd2cf","Foundation Pink 200":"#fbc2bc","Foundation Pink 250":"#f8b0aa","Foundation Pink 300":"#f49f97","Foundation Pink 350":"#f08e85","Foundation Pink 400":"#e97e73","Foundation Pink 450":"#e26d62","Foundation Pink 500":"#d95e52","Foundation Pink 550":"#ce4e42","Foundation Pink 600":"#bd4438","Foundation Pink 650":"#a64137","Foundation Pink 700":"#8f3d35","Foundation Pink 750":"#783932","Foundation Pink 800":"#64332e","Foundation Pink 850":"#512d29","Foundation Pink 900":"#3f2623","Foundation Pink 950":"#2f1e1d","Foundation Pink 1000":"#211716","Foundation Pink Base":"#ffafa5","Foundation Orchid 50":"#f8f5fd","Foundation Orchid 100":"#ede6f9","Foundation Orchid 150":"#e3d7f6","Foundation Orchid 200":"#d8c8f1","Foundation Orchid 250":"#ccb9ec","Foundation Orchid 300":"#c1ace7","Foundation Orchid 350":"#b69de1","Foundation Orchid 400":"#ab90db","Foundation Orchid 450":"#9f82d4","Foundation Orchid 500":"#9474cc","Foundation Orchid 550":"#8867c4","Foundation Orchid 600":"#7c5aba","Foundation Orchid 650":"#714eb1","Foundation Orchid 700":"#624894","Foundation Orchid 750":"#55417b","Foundation Orchid 800":"#483a65","Foundation Orchid 850":"#3c3151","Foundation Orchid 900":"#30293f","Foundation Orchid 950":"#25202f","Foundation Orchid 1000":"#1b1821","Foundation Orchid Base":"#c8aff0","Foundation Cloud 50":"#f4f7fa","Foundation Cloud 100":"#e3ebf2","Foundation Cloud 150":"#d2dee9","Foundation Cloud 200":"#c2d1e1","Foundation Cloud 250":"#b2c4d7","Foundation Cloud 300":"#a3b8ce","Foundation Cloud 350":"#94acc3","Foundation Cloud 400":"#86a0ba","Foundation Cloud 450":"#7894af","Foundation Cloud 500":"#6a88a5","Foundation Cloud 550":"#5f7b98","Foundation Cloud 600":"#576f88","Foundation Cloud 650":"#506478","Foundation Cloud 700":"#485969","Foundation Cloud 750":"#404d5b","Foundation Cloud 800":"#38434d","Foundation Cloud 850":"#2f3740","Foundation Cloud 900":"#272d34","Foundation Cloud 950":"#1f2428","Foundation Cloud 1000":"#171a1d","Foundation Cloud Base":"#b4c8e1","Foundation Lime 50":"#f3fadc","Foundation Lime 100":"#dff29f","Foundation Lime 150":"#caea5b","Foundation Lime 200":"#b4df1c","Foundation Lime 250":"#aad11a","Foundation Lime 300":"#9fc418","Foundation Lime 350":"#93b516","Foundation Lime 400":"#89a914","Foundation Lime 450":"#7f9b12","Foundation Lime 500":"#748e11","Foundation Lime 550":"#6a830f","Foundation Lime 600":"#60750e","Foundation Lime 650":"#56690c","Foundation Lime 700":"#4c5d0b","Foundation Lime 750":"#435109","Foundation Lime 800":"#3a4608","Foundation Lime 850":"#313c07","Foundation Lime 900":"#283105","Foundation Lime 950":"#1f2604","Foundation Lime 1000":"#171c03","Foundation Lime Base":"#b4dc19","Foundation Tangerine 50":"#fff5eb","Foundation Tangerine 100":"#ffe5cc","Foundation Tangerine 150":"#fed5ac","Foundation Tangerine 200":"#fdc58c","Foundation Tangerine 250":"#fbb36b","Foundation Tangerine 300":"#f9a34b","Foundation Tangerine 350":"#f69129","Foundation Tangerine 400":"#ef800c","Foundation Tangerine 450":"#dc760c","Foundation Tangerine 500":"#c96d0c","Foundation Tangerine 550":"#b7630c","Foundation Tangerine 600":"#a65a0c","Foundation Tangerine 650":"#94510b","Foundation Tangerine 700":"#82480a","Foundation Tangerine 750":"#723f09","Foundation Tangerine 800":"#623609","Foundation Tangerine 850":"#522e07","Foundation Tangerine 900":"#432606","Foundation Tangerine 950":"#351e05","Foundation Tangerine 1000":"#271604","Foundation Tangerine Base":"#ff8c19","Foundation Sunset 50":"#fff4f1","Foundation Sunset 100":"#ffe4dc","Foundation Sunset 150":"#fed3c6","Foundation Sunset 200":"#fec0af","Foundation Sunset 250":"#fdaf9a","Foundation Sunset 300":"#fb9d83","Foundation Sunset 350":"#f98a6b","Foundation Sunset 400":"#f77751","Foundation Sunset 450":"#f46135","Foundation Sunset 500":"#f04715","Foundation Sunset 550":"#dd3f10","Foundation Sunset 600":"#c83a0f","Foundation Sunset 650":"#b3350f","Foundation Sunset 700":"#9d300e","Foundation Sunset 750":"#892b0d","Foundation Sunset 800":"#76260c","Foundation Sunset 850":"#63200b","Foundation Sunset 900":"#511b09","Foundation Sunset 950":"#401608","Foundation Sunset 1000":"#2f1006","Foundation Sunset Base":"#fa551e","Foundation Zen 50":"#e8fafd","Foundation Zen 100":"#c1f2fa","Foundation Zen 150":"#99e8f6","Foundation Zen 200":"#6edff2","Foundation Zen 250":"#3dd3ee","Foundation Zen 300":"#14c6e7","Foundation Zen 350":"#13b9d7","Foundation Zen 400":"#12acc8","Foundation Zen 450":"#109eb8","Foundation Zen 500":"#0f92aa","Foundation Zen 550":"#0e849a","Foundation Zen 600":"#0c788b","Foundation Zen 650":"#0b6c7d","Foundation Zen 700":"#0a6070","Foundation Zen 750":"#095462","Foundation Zen 800":"#074854","Foundation Zen 850":"#063c47","Foundation Zen 900":"#05313a","Foundation Zen 950":"#04282e","Foundation Zen 1000":"#031d22","Foundation Zen Base":"#14c8eb","Foundation Gray 50":"#f7f6f5","Foundation Gray 100":"#ebe9e6","Foundation Gray 150":"#dfdcd8","Foundation Gray 200":"#d3cec9","Foundation Gray 250":"#c7c1bb","Foundation Gray 300":"#bbb5ae","Foundation Gray 350":"#afa8a0","Foundation Gray 400":"#a49b93","Foundation Gray 450":"#978f86","Foundation Gray 500":"#8c8279","Foundation Gray 550":"#7f776f","Foundation Gray 600":"#736c64","Foundation Gray 650":"#67615a","Foundation Gray 700":"#5b5650","Foundation Gray 750":"#4f4a46","Foundation Gray 800":"#44403d","Foundation Gray 850":"#393633","Foundation Gray 900":"#2d2b29","Foundation Gray 950":"#242321","Foundation Gray 1000":"#1a1918","Foundation Gray Base":"#d9d4cc","Foundation Brand Graphite":"#1e1919","Foundation Brand Coconut":"#f7f5f2","Foundation Dropbox Bluenight":"#3984ff","Foundation Dropbox Blue 50":"#f2f7ff","Foundation Dropbox Blue 100":"#deebff","Foundation Dropbox Blue 150":"#c9ddff","Foundation Dropbox Blue 200":"#b4d1ff","Foundation Dropbox Blue 250":"#a0c4ff","Foundation Dropbox Blue 300":"#8bb7ff","Foundation Dropbox Blue 350":"#75aaff","Foundation Dropbox Blue 400":"#5f9dff","Foundation Dropbox Blue 450":"#488eff","Foundation Dropbox Blue 500":"#3080ff","Foundation Dropbox Blue 550":"#1770ff","Foundation Dropbox Blue 600":"#0061fa","Foundation Dropbox Blue 650":"#0057e0","Foundation Dropbox Blue 700":"#004dc7","Foundation Dropbox Blue 750":"#0044af","Foundation Dropbox Blue 800":"#003a97","Foundation Dropbox Blue 850":"#003280","Foundation Dropbox Blue 900":"#002969","Foundation Dropbox Blue 950":"#002053","Foundation Dropbox Blue 1000":"#00183e","Foundation Dropbox Blue Base":"#0061fe","Foundation Anchor Black":"#000000","Foundation Anchor White":"#ffffff"},et=N.createContext({mode:null,theme:null}),tt="vis2020",nt=e=>{const{theme:t,mode:n,isInverse:i,additionalClass:o}=e,r=i?it(n):n;return ue(Xe[t].modes[r].classList,"In-Theme-Provider",o,{"dig-Theme--cancel-inverse":i})},it=e=>"bright"===e?"dark":"bright",{Type:ot}=$e,rt={...ot,Size:{...qe(ot.Size.Text,"Text"),...qe(ot.Size.Title,"Title")},Lineheight:{...qe(ot.Lineheight.Text,"Text"),...qe(ot.Lineheight.Title,"Title"),...qe(ot.Lineheight.Label,"Label")}},at={...$e,Spacing:Ke,Type:rt,Motion:{Easing:{Linear:"linear",Enter:"cubic-bezier(0, 0.6, 0, 1)",Leave:"cubic-bezier(1, 0, 1, 0.5)",Transition:"cubic-bezier(0.66, 0, 0, 1)"},Duration:{None:"0s",Fast:"125ms",Medium:"333ms",Slow:"708ms"}}},st=[Xe.vis2020.modes.dark.selector,".dig-Mode--dark"],ct=()=>{if("undefined"==typeof document)return"bright";return document.documentElement.matches(st.join(","))?"dark":"bright"},lt=()=>{if("undefined"==typeof document)return tt;return document.documentElement.classList.contains(Xe.vis2023.baseClassName)?"vis2023":"vis2020"},dt=()=>{const{theme:e,mode:t,additionalClass:n,overrides:i}=N.useContext(et),o=!(!e||!t),{globalTheme:r,globalMode:a}=((e=!0)=>{const[t,n]=N.useState(ct()),[i,o]=N.useState(lt());return N.useEffect((()=>{function r(){t!==ct()&&n(ct()),i!==lt()&&o(lt())}if(e){const e=new MutationObserver(r);return e.observe(document.documentElement,{attributes:!0}),r(),()=>{e.disconnect()}}}),[t,i,e]),{globalMode:t,globalTheme:i}})(!o),s=e||r||tt,c=t||a,l=nt({theme:s,mode:c,additionalClass:n}),d=nt({theme:s,mode:c,isInverse:!0,additionalClass:n}),u=mt({themeOverrides:i,mode:c}),m=mt({themeOverrides:i,mode:c,isInverse:!0});return N.useMemo((()=>(({theme:e,mode:t,className:n,inverseClassName:i,styles:o,inverseStyles:r})=>({hasThemeOverrides:!(!o||!r),mode:t,theme:e,getThemeProps:e=>({...e,className:ue(e&&e.className,n),...((null==e?void 0:e.style)||o)&&{style:{...null==e?void 0:e.style,...o}}}),getInverseProps:e=>({...e,className:ue(e&&e.className,i),...((null==e?void 0:e.style)||r)&&{style:{...null==e?void 0:e.style,...r}}})}))({theme:s,mode:c,className:l,inverseClassName:d,styles:u,inverseStyles:m})),[s,c,l,d,u,m])};function ut(e){return e.startsWith("Foundation")}const mt=({themeOverrides:e,mode:t,isInverse:n=!1})=>N.useMemo((()=>{if(!e||!t||"reset"===e)return;const{colors:i}=e;let o={};for(const e of We(i)){const r=i[e];if(!r)continue;let a=r[n?it(t):t];ut(a)&&(a=Qe[a]);const s=at.Color[e];a&&(o={...o,...Je({[s]:a})})}return o}),[e,t,n]);N.forwardRef((({children:e,className:t,href:n,onClick:i,inverse:o=!1,hasNoUnderline:r=!1,isBold:a=!1,variant:s="primary",...c},l)=>{const d=dt().getInverseProps().className,u=ue("dig-Link",t,{"dig-Link--primary":"primary"===s&&!o,"dig-Link--hasNoUnderline":r,"dig-Link--isBold":a,[d]:o}),m={onClick:i};switch(typeof n){case"string":m.href=n;break;case"function":m.href="#",m.onClick=e=>{e.preventDefault(),n(e),i&&i(e)}}return N.createElement("a",{className:u,ref:l,...m,...c},e)})).displayName="Link";var pt=[["medium","standard"]],ft=e=>{const t=pt.find((([t,n])=>e===t));return void 0!==t?t[1]:e},gt=N.forwardRef((({variant:e="paragraph",tagName:t="span",children:n,className:i,color:o="standard",size:r="standard",isBold:a=!1,inverse:s=!1,monospace:c=!1,_withoutLineHeight:l,_withoutWrap:d,...u},m)=>{const p=(e=>{const t=pt.find((([t,n])=>e===n));return void 0!==t?t[0]:e})(r),f=dt().getInverseProps().className,g=ue("dig-Text",`dig-Text--variant-${e}`,`dig-Text--size-${ft(p)}`,`dig-Text--color-${o}`,{[f]:s,"dig-Text--isBold":a,"dig-Text--withoutLineheight":l,"dig-Text--withoutWrap":d,"dig-Text--monospace":c},i);return N.createElement(t,{ref:m,className:g,...u},n)}));gt.displayName="Text";var ht=({tagName:e="h2",children:t,className:n,color:i="standard",size:o="standard",isBold:r=!1,inverse:a=!1,weightVariant:s="normal",...c})=>{const l=dt().getInverseProps().className,d=ue("dig-Title",`dig-Title--size-${ft(o)}`,`dig-Title--color-${i}`,{"dig-Title--isBold":r,"dig-Title--isEmphasized":"emphasized"===s,[l]:a},n);return N.createElement(e,{className:d,...c},t)};function _t(e,t){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_t(e,t)}ht.displayName="Title",l.commonjsGlobal,function(){function e(e){var t=!0,n=!1,i=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function r(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function a(e){var t=e.type,n=e.tagName;return!("INPUT"!=n||!o[t]||e.readOnly)||"TEXTAREA"==n&&!e.readOnly||!!e.isContentEditable}function s(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function c(e){e.hasAttribute("data-focus-visible-added")&&(e.classList.remove("focus-visible"),e.removeAttribute("data-focus-visible-added"))}function l(n){n.metaKey||n.altKey||n.ctrlKey||(r(e.activeElement)&&s(e.activeElement),t=!0)}function d(e){t=!1}function u(e){r(e.target)&&(t||a(e.target))&&s(e.target)}function m(e){r(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(i),i=window.setTimeout((function(){n=!1,window.clearTimeout(i)}),100),c(e.target))}function p(e){"hidden"==document.visibilityState&&(n&&(t=!0),f())}function f(){document.addEventListener("mousemove",h),document.addEventListener("mousedown",h),document.addEventListener("mouseup",h),document.addEventListener("pointermove",h),document.addEventListener("pointerdown",h),document.addEventListener("pointerup",h),document.addEventListener("touchmove",h),document.addEventListener("touchstart",h),document.addEventListener("touchend",h)}function g(){document.removeEventListener("mousemove",h),document.removeEventListener("mousedown",h),document.removeEventListener("mouseup",h),document.removeEventListener("pointermove",h),document.removeEventListener("pointerdown",h),document.removeEventListener("pointerup",h),document.removeEventListener("touchmove",h),document.removeEventListener("touchstart",h),document.removeEventListener("touchend",h)}function h(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,g())}document.addEventListener("keydown",l,!0),document.addEventListener("mousedown",d,!0),document.addEventListener("pointerdown",d,!0),document.addEventListener("touchstart",d,!0),document.addEventListener("visibilitychange",p,!0),f(),e.addEventListener("focus",u,!0),e.addEventListener("blur",m,!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&document.documentElement.classList.add("js-focus-visible")}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}();var vt=!1,bt=N.default.createContext(null),yt="unmounted",Et="exited",wt="entering",St="entered",Ct="exiting",Tt=function(e){var t,n;function i(t,n){var i;i=e.call(this,t,n)||this;var o,r=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?r?(o=Et,i.appearStatus=wt):o=St:o=t.unmountOnExit||t.mountOnEnter?yt:Et,i.state={status:o},i.nextCallback=null,i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,_t(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===yt?{status:Et}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==wt&&n!==St&&(t=wt):n!==wt&&n!==St||(t=Ct)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=k.default.findDOMNode(this);t===wt?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===Et&&this.setState({status:yt})},o.performEnter=function(e,t){var n=this,i=this.props.enter,o=this.context?this.context.isMounting:t,r=this.getTimeouts(),a=o?r.appear:r.enter;!t&&!i||vt?this.safeSetState({status:St},(function(){n.props.onEntered(e)})):(this.props.onEnter(e,o),this.safeSetState({status:wt},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:St},(function(){n.props.onEntered(e,o)}))}))})))},o.performExit=function(e){var t=this,n=this.props.exit,i=this.getTimeouts();n&&!vt?(this.props.onExit(e),this.safeSetState({status:Ct},(function(){t.props.onExiting(e),t.onTransitionEnd(e,i.exit,(function(){t.safeSetState({status:Et},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:Et},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var i=null==t&&!this.props.addEndListener;e&&!i?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===yt)return null;var t=this.props,n=t.children,i=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"==typeof n)return N.default.createElement(bt.Provider,{value:null},n(e,i));var o=N.default.Children.only(n);return N.default.createElement(bt.Provider,{value:null},N.default.cloneElement(o,i))},i}(N.default.Component);function xt(){}Tt.contextType=bt,Tt.propTypes={},Tt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xt,onEntering:xt,onEntered:xt,onExit:xt,onExiting:xt,onExited:xt},Tt.UNMOUNTED=0,Tt.EXITED=1,Tt.ENTERING=2,Tt.ENTERED=3,Tt.EXITING=4;var Nt,kt=Tt,Ot=[["medium","standard"]],It=e=>{const t=Ot.find((([t,n])=>e===t));return void 0!==t?t[1]:e},At=()=>N.createElement("svg",{className:"dig-Spinner--track",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false","data-testid":"digSpinnerTrack"},N.createElement("rect",{fill:"none",strokeLinecap:"square",strokeWidth:"6",x:"3",y:"3",width:"18",height:"18"})),Rt=({"aria-valuetext":e,className:t,withTrack:n=!0,inverse:i,size:o="medium",monochromatic:r=!1,hasOpaqueTrack:a=!1,...s})=>{const c=(e=>{const t=Ot.find((([t,n])=>e===n));return void 0!==t?t[0]:e})(o),l=dt().getInverseProps().className;return N.createElement("div",{role:"progressbar","aria-valuetext":e,className:ue("dig-Spinner",t,`dig-Spinner--${It(c)}`,{[l]:i,"dig-Spinner--monochromatic":r,"dig-Spinner--hasOpaqueTrack":a}),...s},N.createElement("div",{className:"dig-Spinner-content"},n&&N.createElement(At,null),N.createElement("div",{className:"dig-Spinner-dot dig-Spinner-dot--one"}),N.createElement("div",{className:"dig-Spinner-dot dig-Spinner-dot--two"})))},Ft="undefined"!=typeof window&&"undefined"!=typeof navigator&&"undefined"!=typeof document?n.useLayoutEffect:n.useEffect,Lt=[],Mt="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Nt||(Nt={}));var Pt,Dt=function(e){return Object.freeze(e)},Bt=function(e,t){this.inlineSize=e,this.blockSize=t,Dt(this)},Ut=function(){function e(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Dt(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),zt=function(e){return e instanceof SVGElement&&"getBBox"in e},Gt=function(e){if(zt(e)){var t=e.getBBox(),n=t.width,i=t.height;return!n&&!i}var o=e,r=o.offsetWidth,a=o.offsetHeight;return!(r||a||e.getClientRects().length)},jt=function(e){var t,n;if(e instanceof Element)return!0;var i=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(i&&e instanceof i.Element)},Vt="undefined"!=typeof window?window:{},$t=new WeakMap,qt=/auto|scroll/,Wt=/^tb|vertical/,Ht=/msie|trident/i.test(Vt.navigator&&Vt.navigator.userAgent),Kt=function(e){return parseFloat(e||"0")},Yt=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new Bt((n?t:e)||0,(n?e:t)||0)},Zt=Dt({devicePixelContentBoxSize:Yt(),borderBoxSize:Yt(),contentBoxSize:Yt(),contentRect:new Ut(0,0,0,0)}),Jt=function(e,t){if(void 0===t&&(t=!1),$t.has(e)&&!t)return $t.get(e);if(Gt(e))return $t.set(e,Zt),Zt;var n=getComputedStyle(e),i=zt(e)&&e.ownerSVGElement&&e.getBBox(),o=!Ht&&"border-box"===n.boxSizing,r=Wt.test(n.writingMode||""),a=!i&&qt.test(n.overflowY||""),s=!i&&qt.test(n.overflowX||""),c=i?0:Kt(n.paddingTop),l=i?0:Kt(n.paddingRight),d=i?0:Kt(n.paddingBottom),u=i?0:Kt(n.paddingLeft),m=i?0:Kt(n.borderTopWidth),p=i?0:Kt(n.borderRightWidth),f=i?0:Kt(n.borderBottomWidth),g=u+l,h=c+d,_=(i?0:Kt(n.borderLeftWidth))+p,v=m+f,b=s?e.offsetHeight-v-e.clientHeight:0,y=a?e.offsetWidth-_-e.clientWidth:0,E=o?g+_:0,w=o?h+v:0,S=i?i.width:Kt(n.width)-E-y,C=i?i.height:Kt(n.height)-w-b,T=S+g+y+_,x=C+h+b+v,N=Dt({devicePixelContentBoxSize:Yt(Math.round(S*devicePixelRatio),Math.round(C*devicePixelRatio),r),borderBoxSize:Yt(T,x,r),contentBoxSize:Yt(S,C,r),contentRect:new Ut(u,c,S,C)});return $t.set(e,N),N},Xt=function(e,t,n){var i=Jt(e,n),o=i.borderBoxSize,r=i.contentBoxSize,a=i.devicePixelContentBoxSize;switch(t){case Nt.DEVICE_PIXEL_CONTENT_BOX:return a;case Nt.BORDER_BOX:return o;default:return r}},Qt=function(e){var t=Jt(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=Dt([t.borderBoxSize]),this.contentBoxSize=Dt([t.contentBoxSize]),this.devicePixelContentBoxSize=Dt([t.devicePixelContentBoxSize])},en=function(e){if(Gt(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},tn=function(){var e=1/0,t=[];Lt.forEach((function(n){if(0!==n.activeTargets.length){var i=[];n.activeTargets.forEach((function(t){var n=new Qt(t.target),o=en(t.target);i.push(n),t.lastReportedSize=Xt(t.target,t.observedBox),o<e&&(e=o)})),t.push((function(){n.callback.call(n.observer,i,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,i=t;n<i.length;n++){(0,i[n])()}return e},nn=function(e){Lt.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(en(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},on=function(){var e,t=0;for(nn(t);Lt.some((function(e){return e.activeTargets.length>0}));)t=tn(),nn(t);return Lt.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:Mt}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=Mt),window.dispatchEvent(e)),t>0},rn=[],an=function(e){if(!Pt){var t=0,n=document.createTextNode("");new MutationObserver((function(){return rn.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),Pt=function(){n.textContent=""+(t?t--:t++)}}rn.push(e),Pt()},sn=0,cn={attributes:!0,characterData:!0,childList:!0,subtree:!0},ln=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],dn=function(e){return void 0===e&&(e=0),Date.now()+e},un=!1,mn=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!un){un=!0;var n,i=dn(e);n=function(){var n=!1;try{n=on()}finally{if(un=!1,e=i-dn(),!sn)return;n?t.run(1e3):e>0?t.run(e):t.start()}},an((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,cn)};document.body?t():Vt.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ln.forEach((function(t){return Vt.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),ln.forEach((function(t){return Vt.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),pn=function(e){!sn&&e>0&&mn.start(),!(sn+=e)&&mn.stop()},fn=function(){function e(e,t){this.target=e,this.observedBox=t||Nt.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=Xt(this.target,this.observedBox,!0);return e=this.target,zt(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),gn=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},hn=new WeakMap,_n=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},vn=function(){function e(){}return e.connect=function(e,t){var n=new gn(e,t);hn.set(e,n)},e.observe=function(e,t,n){var i=hn.get(e),o=0===i.observationTargets.length;_n(i.observationTargets,t)<0&&(o&&Lt.push(i),i.observationTargets.push(new fn(t,n&&n.box)),pn(1),mn.schedule())},e.unobserve=function(e,t){var n=hn.get(e),i=_n(n.observationTargets,t),o=1===n.observationTargets.length;i>=0&&(o&&Lt.splice(Lt.indexOf(n),1),n.observationTargets.splice(i,1),pn(-1))},e.disconnect=function(e){var t=this,n=hn.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),bn=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");vn.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!jt(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");vn.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!jt(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");vn.unobserve(this,e)},e.prototype.disconnect=function(){vn.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),yn=e=>`${e}:not([tabindex="-1"])`,En=" ",wn="ArrowUp",Sn="ArrowDown",Cn=-2,Tn=e=>Array.prototype.concat.apply([],[["button",'[role="button"]','[role="link"]',"[href]"].map(yn),["select","textarea",'[role="textbox"]'].map(yn),e,['[tabindex]:not([tabindex="-1"])']]).join(","),xn=(e,t)=>void 0!==e[1].index&&void 0!==t[1].index?e[1].index-t[1].index:-1,Nn=(e,t)=>{let n;switch(t.type){case"UPDATE_ROW":const i=new Map(e.menuRows);i.set(t.payload.key,t.payload.value),n=void 0!==t.payload.value.index?{menuRows:new Map(Array.from(i.entries()).sort(xn))}:{menuRows:i};break;case"REMOVE_ROW":const o=new Map(e.menuRows);o.delete(t.payload.key),n={menuRows:o};break;case"SET_SELECTED_INDEX":n={selectedIndex:t.payload.index};break;case"SET_FOCUS_INDEX":n={focusIndex:t.payload.index}}return{...e,...n}},kn={menuRows:new Map,selectedIndex:Cn,focusIndex:Cn},On=()=>({items:new Map,selectedIndex:Cn,setSelectedIndex:()=>!1,addRow:()=>!1,removeRow:()=>!1,updateRow:()=>!1,shouldFocusDisabledRows:!0,focusIndex:Cn,setFocusIndex:()=>!1}),In=(e,t,n=!1)=>{let i=Cn,o=!1;const r=Array.from(e.keys());for(let a=r.length-1;a>=0;a--){const s=r[a];if(o){if(e.has(s)&&e.get(s).focusable){i=a;break}}else if(a===t&&(o=!0,n))return e.get(s).focusable?a:An(e,a-1,!0)}return i},An=(e,t,n=!1)=>{let i=Cn,o=!1;const r=Array.from(e.keys());for(let a=0;a<r.length;a++){const s=r[a];if(o){if(e.has(s)&&e.get(s).focusable){i=a;break}}else if(a===t&&(o=!0,n))return e.get(s).focusable?a:An(e,a+1,!0)}return i},Rn=(e,t)=>{if(t<e.size){return-1===t?e.size-1:t}return t},Fn=(e,t)=>{let n=In(e,t);return n===Cn&&(n=In(e,e.size-1,!0)),Rn(e,n)},Ln=(e,t)=>{let n=An(e,t);return n===Cn&&(n=An(e,0,!0)),Rn(e,n)},Mn=(e,t,n,i=n,o=!1)=>{let r=Cn;const a=t.toLowerCase(),s=Array.from(e.values());for(let e=i;e<s.length;e++)if(s[e].focusable&&s[e].textContent.toLowerCase().startsWith(a)){if(o)return e;if(e!==i){r=e;break}}if(r===Cn){if(o)return n;r=Mn(e,t,n,0,!0)}return Rn(e,r)},Pn=(e,t)=>e.has(t),Dn=(e,t)=>{const n=()=>{e.current&&"focus"in e.current&&e.current.focus({preventScroll:!0})};"number"==typeof t?setTimeout((()=>{n()}),t):n()},Bn=(e,t,n=0)=>{setTimeout((()=>{(()=>{const n=Rn(e,t),i=Array.from(e.keys())[n];i&&"focus"in i&&i.focus()})()}),n)},Un=e=>!!e&&"A"===e.tagName,zn=(e,t)=>{const n=N.useRef(!1);N.useEffect((()=>{n.current?e():n.current=!0}),t)},Gn={open:!1,value:"",performCloseMenu:!1,triggeredByKey:!1,shouldTriggerClick:!0,autoFocusItem:Cn,isFocusing:!1};function jn(e,t){let n;switch(t.type){case"OPEN":n={open:t.payload.open};break;case"CLOSE":n={open:!1,shouldTriggerClick:!0,value:void 0};break;case"DEFER_CLOSE":n={performCloseMenu:t.payload.performCloseMenu};break;case"RESET_DEFER_CLOSE_MENU":n={performCloseMenu:!1};break;case"SET_VALUE":n={value:t.payload.value};break;case"SET_SHOULD_TRIGGER_CLICK":n={shouldTriggerClick:t.payload.value};break;case"RESET_SHOULD_TRIGGER_CLICK":n={shouldTriggerClick:!0};break;case"SET_TRIGGERED_BY_KEY":n={triggeredByKey:t.payload.value};break;case"RESET_TRIGGERED_BY_KEY":n={triggeredByKey:!1};break;case"AUTOFOCUS_ITEM":n={autoFocusItem:t.payload.index};break;case"RESET_AUTOFOCUS_ITEM":n={autoFocusItem:Cn};break;case"SET_IS_FOCUSING":n={isFocusing:t.payload.isFocusing}}return{...e,...n}}var Vn=({triggerRef:e,contentRef:t,onSelection:n,onToggle:i,closeOnSelection:o,shouldFocusDisabledRows:r=!0,allowLetterNavigation:a=!0,allowSpaceBarToOpenMenu:s=!0,focusNextItemImmediately:c=!0,focusMenuRowTriggerKey:l="Tab",interactiveRowSelectors:d,delayFocus:u,shouldHighlightFirstRow:m})=>{const[p,f]=N.useReducer(jn,Gn),g=((e={})=>{const{shouldFocusDisabledRows:t=!0}=e,[n,i]=N.useReducer(Nn,kn),o=({disabled:e,focusable:t,ref:n,index:o,itemValue:r})=>{n&&i({type:"UPDATE_ROW",payload:{key:n,value:{textContent:n.textContent||"",disabled:e||!1,focusable:t||!1,index:o,itemValue:r}}})},r=o;return{selectedIndex:n.selectedIndex,setSelectedIndex:e=>{i({type:"SET_SELECTED_INDEX",payload:{index:e}})},items:n.menuRows,addRow:r,removeRow:e=>{e&&i({type:"REMOVE_ROW",payload:{key:e}})},updateRow:o,shouldFocusDisabledRows:t,focusIndex:n.focusIndex,setFocusIndex:e=>{i({type:"SET_FOCUS_INDEX",payload:{index:e}})}}})({shouldFocusDisabledRows:r}),h=({autoFocus:e=!0,index:t=0})=>{f({type:"OPEN",payload:{open:{autoFocus:e,index:t}}})},_=N.useCallback((({autoFocus:e=!1,ref:t})=>{f({type:"CLOSE"}),e&&t&&Dn(t,u)}),[u]),v=t=>{const n=t&&t.autoFocus;p.open?_({autoFocus:n,ref:e}):h({autoFocus:n})},b=(t,i,r=!1)=>{if(!((e,t)=>{let n=!1;return e.forEach(((e,i)=>{i===t&&(n=e.disabled)})),n})(g.items,i.target)&&(n&&n(t,i),o&&!r)){const t=(e=>{switch(e.type){case"keydown":case"keypress":case"keyup":return!0;default:return!1}})(i);f({type:"DEFER_CLOSE",payload:{performCloseMenu:{autoFocus:t,ref:e}}})}};zn((()=>{p.performCloseMenu&&(_(p.performCloseMenu),f({type:"RESET_DEFER_CLOSE_MENU"}))}),[p.performCloseMenu]),zn((()=>{if(p.open){if(p.open.autoFocus)f({type:"AUTOFOCUS_ITEM",payload:{index:p.open.index}});else{const e=()=>{t.current&&(t.current.focus({preventScroll:!0}),g.setSelectedIndex(Cn),g.setFocusIndex(Cn))};"number"==typeof u?setTimeout((()=>{e()}),u):e()}i&&i({isOpen:Boolean(p.open)})}else i&&i({isOpen:Boolean(p.open)})}),[p.open]);const y=N.useCallback((()=>{Dn(e)}),[e]);return zn((()=>{p.autoFocusItem!==Cn&&(Bn(g.items,p.autoFocusItem,u),g.setSelectedIndex(p.autoFocusItem),g.setFocusIndex(p.autoFocusItem),f({type:"RESET_AUTOFOCUS_ITEM"}))}),[p.autoFocusItem]),{isOpen:p.open,openMenu:h,closeMenu:_,toggleMenu:v,value:p.value,setSelected:b,setFocused:(e,t)=>{f({type:"SET_VALUE",payload:{value:e}}),f({type:"SET_IS_FOCUSING",payload:{isFocusing:!1}}),t&&g.setFocusIndex(t)},setSyntheticFocus:()=>{f({type:"SET_IS_FOCUSING",payload:{isFocusing:!0}}),setTimeout((()=>{f({type:"SET_IS_FOCUSING",payload:{isFocusing:!1}})}),0)},getRootProps:(n={})=>{const{onKeyDown:i,onKeyUp:o,...r}=n;return{onKeyDown:n=>{(n=>{if(!p.open)return;const i=n.target;let o=a;switch(n.key){case"Tab":if(!t||!t.current)return;const a=t.current.querySelectorAll(Tn(d));if(Pn(g.items,i)&&a.length<=g.items.size)return n.preventDefault(),void _({autoFocus:!0,ref:e});o=!1,n.shiftKey?(0===a.length&&_({autoFocus:!0,ref:e}),document&&document.activeElement===a[0]&&(n.preventDefault(),_({autoFocus:!0,ref:e}))):(0===a.length&&_({autoFocus:!0,ref:e}),document&&-1!==Array.from(a).indexOf(document.activeElement)&&(n.preventDefault(),_({autoFocus:!0,ref:e})));break;case"Escape":o=!1,n.preventDefault(),_({autoFocus:!0,ref:e});break;case Sn:o=!1,n.preventDefault(),n.stopPropagation(),f({type:"SET_IS_FOCUSING",payload:{isFocusing:!0}});const s=()=>{const e=g.selectedIndex===Cn?Rn(g.items,0):Ln(g.items,g.selectedIndex);Bn(g.items,e),g.setSelectedIndex(e),g.setFocusIndex(e)};c?s():setTimeout((()=>{s()}),0);break;case wn:o=!1,n.preventDefault(),n.stopPropagation(),f({type:"SET_IS_FOCUSING",payload:{isFocusing:!0}});const l=()=>{const e=g.selectedIndex===Cn?Rn(g.items,-1):Fn(g.items,g.selectedIndex);Bn(g.items,e),g.setSelectedIndex(e),g.setFocusIndex(e)};c?l():setTimeout((()=>{l()}),0);break;case"ArrowLeft":case"ArrowRight":Pn(g.items,i)&&(o=!1,n.preventDefault(),n.stopPropagation());break;case En:o=!1,Pn(g.items,i)&&(n.preventDefault(),n.stopPropagation());break;case"Enter":if(o=!1,Pn(g.items,i)){if(Un(i)||(r=i)&&"BUTTON"===r.tagName||n.preventDefault(),n.stopPropagation(),Un(i))return;b(p.value,n)}else m&&g.items.values().next().value&&"object"==typeof g.items.values().next().value&&b(g.items.values().next().value.itemValue,n)}var r;if(o){const e=Mn(g.items,n.key,Math.max(g.selectedIndex,0));Bn(g.items,e),g.setSelectedIndex(e),g.setFocusIndex(e)}})(n),i&&i(n)},onKeyUp:e=>{(e=>{if(!p.open)return;const t=e.target;if(e.key===En&&Pn(g.items,t)){if(Un(t))return void window.open(t.href,t.target||"_self");e.preventDefault(),b(p.value,e)}})(e),o&&o(e)},...r}},getTriggerProps:(n={})=>{const{onMouseDown:i,onClick:o,onKeyDown:r,onKeyUp:a,...c}=n;return{ref:e,"aria-haspopup":!0,"aria-expanded":Boolean(p.open),onMouseDown:e=>{f({type:"RESET_TRIGGERED_BY_KEY"}),i&&i(e)},onClick:e=>{if(!p.shouldTriggerClick)return!1;const t=!!p.triggeredByKey;v({autoFocus:t}),f({type:"RESET_TRIGGERED_BY_KEY"}),f({type:"RESET_SHOULD_TRIGGER_CLICK"}),o&&o(e)},onKeyDown:e=>{f({type:"SET_TRIGGERED_BY_KEY",payload:{value:!0}}),(e=>{if(p.open){if(t&&t.current&&e.key===l){const e=t.current.querySelector(Tn(d));e&&(f({type:"SET_IS_FOCUSING",payload:{isFocusing:!0}}),setTimeout((()=>{e&&e.focus()}),0))}}else switch(e.key){case Sn:e.preventDefault(),h({index:0});break;case wn:e.preventDefault(),h({index:-1});break;case En:s&&e.preventDefault()}})(e),r&&r(e)},onKeyUp:e=>{(e=>{s&&e.key===En&&(f({type:"SET_SHOULD_TRIGGER_CLICK",payload:{value:!1}}),h({autoFocus:!0}))})(e),a&&a(e)},...c}},getContentProps:(e={})=>({role:"menu",tabIndex:e.tabIndex||-1,...e}),menuRows:g,focusTrigger:y,isFocusing:p.isFocusing}},$n=({interactive:e,disabled:t,ref:n,role:i="menuitem",index:o,itemValue:r},a)=>{const s=!t||a.shouldFocusDisabledRows;return N.useEffect((()=>{if(!e)return;const i=n.current;return a.addRow({disabled:t,focusable:s,ref:i,index:o,itemValue:r}),()=>{a.removeRow(i)}}),[]),N.useEffect((()=>{e&&a.updateRow({disabled:t,focusable:s,ref:n.current,index:o,itemValue:r})}),[t]),{getItemProps:(e={})=>{const{tabIndex:n=-1,...o}=e;return{role:i,tabIndex:n,"aria-disabled":t,...o}}}},qn={};function Wn(e,t){let n;switch(t.type){case"CLOSE":n={activeSubmenu:void 0};break;case"REGISTER":n={activeSubmenu:t.payload.activeSubmenu}}return{...e,...n}}"ResizeObserver"in globalThis==0&&(globalThis.ResizeObserver=bn);var Hn=e=>e&&e.scrollTop,Kn={enter:"cubic-bezier(0, 0.6, 0, 1)",leave:"cubic-bezier(1, 0, 1, 0.5)",transition:"cubic-bezier(0.66, 0, 0, 1)"},Yn=e=>{const t=e.filter((({property:e})=>"opacity"===e));return t.length>0?t[t.length-1].value:1},Zn=e=>{const t=[0,0];return e.filter((({property:e})=>"up"===e||"down"===e||"left"===e||"right"===e)).forEach((({property:e,value:n})=>{"up"===e?t[1]+=-1*n:"down"===e?t[1]+=n:"left"===e?t[0]+=-1*n:"right"===e&&(t[0]+=n)})),`${t[0]}px, ${t[1]}px`},Jn=({children:e,style:t,transitionIn:n,transitionOut:i,onEnter:o,...r})=>{const a={enter:n.duration,exit:i.duration},s={entering:{transitionDuration:`${n.duration}ms`,opacity:Yn(n.transitions),transform:`translate(${Zn(n.transitions)})`},entered:{opacity:Yn(n.transitions),transform:`translate(${Zn(n.transitions)})`},exiting:{transitionDuration:`${i.duration}ms`,opacity:Yn(i.transitions),transform:`translate(${Zn(i.transitions)})`},exited:{opacity:Yn(i.transitions),transform:`translate(${Zn(i.transitions)})`}},c={entering:Kn[n.easing],entered:Kn[n.easing],exiting:Kn[i.easing],exited:Kn[i.easing]},l="function"==typeof o?(e,t)=>{Hn(e),o(e,t)}:Hn;return N.createElement(kt,{timeout:a,...r,onEnter:l},(n=>e({state:n,style:{...t,transitionDuration:s[n].transitionDuration,transitionTimingFunction:c[n],...s[n]}})))};function Xn(e){return ti(e)?(e.nodeName||"").toLowerCase():"#document"}function Qn(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ei(e){var t;return null==(t=(ti(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ti(e){return e instanceof Node||e instanceof Qn(e).Node}function ni(e){return e instanceof Element||e instanceof Qn(e).Element}function ii(e){return e instanceof HTMLElement||e instanceof Qn(e).HTMLElement}function oi(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Qn(e).ShadowRoot)}function ri(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=di(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function ai(e){return["table","td","th"].includes(Xn(e))}function si(e){const t=ci(),n=di(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function ci(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function li(e){return["html","body","#document"].includes(Xn(e))}function di(e){return Qn(e).getComputedStyle(e)}function ui(e){return ni(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function mi(e){if("html"===Xn(e))return e;const t=e.assignedSlot||e.parentNode||oi(e)&&e.host||ei(e);return oi(t)?t.host:t}function pi(e){const t=mi(e);return li(t)?e.ownerDocument?e.ownerDocument.body:e.body:ii(t)&&ri(t)?t:pi(t)}function fi(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=pi(e),r=o===(null==(i=e.ownerDocument)?void 0:i.body),a=Qn(o);return r?t.concat(a,a.visualViewport||[],ri(o)?o:[],a.frameElement&&n?fi(a.frameElement):[]):t.concat(o,fi(o,[],n))}const gi=Math.min,hi=Math.max,_i=Math.round,vi=Math.floor,bi=e=>({x:e,y:e}),yi={left:"right",right:"left",bottom:"top",top:"bottom"},Ei={start:"end",end:"start"};function wi(e,t,n){return hi(e,gi(t,n))}function Si(e,t){return"function"==typeof e?e(t):e}function Ci(e){return e.split("-")[0]}function Ti(e){return e.split("-")[1]}function xi(e){return"x"===e?"y":"x"}function Ni(e){return"y"===e?"height":"width"}function ki(e){return["top","bottom"].includes(Ci(e))?"y":"x"}function Oi(e){return xi(ki(e))}function Ii(e){return e.replace(/start|end/g,(e=>Ei[e]))}function Ai(e){return e.replace(/left|right|bottom|top/g,(e=>yi[e]))}function Ri(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Fi(e,t,n){let{reference:i,floating:o}=e;const r=ki(t),a=Oi(t),s=Ni(a),c=Ci(t),l="y"===r,d=i.x+i.width/2-o.width/2,u=i.y+i.height/2-o.height/2,m=i[s]/2-o[s]/2;let p;switch(c){case"top":p={x:d,y:i.y-o.height};break;case"bottom":p={x:d,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:u};break;case"left":p={x:i.x-o.width,y:u};break;default:p={x:i.x,y:i.y}}switch(Ti(t)){case"start":p[a]-=m*(n&&l?-1:1);break;case"end":p[a]+=m*(n&&l?-1:1)}return p}async function Li(e,t){var n;void 0===t&&(t={});const{x:i,y:o,platform:r,rects:a,elements:s,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:p=0}=Si(t,e),f=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(p),g=s[m?"floating"===u?"reference":"floating":u],h=Ri(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(g)))||n?g:g.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(s.floating)),boundary:l,rootBoundary:d,strategy:c})),_="floating"===u?{...a.floating,x:i,y:o}:a.reference,v=await(null==r.getOffsetParent?void 0:r.getOffsetParent(s.floating)),b=await(null==r.isElement?void 0:r.isElement(v))&&await(null==r.getScale?void 0:r.getScale(v))||{x:1,y:1},y=Ri(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:v,strategy:c}):_);return{top:(h.top-y.top+f.top)/b.y,bottom:(y.bottom-h.bottom+f.bottom)/b.y,left:(h.left-y.left+f.left)/b.x,right:(y.right-h.right+f.right)/b.x}}const Mi=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:r,placement:a,middlewareData:s}=t,c=await async function(e,t){const{placement:n,platform:i,elements:o}=e,r=await(null==i.isRTL?void 0:i.isRTL(o.floating)),a=Ci(n),s=Ti(n),c="y"===ki(n),l=["left","top"].includes(a)?-1:1,d=r&&c?-1:1,u=Si(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:f}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return s&&"number"==typeof f&&(p="end"===s?-1*f:f),c?{x:p*d,y:m*l}:{x:m*l,y:p*d}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(i=s.arrow)&&i.alignmentOffset?{}:{x:o+c.x,y:r+c.y,data:{...c,placement:a}}}}};function Pi(e){const t=di(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=ii(e),r=o?e.offsetWidth:n,a=o?e.offsetHeight:i,s=_i(n)!==r||_i(i)!==a;return s&&(n=r,i=a),{width:n,height:i,$:s}}function Di(e){return ni(e)?e:e.contextElement}function Bi(e){const t=Di(e);if(!ii(t))return bi(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:r}=Pi(t);let a=(r?_i(n.width):n.width)/i,s=(r?_i(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Ui=bi(0);function zi(e){const t=Qn(e);return ci()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ui}function Gi(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),r=Di(e);let a=bi(1);t&&(i?ni(i)&&(a=Bi(i)):a=Bi(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Qn(e))&&t}(r,n,i)?zi(r):bi(0);let c=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,d=o.width/a.x,u=o.height/a.y;if(r){const e=Qn(r),t=i&&ni(i)?Qn(i):i;let n=e,o=n.frameElement;for(;o&&i&&t!==n;){const e=Bi(o),t=o.getBoundingClientRect(),i=di(o),r=t.left+(o.clientLeft+parseFloat(i.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(i.paddingTop))*e.y;c*=e.x,l*=e.y,d*=e.x,u*=e.y,c+=r,l+=a,n=Qn(o),o=n.frameElement}}return Ri({width:d,height:u,x:c,y:l})}const ji=[":popover-open",":modal"];function Vi(e){return ji.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function $i(e){return Gi(ei(e)).left+ui(e).scrollLeft}function qi(e,t,n){let i;if("viewport"===t)i=function(e,t){const n=Qn(e),i=ei(e),o=n.visualViewport;let r=i.clientWidth,a=i.clientHeight,s=0,c=0;if(o){r=o.width,a=o.height;const e=ci();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:r,height:a,x:s,y:c}}(e,n);else if("document"===t)i=function(e){const t=ei(e),n=ui(e),i=e.ownerDocument.body,o=hi(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=hi(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+$i(e);const s=-n.scrollTop;return"rtl"===di(i).direction&&(a+=hi(t.clientWidth,i.clientWidth)-o),{width:o,height:r,x:a,y:s}}(ei(e));else if(ni(t))i=function(e,t){const n=Gi(e,!0,"fixed"===t),i=n.top+e.clientTop,o=n.left+e.clientLeft,r=ii(e)?Bi(e):bi(1);return{width:e.clientWidth*r.x,height:e.clientHeight*r.y,x:o*r.x,y:i*r.y}}(t,n);else{const n=zi(e);i={...t,x:t.x-n.x,y:t.y-n.y}}return Ri(i)}function Wi(e,t){const n=mi(e);return!(n===t||!ni(n)||li(n))&&("fixed"===di(n).position||Wi(n,t))}function Hi(e,t,n){const i=ii(t),o=ei(t),r="fixed"===n,a=Gi(e,!0,r,t);let s={scrollLeft:0,scrollTop:0};const c=bi(0);if(i||!i&&!r)if(("body"!==Xn(t)||ri(o))&&(s=ui(t)),i){const e=Gi(t,!0,r,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else o&&(c.x=$i(o));return{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function Ki(e,t){return ii(e)&&"fixed"!==di(e).position?t?t(e):e.offsetParent:null}function Yi(e,t){const n=Qn(e);if(!ii(e)||Vi(e))return n;let i=Ki(e,t);for(;i&&ai(i)&&"static"===di(i).position;)i=Ki(i,t);return i&&("html"===Xn(i)||"body"===Xn(i)&&"static"===di(i).position&&!si(i))?n:i||function(e){let t=mi(e);for(;ii(t)&&!li(t);){if(si(t))return t;t=mi(t)}return null}(e)||n}const Zi={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const r="fixed"===o,a=ei(i),s=!!t&&Vi(t.floating);if(i===a||s&&r)return n;let c={scrollLeft:0,scrollTop:0},l=bi(1);const d=bi(0),u=ii(i);if((u||!u&&!r)&&(("body"!==Xn(i)||ri(a))&&(c=ui(i)),ii(i))){const e=Gi(i);l=Bi(i),d.x=e.x+i.clientLeft,d.y=e.y+i.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+d.x,y:n.y*l.y-c.scrollTop*l.y+d.y}},getDocumentElement:ei,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const r="clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let i=fi(e,[],!1).filter((e=>ni(e)&&"body"!==Xn(e))),o=null;const r="fixed"===di(e).position;let a=r?mi(e):e;for(;ni(a)&&!li(a);){const t=di(a),n=si(a);n||"fixed"!==t.position||(o=null),(r?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||ri(a)&&!n&&Wi(e,a))?i=i.filter((e=>e!==a)):o=t,a=mi(a)}return t.set(e,i),i}(t,this._c):[].concat(n),a=[...r,i],s=a[0],c=a.reduce(((e,n)=>{const i=qi(t,n,o);return e.top=hi(i.top,e.top),e.right=gi(i.right,e.right),e.bottom=gi(i.bottom,e.bottom),e.left=hi(i.left,e.left),e}),qi(t,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:Yi,getElementRects:async function(e){const t=this.getOffsetParent||Yi,n=this.getDimensions;return{reference:Hi(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Pi(e);return{width:t,height:n}},getScale:Bi,isElement:ni,isRTL:function(e){return"rtl"===di(e).direction}};function Ji(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:o=!0,ancestorResize:r=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:c=!1}=i,l=Di(e),d=o||r?[...l?fi(l):[],...fi(t)]:[];d.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),r&&e.addEventListener("resize",n)}));const u=l&&s?function(e,t){let n,i=null;const o=ei(e);function r(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function a(s,c){void 0===s&&(s=!1),void 0===c&&(c=1),r();const{left:l,top:d,width:u,height:m}=e.getBoundingClientRect();if(s||t(),!u||!m)return;const p={rootMargin:-vi(d)+"px "+-vi(o.clientWidth-(l+u))+"px "+-vi(o.clientHeight-(d+m))+"px "+-vi(l)+"px",threshold:hi(0,gi(1,c))||1};let f=!0;function g(e){const t=e[0].intersectionRatio;if(t!==c){if(!f)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),100)}f=!1}try{i=new IntersectionObserver(g,{...p,root:o.ownerDocument})}catch(e){i=new IntersectionObserver(g,p)}i.observe(e)}(!0),r}(l,n):null;let m,p=-1,f=null;a&&(f=new ResizeObserver((e=>{let[i]=e;i&&i.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),l&&!c&&f.observe(l),f.observe(t));let g=c?Gi(e):null;return c&&function t(){const i=Gi(e);!g||i.x===g.x&&i.y===g.y&&i.width===g.width&&i.height===g.height||n();g=i,m=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{o&&e.removeEventListener("scroll",n),r&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=f)||e.disconnect(),f=null,c&&cancelAnimationFrame(m)}}const Xi=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=Si(e,t),l={x:n,y:i},d=await Li(t,c),u=ki(Ci(o)),m=xi(u);let p=l[m],f=l[u];if(r){const e="y"===m?"bottom":"right";p=wi(p+d["y"===m?"top":"left"],p,p-d[e])}if(a){const e="y"===u?"bottom":"right";f=wi(f+d["y"===u?"top":"left"],f,f-d[e])}const g=s.fn({...t,[m]:p,[u]:f});return{...g,data:{x:g.x-n,y:g.y-i}}}}},Qi=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:r,rects:a,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...h}=Si(e,t);if(null!=(n=r.arrow)&&n.alignmentOffset)return{};const _=Ci(o),v=Ci(s)===s,b=await(null==c.isRTL?void 0:c.isRTL(l.floating)),y=m||(v||!g?[Ai(s)]:function(e){const t=Ai(e);return[Ii(e),t,Ii(t)]}(s));m||"none"===f||y.push(...function(e,t,n,i){const o=Ti(e);let r=function(e,t,n){const i=["left","right"],o=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?r:a;default:return[]}}(Ci(e),"start"===n,i);return o&&(r=r.map((e=>e+"-"+o)),t&&(r=r.concat(r.map(Ii)))),r}(s,g,f,b));const E=[s,...y],w=await Li(t,h),S=[];let C=(null==(i=r.flip)?void 0:i.overflows)||[];if(d&&S.push(w[_]),u){const e=function(e,t,n){void 0===n&&(n=!1);const i=Ti(e),o=Oi(e),r=Ni(o);let a="x"===o?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=Ai(a)),[a,Ai(a)]}(o,a,b);S.push(w[e[0]],w[e[1]])}if(C=[...C,{placement:o,overflows:S}],!S.every((e=>e<=0))){var T,x;const e=((null==(T=r.flip)?void 0:T.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let n=null==(x=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:x.placement;if(!n)switch(p){case"bestFit":{var N;const e=null==(N=C.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:N[0];e&&(n=e);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}},eo=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:i,platform:o,elements:r}=t,{apply:a=(()=>{}),...s}=Si(e,t),c=await Li(t,s),l=Ci(n),d=Ti(n),u="y"===ki(n),{width:m,height:p}=i.floating;let f,g;"top"===l||"bottom"===l?(f=l,g=d===(await(null==o.isRTL?void 0:o.isRTL(r.floating))?"start":"end")?"left":"right"):(g=l,f="end"===d?"top":"bottom");const h=p-c[f],_=m-c[g],v=!t.middlewareData.shift;let b=h,y=_;if(u){const e=m-c.left-c.right;y=d||v?gi(_,e):e}else{const e=p-c.top-c.bottom;b=d||v?gi(h,e):e}if(v&&!d){const e=hi(c.left,0),t=hi(c.right,0),n=hi(c.top,0),i=hi(c.bottom,0);u?y=m-2*(0!==e||0!==t?e+t:hi(c.left,c.right)):b=p-2*(0!==n||0!==i?n+i:hi(c.top,c.bottom))}await a({...t,availableWidth:y,availableHeight:b});const E=await o.getDimensions(r.floating);return m!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}},to=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:o,rects:r,middlewareData:a}=t,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=Si(e,t),d={x:n,y:i},u=ki(o),m=xi(u);let p=d[m],f=d[u];const g=Si(s,t),h="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const e="y"===m?"height":"width",t=r.reference[m]-r.floating[e]+h.mainAxis,n=r.reference[m]+r.reference[e]-h.mainAxis;p<t?p=t:p>n&&(p=n)}if(l){var _,v;const e="y"===m?"width":"height",t=["top","left"].includes(Ci(o)),n=r.reference[u]-r.floating[e]+(t&&(null==(_=a.offset)?void 0:_[u])||0)+(t?0:h.crossAxis),i=r.reference[u]+r.reference[e]+(t?0:(null==(v=a.offset)?void 0:v[u])||0)-(t?h.crossAxis:0);f<n?f=n:f>i&&(f=i)}return{[m]:p,[u]:f}}}},no=(e,t,n)=>{const i=new Map,o={platform:Zi,...n},r={...o.platform,_c:i};return(async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:r=[],platform:a}=n,s=r.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=Fi(l,i,c),m=i,p={},f=0;for(let n=0;n<s.length;n++){const{name:r,fn:g}=s[n],{x:h,y:_,data:v,reset:b}=await g({x:d,y:u,initialPlacement:i,placement:m,strategy:o,middlewareData:p,rects:l,platform:a,elements:{reference:e,floating:t}});d=null!=h?h:d,u=null!=_?_:u,p={...p,[r]:{...p[r],...v}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(m=b.placement),b.rects&&(l=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):b.rects),({x:d,y:u}=Fi(l,m,c))),n=-1)}return{x:d,y:u,placement:m,strategy:o,middlewareData:p}})(e,t,{...o,platform:r})};var io="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function oo(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;0!=i--;)if(!oo(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;0!=i--;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;0!=i--;){const n=o[i];if(("_owner"!==n||!e.$$typeof)&&!oo(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function ro(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ao(e,t){const n=ro(e);return Math.round(t*n)/n}function so(e){const t=N.useRef(e);return io((()=>{t.current=e})),t}const co=N["useInsertionEffect".toString()]||(e=>e());var lo="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;let uo=!1,mo=0;const po=()=>"floating-ui-"+mo++;const fo=N["useId".toString()]||function(){const[e,t]=N.useState((()=>uo?po():void 0));return lo((()=>{null==e&&t(po())}),[]),N.useEffect((()=>{uo||(uo=!0)}),[]),e};const go=N.createContext(null),ho=N.createContext(null);function _o(e){var t;void 0===e&&(e={});const{open:n=!1,onOpenChange:i,nodeId:o}=e,[r,a]=N.useState(null),s=(null==(t=e.elements)?void 0:t.reference)||r,c=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:r,floating:a}={},transform:s=!0,whileElementsMounted:c,open:l}=e,[d,u]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=N.useState(i);oo(m,i)||p(i);const[f,g]=N.useState(null),[h,_]=N.useState(null),v=N.useCallback((e=>{e!==w.current&&(w.current=e,g(e))}),[]),b=N.useCallback((e=>{e!==S.current&&(S.current=e,_(e))}),[]),y=r||f,E=a||h,w=N.useRef(null),S=N.useRef(null),C=N.useRef(d),T=null!=c,x=so(c),O=so(o),I=N.useCallback((()=>{if(!w.current||!S.current)return;const e={placement:t,strategy:n,middleware:m};O.current&&(e.platform=O.current),no(w.current,S.current,e).then((e=>{const t={...e,isPositioned:!0};A.current&&!oo(C.current,t)&&(C.current=t,k.flushSync((()=>{u(t)})))}))}),[m,t,n,O]);io((()=>{!1===l&&C.current.isPositioned&&(C.current.isPositioned=!1,u((e=>({...e,isPositioned:!1}))))}),[l]);const A=N.useRef(!1);io((()=>(A.current=!0,()=>{A.current=!1})),[]),io((()=>{if(y&&(w.current=y),E&&(S.current=E),y&&E){if(x.current)return x.current(y,E,I);I()}}),[y,E,I,x,T]);const R=N.useMemo((()=>({reference:w,floating:S,setReference:v,setFloating:b})),[v,b]),F=N.useMemo((()=>({reference:y,floating:E})),[y,E]),L=N.useMemo((()=>{const e={position:n,left:0,top:0};if(!F.floating)return e;const t=ao(F.floating,d.x),i=ao(F.floating,d.y);return s?{...e,transform:"translate("+t+"px, "+i+"px)",...ro(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:i}}),[n,s,F.floating,d.x,d.y]);return N.useMemo((()=>({...d,update:I,refs:R,elements:F,floatingStyles:L})),[d,I,R,F,L])}(e),l=N.useContext(ho),d=null!=((null==(u=N.useContext(go))?void 0:u.id)||null);var u;const m=function(e){const t=N.useRef((()=>{}));return co((()=>{t.current=e})),N.useCallback((function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return null==t.current?void 0:t.current(...n)}),[])}(((e,t,n)=>{e&&(f.current.openEvent=t),g.emit("openchange",{open:e,event:t,reason:n,nested:d}),null==i||i(e,t,n)})),p=N.useRef(null),f=N.useRef({}),g=N.useState((()=>function(){const e=new Map;return{emit(t,n){var i;null==(i=e.get(t))||i.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var i;e.set(t,(null==(i=e.get(t))?void 0:i.filter((e=>e!==n)))||[])}}}()))[0],h=fo(),_=N.useCallback((e=>{const t=ni(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c.refs.setReference(t)}),[c.refs]),v=N.useCallback((e=>{(ni(e)||null===e)&&(p.current=e,a(e)),(ni(c.refs.reference.current)||null===c.refs.reference.current||null!==e&&!ni(e))&&c.refs.setReference(e)}),[c.refs]),b=N.useMemo((()=>({...c.refs,setReference:v,setPositionReference:_,domReference:p})),[c.refs,v,_]),y=N.useMemo((()=>({...c.elements,domReference:s})),[c.elements,s]),E=N.useMemo((()=>({...c,refs:b,elements:y,dataRef:f,nodeId:o,floatingId:h,events:g,open:n,onOpenChange:m})),[c,o,h,g,n,m,b,y]);return lo((()=>{const e=null==l?void 0:l.nodesRef.current.find((e=>e.id===o));e&&(e.context=E)})),N.useMemo((()=>({...c,context:E,refs:b,elements:y})),[c,b,y,E])}var vo=N.createContext(null),bo=N.forwardRef((({children:e,isPortaled:t=!0,_elevateByZ:n=1,_preferAbsolute:i,className:o,...r},a)=>{if(n<=0)throw new Error("`_elevateByZ` must be a positive number.");const{getThemeProps:s}=dt(),c=N.useContext(vo),[l,d,u]=N.useMemo((()=>null===c?[void 0,void 0,void 0]:[c.zIndex,c.portalRootElement,c.preferAbsolute]),[c]),m=ue("dig-Layer",{"dig-Layer--prefer-absolute":(void 0!==u?u:i)&&!1===t},o),p=(l||0)+n,f=N.createElement("div",{...r,ref:a,className:m,style:{zIndex:p}},e),g=N.createElement("div",{...s()},f);return N.createElement(vo.Provider,{value:{zIndex:p,portalRootElement:d}},("undefined"!=typeof document||d)&&t?k.createPortal(g,d||document.body):f)}));bo.displayName="Layer";var yo=({onClickOutside:e,shouldPropagateMouseEvents:t=!1,isClickThroughPortaled:n=!0,children:i,isBlock:o=!1,isActive:r=!1,shouldClickOutsideWhenDefaultPrevented:a=!0,className:s,...c})=>{const l=ue("dig-ClickOutside",{"dig-ClickOutside--block":o}),d=ue("dig-ClickOutside--backdrop",s),u=N.useRef(null),m=N.useRef(!1),p=()=>{m.current=!0},f=()=>{m.current=!1},g=N.useCallback((t=>{setTimeout((()=>{!a&&t.defaultPrevented||(m.current?m.current=!1:e&&e(t))}),0)}),[e,a]),h=N.useCallback((()=>{u.current=setTimeout((()=>{m.current=!1,document.addEventListener("click",g,{capture:!0}),document.addEventListener("contextmenu",g,{capture:!0}),u.current=null}),0)}),[g,m]),_=N.useCallback((()=>{"number"==typeof u.current&&(clearTimeout(u.current),u.current=null),document.removeEventListener("click",g,{capture:!0}),document.removeEventListener("contextmenu",g,{capture:!0})}),[g]);return N.useEffect((()=>(r?h():_(),()=>_())),[r,e]),N.createElement("div",{onClickCapture:p,onContextMenuCapture:p,className:l},r&&!t&&N.createElement(bo,{_elevateByZ:10,onClick:f,onContextMenu:f,isPortaled:n,className:d,"data-testid":"digClickOutsideisActiveLayer",...c}),i)};yo.displayName="ClickOutside";var Eo={value:void 0,setSelected:()=>!1,setFocused:()=>!1,isPortaled:!0,parentMenuContext:void 0,menuRows:On(),registerActiveSubmenu:()=>!1,closeActiveSubmenu:()=>!1,shouldMatchContainerWidth:!1,isSubmenu:!1,hasActiveSubmenu:!1,slideSubmenu:!1,topLevelTriggerRef:void 0,closeMenu:()=>!1,closeOnSelection:!0},wo=N.createContext(Eo);wo.displayName="MenuContext";var So=N.createContext({placement:"bottom-start",offset:4,isRootMenuOpen:!1});So.displayName="MenuContentContext";var Co=({className:e,children:t,...n})=>{const i=ue("dig-Menu-row-accessory",e);return N.createElement("div",{className:i,...n},t)};Co.displayName="RowAccessory";var To=({className:e,children:t,...n})=>{const i=ue("dig-Menu-row-content",e);return N.createElement("div",{className:i,...n},t)};To.displayName="RowContent";var xo=({className:e,children:t,...n})=>{const i=ue("dig-Menu-row-title",e);return N.createElement("div",{className:i,...n},t)};xo.displayName="RowTitle";var No=({className:e,children:t,...n})=>{const i=ue("dig-Menu-row-subtitle",e);return N.createElement("div",{className:i,...n},t)};No.displayName="RowSubtitle";var ko=N.forwardRef((({tagName:e="div",role:t="menuitem",className:n,children:i,onMouseEnter:o,withTitle:r,withSubtitle:a,withLeftAccessory:s,withRightAccessory:c,disabled:l=!1,interactive:d=!1,tabIndex:u=-1,preferComposition:m=!1,_isSubmenuTrigger:p=!1,onClick:f,_pseudoClass:g,...h},_)=>{const v=N.useRef(null),{menuRows:b,parentMenuContext:y,closeActiveSubmenu:E}=N.useContext(wo),w=p?y&&y.menuRows||On():b,{getItemProps:S}=$n({interactive:d,disabled:l,ref:v,role:t},w),C=ue("dig-Menu-row",{"dig-Menu-row--disabled":l,"dig-Menu-row--interactive":d,"dig-Menu-row--active":"active"===g,"dig-Menu-row--focused":"focus"===g,"dig-Menu-row--hover":"hover"===g},n);return N.useImperativeHandle(_,(()=>({focus:e=>{if(v.current)return v.current.focus(e)},getBoundingClientRect:()=>{if(v.current)return v.current.getBoundingClientRect()}}))),N.createElement(e,{className:C,ref:v,...S({onMouseEnter:e=>{E(),o&&o(e)},onClick:e=>{l?e.preventDefault():f&&f(e)},...h})},m&&i,!m&&N.createElement(N.Fragment,null,s&&N.createElement(Co,null,s),N.createElement(To,null,N.createElement(xo,null,r||i),a&&N.createElement(No,null,a)),c&&N.createElement(Co,null,c)))}));ko.displayName="Row";var Oo=N.forwardRef((({children:e,disabled:t,value:n,onClick:i,onFocus:o,...r},a)=>{const{setFocused:s,setSelected:c}=N.useContext(wo);return N.createElement(ko,{interactive:!0,disabled:t,onClick:e=>{c(n,e),i&&i(e)},onFocus:e=>{s(n),o&&o(e)},...r,ref:a},e)}));Oo.displayName="ActionItem";var Io=({className:e,style:t,children:n,...i})=>{const{inverse:o,maxHeight:r}=N.useContext(wo),a=dt().getInverseProps().className,s=ue(e,"dig-Menu-canvas",{[a]:o});return N.createElement("div",{className:s,role:"presentation",...i,style:{...t,maxHeight:r}},n)};Io.displayName="Canvas";var Ao=125,Ro=({animationDirection:e,offset:t,isOpen:n,isRootMenuOpen:i,children:o})=>{const r="up"===e?t:-1*t;return N.createElement(Jn,{transitionIn:{transitions:[{property:e,value:0},{property:"opacity",value:1}],easing:"enter",duration:Ao},transitionOut:{transitions:[{property:"opacity",value:0},{property:e,value:r}],easing:"leave",duration:Ao},style:{opacity:0},in:n&&i,mountOnEnter:!0,unmountOnExit:!0},(({state:e,style:t})=>(n||"exited"!==e)&&o({canvasStyle:t,overlayStyle:{}})))};Ro.displayName="AppearMenuMotion";var Fo=({submenuMotion:e,isSubmenu:t,animationDirection:n,offset:i,isRootMenuOpen:o,style:r,children:a})=>{const s=((e,t)=>2===e?{transform:"translate(-24px, 0px)",opacity:0}:t?{transform:"translate(48px, 0px)",opacity:0}:{})(e,t),c=0===e||1===e,l="up"===n?i:-1*i;return N.createElement(Jn,{transitionIn:{transitions:[{property:"left",value:0},{property:n,value:0},{property:"opacity",value:1}],easing:"transition",duration:Ao},transitionOut:{transitions:[{property:"left",value:t?24:0},{property:n,value:t?0:l},{property:"opacity",value:0}],easing:"transition",duration:Ao},style:{opacity:0},in:c},(({state:i,style:d})=>N.createElement(Jn,{transitionIn:{transitions:[{property:"left",value:0},{property:n,value:0},{property:"opacity",value:1}],easing:"transition",duration:Ao},transitionOut:{transitions:[{property:"left",value:t?-48:0},{property:n,value:t?0:l},{property:"opacity",value:0}],easing:"transition",duration:Ao},style:{opacity:0},in:c},(({state:t,style:n})=>{if(!o)return a({canvasStyle:{...r},overlayStyle:{}});if(4===e)return a({canvasStyle:{},overlayStyle:{visibility:"hidden",pointerEvents:"none"}});const l=2===e||0===e,u=c||"exited"!==i||"exited"!==t,m=u?{}:{visibility:"hidden",pointerEvents:"none"},p=u?{...r,...l?{...d}:{...n}}:{...r,...s};return a({canvasStyle:p,overlayStyle:m})}))))};Fo.displayName="SlideMenuMotion";var Lo=({children:e,submenuMotion:t,isSubmenu:n,slideSubmenu:i,...o})=>i?N.createElement(Ro,{...o},(({canvasStyle:r})=>N.createElement(Fo,{isSubmenu:n,submenuMotion:t,slideSubmenu:i,style:r,...o},e))):N.createElement(Ro,{...o},e);Lo.displayName="MenuMotion";var Mo=N.forwardRef((({className:e,children:t,placement:n,anchorRef:i,offsetDistance:o=0,auto:r=!1,isPortaled:a=!0,positioningStrategy:s="absolute",style:c,...l},d)=>{const{setMaxMenuHeight:u}=N.useContext(wo),m=N.useCallback((({availableHeight:e})=>{u&&u(e)}),[u]),{x:p,y:f,refs:g,strategy:h,update:_,placement:v}=_o({placement:n,strategy:s,whileElementsMounted:(e,t,n)=>Ji(e,t,n,{elementResize:!0}),middleware:[Mi(o),...r?[Qi({fallbackStrategy:"bestFit"})]:[],eo({apply:m}),...r?[Xi({limiter:to()})]:[]]});Ft((()=>{g.setReference(i.current)}),[g.setReference]),N.useImperativeHandle(d,(()=>({update:_})));const b=p?Math.round(p):0,y=f?Math.round(f):0,E=ue("dig-Menu-Overlay",`dig-Menu-Overlay--${v}`,e);return N.createElement(bo,{_elevateByZ:11,isPortaled:a},N.createElement("div",{className:E,ref:g.setFloating,style:{...c,position:h,top:"0",left:"0",transform:`translate3d(${b}px,${y}px,0)`},...l},t))}));Mo.displayName="MenuOverlay";var Po=N.forwardRef((({children:e,className:t,auto:n=!0,placement:i="bottom-start",open:o=!1,triggerRef:r,triggerOffset:a=4,positioningStrategy:s="absolute",onContentOpened:c,tabIndex:l=-1,motionProvider:d=Lo,minWidth:u=90,...m},p)=>{const f=N.useRef(null),g=(e=>{switch(e){case"top":case"top-start":case"top-end":default:return"up";case"bottom":case"bottom-start":case"bottom-end":return"down"}})(i),[h,_]=N.useState({}),[v,b]=N.useState(4),{contentRef:y,shouldMatchContainerWidth:E,isPortaled:w,isSubmenu:S,hasActiveSubmenu:C,slideSubmenu:T}=N.useContext(wo),x=ue("dig-Menu-content",`dig-Menu-content--${i}`,t),{isRootMenuOpen:k}=N.useContext(So),O=S?k:o,I={placement:i,offset:a,isRootMenuOpen:O};N.useEffect((()=>{T&&b(C?2:0)}),[C,T]),N.useEffect((()=>{T&&b(O?o?1:3:4)}),[o,T,O]),N.useEffect((()=>{o&&r.current&&_({minWidth:E||"matchContainingWidth"===u?r.current.getBoundingClientRect().width:u})}),[o]),N.useImperativeHandle(p,(()=>({update:()=>{f.current&&f.current.update()}}))),N.useEffect((()=>{o&&c&&c()}),[o]);const A=N.useMemo((()=>{let e=0;return"number"==typeof a?e=a:"object"==typeof a&&(e=a.mainAxis||a.crossAxis),e||0}),[a]);return N.createElement(So.Provider,{value:I},N.createElement(d,{animationDirection:g,offset:A,isOpen:o,isSubmenu:S,submenuMotion:v,slideSubmenu:T,isRootMenuOpen:O},(({canvasStyle:t,overlayStyle:o})=>N.createElement(Mo,{anchorRef:r,auto:n,placement:i,offsetDistance:a,positioningStrategy:s,isPortaled:w,style:{...o,...h},ref:f},N.createElement("nav",{className:x,ref:y,tabIndex:-1,...m},N.createElement(Io,{style:t},e))))))}));Po.displayName="Content";var Do=N.forwardRef((({children:e,disabled:t,href:n,onClick:i,...o},r)=>{const{closeMenu:a,closeOnSelection:s}=N.useContext(wo);return N.createElement(ko,{tagName:"a",href:n,onClick:e=>{s&&a({autoFocus:!1}),i&&i(e)},interactive:!0,disabled:t,...o,ref:r},e)}));Do.displayName="LinkItem";var Bo=({className:e,children:t,withLabel:n,_withoutPadding:i,...o})=>{const r=ue("dig-Menu-segment",{"dig-Menu-segment--withoutPadding":i},e);return N.createElement("div",{className:r,...o},n&&N.createElement("div",{className:"dig-Menu-segment-label"},N.createElement(gt,{size:"small",color:"subtle",isBold:!0},n)),t)};Bo.displayName="Segment";var Uo=({children:e,selected:t=!1,role:n="menuitemradio",...i})=>{const o=!t||N.createElement(fe,{src:Ee});return N.createElement(Oo,{role:n,"aria-checked":t,withLeftAccessory:o,...i},e)};Uo.displayName="SelectItem";var zo="Enter",Go="dig-Menu-row--interactive",jo=[`.${Go}[role="menuitem"]`,`.${Go}[role="menuitemcheckbox"]`,`.${Go}[role="menuitemradio"]`],Vo=N.forwardRef((({className:e,children:t,onSelection:n,onToggle:i,closeOnSelection:o=!0,closeOnBlur:r=!0,isPortaled:a=!0,matchContainingWidth:s=!1,hasMaxHeight:c=!1,shouldPropagateClickOutsideMouseEvents:l=!1,shouldFocusDisabledRows:d=!0,isBlock:u=!1,slideSubmenu:m=!1,_isSubmenu:p=!1,closeOnBlurWhenDefaultPrevented:f=!0,inverse:g=!1,...h},_)=>{const v=dt().getInverseProps().className,b=ue("dig-Menu",{[v]:g},e),[y,E]=(e=>{const[t,n]=N.useState(void 0);return[t,N.useCallback((t=>{let i=t;switch(typeof e){case"number":i=Math.min(e,t);break;case"boolean":i=e?Math.min(200,t):i-8}const o=Math.max(200,i);n(o)}),[e,n])]})(c),w=N.useRef(null),S=N.useRef(null),C=N.useRef(null),{close:T,register:x,hasActiveSubmenu:k}=(()=>{const[e,t]=N.useReducer(Wn,qn);return{register:N.useCallback((e=>{t({type:"REGISTER",payload:{activeSubmenu:{close:e}}})}),[t]),close:N.useCallback((()=>{e.activeSubmenu&&(e.activeSubmenu.close({autoFocus:!1}),t({type:"CLOSE"}))}),[e.activeSubmenu]),hasActiveSubmenu:Boolean(e.activeSubmenu)}})(),{isOpen:O,openMenu:I,closeMenu:A,toggleMenu:R,value:F,setSelected:L,setFocused:M,getRootProps:P,getTriggerProps:D,getContentProps:B,menuRows:U,focusTrigger:z}=Vn({triggerRef:w,contentRef:S,onSelection:n,onToggle:i,closeOnSelection:o,shouldFocusDisabledRows:d,interactiveRowSelectors:jo,delayFocus:m?125:void 0});N.useEffect((()=>{O||T()}),[O,T]);const G=N.useCallback((()=>{C.current&&C.current.update()}),[C]),j=N.useContext(wo),V=p?j.slideSubmenu:m,$=N.useCallback((e=>{S&&S.current&&(T(),A(e))}),[A,T,S]),q={isPortaled:a,contentRef:S,value:F,setSelected:L,setFocused:M,maxHeight:y,setMaxMenuHeight:E,isSubmenu:p,hasActiveSubmenu:k,topLevelTriggerRef:p?j.topLevelTriggerRef:w,parentMenuContext:p?j:void 0,menuRows:U,registerActiveSubmenu:x,closeActiveSubmenu:T,closeMenu:A,hasMaxHeight:c,shouldMatchContainerWidth:s,slideSubmenu:V,inverse:g,closeOnSelection:o},W={openMenu:I,closeMenu:$,toggleMenu:R,getTriggerProps:D,getContentProps:e=>({ref:C,open:Boolean(O),triggerRef:w,...B(e)}),menuRows:U,triggerRef:w,contentRef:S},H=N.useCallback((()=>{r&&$({ref:w})}),[r,$,w]),K=p?t&&t(W):N.createElement(yo,{className:"dig-Menu-backdrop",isBlock:u,onClickOutside:H,shouldPropagateMouseEvents:l,isClickThroughPortaled:a,isActive:Boolean(O),shouldClickOutsideWhenDefaultPrevented:f},t&&t(W));return N.useImperativeHandle(_,(()=>({focusTrigger:z,updateContent:G})),[z,G]),N.createElement(wo.Provider,{value:q},N.createElement("div",{className:b,...P(h)},K))}));Vo.displayName="Wrapper";var $o=({id:e,withTriggerContent:t,withLeftAccessory:n,withRightAccessory:i,auto:o=!0,placement:r="right-start",contentClassName:a,disabled:s,children:c,openDelay:l=0,triggerProps:d,contentProps:u,onSubmenuOpened:m,onSubmenuClosed:p,closeOnSelection:f,motionProvider:g=Lo})=>{const h=N.useRef(null),_=N.useRef(),v=N.useRef(!0),{menuRows:b,setSelected:y,registerActiveSubmenu:E,closeActiveSubmenu:w,isPortaled:S,slideSubmenu:C,topLevelTriggerRef:T,inverse:x}=N.useContext(wo),{placement:k,offset:O}=N.useContext(So),I=()=>{_.current&&(clearTimeout(_.current),_.current=void 0)},A=N.useCallback((()=>{m&&m(e)}),[e,m]),R=({openMenu:e,closeMenu:t,autoFocus:n=!1})=>{I(),v.current=!1,w(),v.current=!0,e({autoFocus:n||C}),E((()=>{F({closeMenu:t,options:C?{autoFocus:!0,ref:h}:void 0})}))},F=({closeMenu:t,options:n})=>{p&&v.current&&p(e),t(n||{})},L=e=>{I(),d&&d.onMouseLeave&&d.onMouseLeave(e)},M=({openMenu:e,closeMenu:t,autoFocus:n=!1})=>i=>{s||(i.stopPropagation(),R({openMenu:e,closeMenu:t,autoFocus:n}))},P=({})=>()=>{w()},D=({})=>e=>{if(e.key===zo)e.stopPropagation(),w()},B=({openMenu:e,closeMenu:t})=>n=>{if(s)return;if(_.current)return;if(C)return;d&&d.onMouseEnter&&d.onMouseEnter(n);const i=()=>{R({openMenu:e,closeMenu:t,autoFocus:!1})};l?_.current=window.setTimeout((()=>{i()}),l):i()},U=({openMenu:e,closeMenu:t})=>n=>{if(!s)switch(d&&d.onKeyDown&&d.onKeyDown(n),n.key){case zo:return n.stopPropagation(),void R({openMenu:e,closeMenu:t,autoFocus:!0});case"ArrowRight":return void R({openMenu:e,closeMenu:t,autoFocus:!0})}},z=({openMenu:e,closeMenu:t})=>n=>{if(d&&d.onKeyUp&&d.onKeyUp(n)," "===n.key){if(s)return;n.stopPropagation(),n.preventDefault(),R({openMenu:e,closeMenu:t,autoFocus:!0})}},G=({menuRows:e})=>t=>{u&&u.onKeyUp&&u.onKeyUp(t)," "===t.key&&Pn(e.items,t.target)&&t.preventDefault()},j=({menuRows:e,triggerRef:t,closeMenu:n})=>i=>{switch(u&&u.onKeyDown&&u.onKeyDown(i),i.key){case"Tab":return i.stopPropagation(),void F({closeMenu:n,options:{autoFocus:!0,ref:t}});case"Escape":return i.stopPropagation(),void F(C?{closeMenu:n,options:{autoFocus:!0,ref:T}}:{closeMenu:n,options:{autoFocus:!0,ref:t}});case"ArrowUp":i.stopPropagation(),i.preventDefault();const o=Fn(e.items,e.selectedIndex);return Bn(e.items,o),void e.setSelectedIndex(o);case"ArrowDown":i.stopPropagation(),i.preventDefault();const r=Ln(e.items,e.selectedIndex);return Bn(e.items,r),void e.setSelectedIndex(r);case"ArrowLeft":return i.stopPropagation(),i.preventDefault(),C?w():F({closeMenu:n,options:{autoFocus:!0,ref:t}}),void(t.current&&"focus"in t.current&&t.current.focus())}};return N.useEffect((()=>()=>{_.current&&clearTimeout(_.current)}),[]),N.createElement(Vo,{className:"dig-Menu--submenu",onSelection:(e,t)=>{y(e,t,!1===f)},isPortaled:S,slideSubmenu:C,shouldFocusDisabledRows:b.shouldFocusDisabledRows,_isSubmenu:!0,inverse:x,closeOnSelection:f},(({openMenu:l,closeMenu:m,getContentProps:p,getTriggerProps:f,menuRows:_})=>N.createElement(N.Fragment,null,N.createElement(ko,{id:e,interactive:!0,disabled:s,withLeftAccessory:n,withRightAccessory:i||N.createElement(fe,{src:Ce,size:"small"}),_isSubmenuTrigger:!0,...f(d),ref:h,onMouseEnter:B({openMenu:l,closeMenu:m}),onMouseLeave:L,onKeyDown:U({openMenu:l,closeMenu:m}),onKeyUp:z({openMenu:l,closeMenu:m}),onClick:M({openMenu:l,closeMenu:m})},t),!s&&N.createElement(Po,{...p(u),triggerRef:C?T:h,triggerOffset:C?O:{crossAxis:-8},auto:o,placement:C?k:r,className:a,onKeyDown:j({menuRows:_,triggerRef:h,closeMenu:m}),onKeyUp:G({menuRows:_}),onContentOpened:A,motionProvider:g},C&&N.createElement(Bo,null,N.createElement(ko,{interactive:!0,disabled:s,withLeftAccessory:N.createElement(fe,{src:Se,size:"small"}),onClick:P({closeMenu:m}),onKeyDown:D({closeMenu:m})},t)),c))))};$o.displayName="Submenu";var qo={ActionItem:Oo,Canvas:Io,Content:Po,LinkItem:Do,Row:ko,RowAccessory:Co,RowContent:To,RowSubtitle:No,RowTitle:xo,Segment:Bo,SelectItem:Uo,Submenu:$o,Wrapper:Vo},Wo=({href:e,disabled:t=!1,type:n})=>{const i={type:n};let o="button";return e?(o="a",i.href=e,i.role="button",i["aria-disabled"]=t):i.disabled=t,[o,i]},Ho=[["medium","standard"]],Ko=e=>{const t=Ho.find((([t,n])=>e===t));return void 0!==t?t[1]:e},Yo=e=>{const t=Ho.find((([t,n])=>e===n));return void 0!==t?t[0]:e};function Zo(e){return"small"===(e||"medium")?"small":"medium"}var Jo=N.forwardRef((({children:e,className:t,variant:n,inverse:i=!1,size:o="medium",withDropdownIcon:r=!1,withIconLeft:a,withIconStart:s,withIconEnd:c,hasNoUnderline:l=!1,href:d,fullWidth:u=!1,isLoading:m=!1,disabled:p=m,_hasRightMargin:f,_hasCollapsedMargins:g,_hasSquaredSize:h=!1,type:_,_pseudoClass:v=[],...b},y)=>{const E=Yo(o),w=s||a;if(u){if("transparent"===n)throw new Error("`fullWidth` can only be applied to non-transparent variants.");if("large"!==E&&"xlarge"!==E)throw new Error('`fullWidth` can only be applied to "large" and "xlarge" sizes.')}const[S,C]=Wo({href:d,disabled:p||m,type:_}),T=dt().getInverseProps().className,x=ue("dig-Button",`dig-Button--${n}`,`dig-Button--${Ko(E)}`,{"dig-Button--fullWidth":u,"dig-Button--isLoading":m,"dig-Button--withDropdownIcon":r,"dig-Button--withIconStart":w,"dig-Button--withIconEnd":c,"dig-Button--hasNoUnderline":"transparent"===n&&l,"dig-Button--hasRightMargin":f,"dig-Button--hasCollapsedMargins":g,"dig-Button--hasSquaredSize":h,"dig-Button--hover":v.includes("hover"),"dig-Button--active":v.includes("active"),"dig-Button--focus":v.includes("focus"),[T]:i},t);return N.createElement(S,{className:x,ref:y,...C,...b},N.createElement("span",{className:"dig-Button-content"},w&&N.createElement("span",{className:"dig-Button-icon-start-wrapper"},N.createElement(me.Provider,{value:{UIIconOverrides:{size:Zo(E),isOpticallyAligned:!0}}},w)),e,c&&N.createElement("span",{className:"dig-Button-icon-end-wrapper"},N.createElement(me.Provider,{value:{UIIconOverrides:{size:Zo(E),isOpticallyAligned:!0}}},c)),r&&N.createElement(fe,{className:"dig-Button-icon",src:we,size:"small","data-testid":"digButtonDropdownIcon",isOpticallyAligned:!0})),m&&N.createElement("span",{className:"dig-Button-spinner","data-testid":"digButtonSpinner"},N.createElement(Rt,{monochromatic:!0,hasOpaqueTrack:"primary"===n,size:"xsmall"})))}));Jo.displayName="Button";function Xo(e){switch(e||"medium"){case"small":return"small";case"medium":default:return"medium";case"large":case"xlarge":return"large"}}var Qo=N.forwardRef((({children:e,className:t,disabled:n=!1,variant:i,inverse:o=!1,isRounded:r,shape:a,size:s="medium",withDropdownIcon:c=!1,href:l,type:d,_pseudoClass:u=[],...m},p)=>{const[f,g]=Wo({href:l,disabled:n,type:d}),h=Yo(s),_=a||(!0===r?"circular":"standard"),v=dt().getInverseProps().className;var b;b="`withDropdownIcon` only applies to non-circular icon buttons.",!(c&&"circular"===_)||console.error("dig-components:",b);const y=ue("dig-IconButton",`dig-IconButton--${i}`,`dig-IconButton--${Ko(h)}`,{[v]:o,"dig-IconButton--circular":"circular"===_,"dig-IconButton--withDropdownIcon":c&&"circular"!==_,"dig-IconButton--hover":u.includes("hover"),"dig-IconButton--active":u.includes("active"),"dig-IconButton--focus":u.includes("focus")},t);return N.createElement(f,{className:y,ref:p,...g,...m},N.createElement("span",{className:"dig-IconButton-content"},N.createElement(me.Provider,{value:{UIIconOverrides:{size:Xo(h)}}},e),c&&"circular"!==_&&N.createElement(fe,{src:we,size:"small","data-testid":"digIconButtonDropdownIcon"})))}));Qo.displayName="IconButton";var er=N.forwardRef((({className:e,children:t,renderMenu:n,variant:i,inverse:o=!1,size:r="medium",fullWidth:a=!1,isLoading:s=!1,disabled:c=s,_pseudoClass:l=[],...d},u)=>{const m=Yo(r),p=dt().getInverseProps().className,f=ue("dig-SplitButton",`dig-SplitButton--${i}`,`dig-SplitButton--${Ko(m)}`,{"dig-SplitButton--fullWidth":a,[p]:o},e),g={buttonProps:{variant:i,size:m,inverse:o,disabled:c||s,className:"dig-SplitButton-menu-button",withDropdownIcon:!0,_hasSquaredSize:!0}};return N.createElement("span",{role:"group",className:f},N.createElement(Jo,{ref:u,className:"dig-SplitButton-button",variant:i,size:m,isLoading:s,disabled:c,_pseudoClass:l,...d,_hasRightMargin:"primary"===i||"opacity"===i,_hasCollapsedMargins:"outline"===i||"filled"===i},t),n(g))}));er.displayName="SplitButton",N.forwardRef((({cursor:e="default",circular:t=!1,children:n,className:i,...o},r)=>{const a=ue("dig-StylelessButton",i,{"dig-StylelessButton--pointer":"pointer"===e,"dig-StylelessButton--circular":t});return N.createElement("button",{className:a,ref:r,...o},N.createElement("span",{className:"dig-StylelessButton-content"},n))})).displayName="StylelessButton";var tr="digButtonBarShadow-",nr=({children:e,menuTrigger:t})=>{const[n,i]=N.useState(new Map),o=N.useRef(null),r=N.useRef(),a=!Array.from(n.values()).every((e=>e));return N.useEffect((()=>{const e=e=>{e.forEach((e=>{const t=e.target.id;i((n=>{const i=new Map(n);return i.set(t,e.isIntersecting),i}))}))};return window.IntersectionObserver?(r.current=new IntersectionObserver(e,{root:o.current,threshold:1}),o.current&&Array.from(o.current.children).forEach((e=>{r.current&&r.current.observe(e)}))):o.current&&Array.from(o.current.children).forEach(((e,t)=>{i((n=>{const i=new Map(n);return i.set(e.id,0===t),i}))})),()=>{r.current&&(r.current.disconnect(),r.current=void 0)}}),[]),N.createElement("div",{className:"dig-ButtonBar-overflow"},N.createElement("div",{className:"dig-ButtonBar-overflow-content"},N.Children.map(e,(e=>{if(N.isValidElement(e)&&n.get(`${tr}${e.props.id}`))return e})),a&&N.createElement(qo.Wrapper,{className:"dig-ButtonBar-menu"},(({getContentProps:i,getTriggerProps:o})=>N.createElement(N.Fragment,null,N.isValidElement(t)&&N.cloneElement(t,{...o()}),N.createElement(qo.Content,{...i()},N.createElement(qo.Segment,null,N.Children.map(e,(e=>{if(N.isValidElement(e)){const i=`${tr}${e.props.id}`;if(!n.get(i))return N.createElement(qo.ActionItem,{key:e.props.id,...(t=e.props,{id:t.id,children:t.children,disabled:t.disabled,onClick:t.onClick,href:t.href,value:t.href,"aria-label":t["aria-label"],withLeftAccessory:t.withIconStart||t.withIconLeft,withRightAccessory:t.withIconEnd,...t.menuItemProps})},e.props.children)}var t})))))))),N.createElement("div",{className:"dig-ButtonBar-overflow-content dig-ButtonBar-overflow-content-shadow","aria-hidden":"true"},N.createElement("div",{className:"dig-ButtonBar-overflow-buttons",ref:o},N.Children.map(e,(e=>{if(N.isValidElement(e))return N.cloneElement(e,{id:`${tr}${e.props.id}`,"aria-hidden":!0,tabIndex:-1})}))),a&&N.createElement(qo.Wrapper,null,(()=>N.createElement(N.Fragment,null,N.isValidElement(t)&&N.cloneElement(t,{"data-testid":`${tr}${t.props["data-testid"]}`}))))))};nr.displayName="ButtonBarOverflow";var ir=N.forwardRef((({variant:e,size:t="medium",disabled:n,...i},o)=>{const r=ue("dig-ButtonBar-menu-trigger",`dig-ButtonBar-menu-trigger--${t}`);return N.createElement(Jo,{className:r,variant:e,size:t,disabled:n,ref:o,"data-testid":"digButtonBarMenuTrigger",...i},N.createElement(fe,{size:"small",src:Oe}))})),or=N.forwardRef((({children:e,className:t,variant:n,disabled:i=!1,size:o="medium",...r},a)=>{const s=ue("dig-ButtonBar-button",t),c={...r};return delete c.menuItemProps,N.createElement(Jo,{id:r.id,...c,className:s,variant:n,size:o,disabled:i,ref:a},e)})),rr=N.forwardRef((({children:e,className:t,variant:n,size:i="medium",disabled:o=!1,buttonGroupProps:r,...a},s)=>{const c=ue("dig-ButtonBar",`dig-ButtonBar--${n}`,{"dig-ButtonBar--disabled":o},t);return N.createElement("div",{className:c,ref:s,...a},N.createElement(nr,{menuTrigger:N.createElement(ir,{variant:n,size:i,disabled:o})},r.map((e=>N.createElement(or,{key:e.id,...e,variant:n,size:i,disabled:o||e.disabled,ref:e.ref},e.children)))))}));rr.displayName="ButtonBar";var ar=(e,t)=>{e||console.error("dig-components:",t)},sr=({className:e="",children:t})=>{const n=ue("dig-Banner-message",e);return N.createElement(gt,{className:n},t)};sr.displayName="Banner.Message";var cr=({className:e="",children:t,...n})=>N.createElement("span",{className:ue("dig-Banner-actions",e),...n},t);cr.displayName="Banner.Actions";var lr=(e,t)=>{if("basic"===e)switch(t){case"attention":default:return ke;case"success":return ye;case"warning":return Ie;case"alert":return Ne}else switch(t){case"attention":default:return ve;case"success":return he;case"warning":return be;case"alert":return _e}},dr=({variant:e="basic",type:t="neutral",withLeftIcon:n,withLeftPictogram:i})=>{const o="dig-Banner-icon";return"basic"===e?!n||!0===n&&"neutral"===t?null:!0===n?N.createElement(fe,{className:o,src:lr(e,t),size:"medium"}):(ar(n.type===fe,"The Banner component only accepts `<UIIcon />` in the `withLeftIcon` prop."),N.createElement("span",{className:o},n)):!i&&"neutral"===t||null===i?null:i?(ar(i.type===ge,"The Banner component only accepts `<PictogramIcon />` in the `withLeftPictogram` prop."),N.createElement("div",{className:o},i)):N.createElement(ge,{className:o,src:lr(e,t)})};dr.displayName="BannerIcon";var ur=e=>{const{children:t,className:n,type:i="neutral",onRequestClose:o,withCloseButton:r,withLeftIcon:a=!0,withLeftPictogram:s,variant:c="basic",...l}=e;return N.createElement("div",{role:"alert",className:ue("dig-Banner",n,`dig-Banner--${i}`,`dig-Banner--${c}`,{"dig-Banner--withCloseButton":r,"dig-Banner--withPictogram":s,"dig-Banner--withIcon":a}),...l},N.createElement(dr,{variant:c,type:i,withLeftIcon:a,withLeftPictogram:s}),N.createElement("span",null,t),!!r&&N.createElement(Qo,{variant:"transparent",className:"dig-Banner-close","aria-label":r,"data-testid":"digBannerCloseButton",onClick:o},N.createElement(fe,{src:Te})))};ur.displayName="Banner",ur.Actions=cr,ur.Message=sr;const mr=e=>{const t=ue({"consent-switch-slider":!0,slideron:e.checked,disabled:e.disabled});return N.createElement("label",{className:"consent-switch",style:{flexShrink:0,alignSelf:"flex-start"},"aria-checked":e.checked,"aria-labelledby":e.labelledby,"aria-describedby":e.describedby,"data-uxa-log":"privacy_consent_toggle_"+e.id+"_"+!e.checked},N.createElement("input",{type:"checkbox",id:e.id,name:e.name,"aria-labelledby":e.labelledby,"aria-describedby":e.describedby,"aria-checked":e.checked,checked:e.checked,disabled:e.disabled,onChange:t=>{e.onChange(t.target.checked,e.id,e.gdprCount)}}),N.createElement("div",{className:t}))};mr.displayName="PreferencesSlider";const pr=e=>N.createElement("div",{className:fr},N.createElement("label",{id:e.id+"-label",className:e.titleClassName,htmlFor:e.id},e.title,N.createElement(mr,Object.assign({},e,{labelledby:e.id+"-label",describedby:e.id+"-blurb",name:e.id,onChange:e.onChange}))),N.createElement("p",{id:e.id+"-toggle-label",className:"prc-tp-cat-all-toggle-label"},e.buttonLabel),N.createElement("p",{id:e.id+"-blurb",className:e.descClassName},e.blurb));pr.displayName="PreferencesCategory";const fr=ue({"border-top":!0,"dns-pref":!0}),gr=u.intl.formatMessage({id:"JFt8fI",defaultMessage:"Global Privacy Control enabled. Disable to modify cookie categories."}),hr=u.intl.formatMessage({id:"B/scGc",defaultMessage:"Do not sell or share my information"}),_r=u.intl.formatMessage({id:"/BLodS",defaultMessage:"Do not sell or share my personal information is now active. You may close this window."}),vr=u.intl.formatMessage({id:"5g1q9D",defaultMessage:'You have successfully unenrolled in CCPA\'s "Do not sell or share my personal information". You may now close this window.'}),br=()=>N.createElement("div",null,N.createElement("span",{className:"gpc-info"},N.createElement(fe,{className:"gpc-info-icon",src:ke}),N.createElement("label",{id:"gpc-label",className:"gpc-label",htmlFor:"gpc"},gr)));br.displayName="GPCInfo";const yr=e=>{const t=u.intl.formatMessage({id:"brKQ8K",defaultMessage:'Do not sell or share my personal data to third-parties when I visit this website. Enabling this option will disable all cookies except for those classified as "strictly necessary". Visit our <button>Cookie FAQ page</button> for more information.'},{button:t=>N.createElement("button",{id:"cookie-faq-link",onClick:e.onCookieFAQLinkClick},t)});return N.createElement("div",{"data-uxa-log":"privacy_consent_detailed_view","data-uxa-interactions":"shown click"},N.createElement(pr,{checked:e.checked,disabled:e.disabled,onChange:e.onChange,title:hr,id:"dns",blurb:t,buttonLabel:"",onCookieFAQLinkClick:e.onCookieFAQLinkClick,titleClassName:"dns-label",descClassName:"dns-blurb",gdprCount:0}),e.children)};yr.displayName="CCPAPreferencesWithGDPR";const Er=e=>{const t=u.intl.formatMessage({id:"brKQ8K",defaultMessage:'Do not sell or share my personal data to third-parties when I visit this website. Enabling this option will disable all cookies except for those classified as "strictly necessary". Visit our <button>Cookie FAQ page</button> for more information.'},{button:t=>N.createElement("button",{id:"cookie-faq-link",onClick:e.onCookieFAQLinkClick,"data-uxa-log":"privacy_consent_detailed_view_ccpa_cookie_faq_link"},t)});return N.createElement("div",{className:"","data-uxa-log":"privacy_consent_detailed_view_ccpa_only","data-uxa-interactions":"shown click"},N.createElement(fe,{src:xe,size:"large"}),N.createElement(ht,{className:"dns-label"},hr),N.createElement("div",{style:{display:"flex",marginBottom:"24px"}},N.createElement("label",{id:"dns-blurb",className:"dns-blurb",htmlFor:"dns",style:{marginRight:"40px"}},t),N.createElement(mr,{checked:e.checked,disabled:e.disabled,onChange:e.onChange,labelledby:"dns-label",describedby:"dns-blurb",id:"dns",name:"dns",gdprCount:0})),e.children)};var wr;Er.displayName="CCPAPreferencesCCPAOnly",function(e){e[e.GDPR_EMBEDDED=0]="GDPR_EMBEDDED",e[e.CCPA_ONLY=1]="CCPA_ONLY"}(wr||(wr={}));const Sr=e=>{const t=N.createElement(Ve,{enrollmentState:e.enrollmentState,email:e.email,handleEmailChange:e.handleEmailChange,userEmails:e.userEmails,verifiedEmails:e.verifiedEmails,unverifiedEmails:e.unverifiedEmails});let n;n=e.displayVariant===wr.GDPR_EMBEDDED?N.createElement(yr,{checked:e.checked,disabled:e.disabled,onChange:e.onChange,onCookieFAQLinkClick:e.onCookieFAQLinkClick},t):N.createElement(Er,{checked:e.checked,disabled:e.disabled,onChange:e.onChange,onCookieFAQLinkClick:e.onCookieFAQLinkClick},t);const i=e.enrollmentState===x.EnrollmentPendingEmailVerificationSent||e.enrollmentState===x.EnrollmentPendingAccountVerificationSent;return N.createElement(N.Fragment,null,e.gpcEnabled&&N.createElement(br,null),n,e.isFlowComplete&&N.createElement(ur,{type:"attention"},N.createElement(ur.Message,null,i?_r:vr)))};Sr.displayName="CCPAPreferences";const Cr={id:"w66F93",defaultMessage:"Categories"},Tr={id:"8JKczD",defaultMessage:"Strictly Necessary"},xr={id:"xXrEoN",defaultMessage:"Cookies that are used to operate the website and services, such as to log you in and keep your account secure."},Nr={id:"UsqM4D",defaultMessage:"General Marketing and Advertising"},kr={id:"bAd1ZE",defaultMessage:"Cookies that are used by Dropbox and our partners to better understand the types of individuals who are interested in our products and services and how we can promote those services based on that information."},Or={id:"ekVM/q",defaultMessage:"Social Media Advertising"},Ir={id:"nxal8t",defaultMessage:"Cookies that are used by Dropbox and our partners to understand the effectiveness of our advertisements on social media services. These cookies also help them understand your advertising preferences so they can more effectively show you our advertisements which are relevant to your interests."},Ar={id:"jqNTx9",defaultMessage:"Analytics"},Rr={id:"ZqHM1c",defaultMessage:"Cookies that help us and our partners understand how our websites are engaged with, such as usage statistics or to reconstruct viewed UI elements, in order to improve and customize our services."},Fr={id:"birN7L",defaultMessage:"Performance and Functionality"},Lr={id:"7MTBdr",defaultMessage:"Cookies which help us remember your preferences and settings in order to improve your experience when interacting with our sites and services."},Mr={id:"KNW3g/",defaultMessage:"Cancel"},Pr={id:"r50p0h",defaultMessage:"Save Preferences"},Dr={id:"Wo8/gx",defaultMessage:"Update cookie preferences"},Br={id:"NIyD8N",defaultMessage:"Send Verification"},Ur="all_categories",zr="strictly_necessary_inactive",Gr="general_marketing_and_advertising",jr="social_media_marketing",Vr="analytics",$r="performance_and_functionality",qr=e=>{return N.createElement(N.Fragment,null,N.createElement(pr,Object.assign({},e,{checked:e.allGdprToggle,disabled:e.disabled,onChange:e.onChange,title:u.intl.formatMessage(Cr),id:Ur,blurb:"",buttonLabel:(t=u.intl,n=e.gdprCount,t.formatMessage({id:"+mECBN",defaultMessage:"{num} of 4 allowed"},{num:n})),titleClassName:"prefdiag-categoryheader",descClassName:"prefdiag-categorydesc"})),N.createElement(pr,Object.assign({},e,{checked:e.strictlyToggle,disabled:!0,onChange:e.onChange,title:u.intl.formatMessage(Tr),id:zr,blurb:u.intl.formatMessage(xr),buttonLabel:"",titleClassName:"prefdiag-header",descClassName:"prefdiag-categorydesc"})),N.createElement(pr,Object.assign({},e,{checked:e.generalToggle,disabled:e.disabled,onChange:e.onChange,title:u.intl.formatMessage(Nr),id:Gr,blurb:u.intl.formatMessage(kr),buttonLabel:"",titleClassName:"prefdiag-header",descClassName:"prefdiag-categorydesc"})),N.createElement(pr,Object.assign({},e,{checked:e.socialToggle,disabled:e.disabled,onChange:e.onChange,title:u.intl.formatMessage(Or),id:jr,blurb:u.intl.formatMessage(Ir),buttonLabel:"",titleClassName:"prefdiag-header",descClassName:"prefdiag-categorydesc"})),N.createElement(pr,Object.assign({},e,{checked:e.analyticsToggle,disabled:e.disabled,onChange:e.onChange,title:u.intl.formatMessage(Ar),id:Vr,blurb:u.intl.formatMessage(Rr),buttonLabel:"",titleClassName:"prefdiag-header",descClassName:"prefdiag-categorydesc"})),N.createElement(pr,Object.assign({},e,{checked:e.performanceToggle,disabled:e.disabled,onChange:e.onChange,title:u.intl.formatMessage(Fr),id:$r,blurb:u.intl.formatMessage(Lr),buttonLabel:"",titleClassName:"prefdiag-header",descClassName:"prefdiag-categorydesc"})));var t,n};qr.displayName="GDPRPreferences";"dropbox.com".split(".").length;const Wr=N.createContext({document:document,window:window});var Hr;function Kr(e){function t(e,i,c,l,m){for(var p,f,g,h,y,w=0,S=0,C=0,T=0,x=0,R=0,L=g=p=0,P=0,D=0,B=0,U=0,z=c.length,G=z-1,j="",V="",$="",q="";P<z;){if(f=c.charCodeAt(P),P===G&&0!==S+T+C+w&&(0!==S&&(f=47===S?10:47),T=C=w=0,z++,G++),0===S+T+C+w){if(P===G&&(0<D&&(j=j.replace(u,"")),0<j.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:j+=c.charAt(P)}f=59}switch(f){case 123:for(p=(j=j.trim()).charCodeAt(0),g=1,U=++P;P<z;){switch(f=c.charCodeAt(P)){case 123:g++;break;case 125:g--;break;case 47:switch(f=c.charCodeAt(P+1)){case 42:case 47:e:{for(L=P+1;L<G;++L)switch(c.charCodeAt(L)){case 47:if(42===f&&42===c.charCodeAt(L-1)&&P+2!==L){P=L+1;break e}break;case 10:if(47===f){P=L+1;break e}}P=L}}break;case 91:f++;case 40:f++;case 34:case 39:for(;P++<G&&c.charCodeAt(P)!==f;);}if(0===g)break;P++}if(g=c.substring(U,P),0===p&&(p=(j=j.replace(d,"").trim()).charCodeAt(0)),64===p){switch(0<D&&(j=j.replace(u,"")),f=j.charCodeAt(1)){case 100:case 109:case 115:case 45:D=i;break;default:D=A}if(U=(g=t(i,D,g,f,m+1)).length,0<F&&(y=s(3,g,D=n(A,j,B),i,k,N,U,f,m,l),j=D.join(""),void 0!==y&&0===(U=(g=y.trim()).length)&&(f=0,g="")),0<U)switch(f){case 115:j=j.replace(E,a);case 100:case 109:case 45:g=j+"{"+g+"}";break;case 107:g=(j=j.replace(_,"$1 $2"))+"{"+g+"}",g=1===I||2===I&&r("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=j+g,112===l&&(V+=g,g="")}else g=""}else g=t(i,n(i,j,B),g,l,m+1);$+=g,g=B=D=L=p=0,j="",f=c.charCodeAt(++P);break;case 125:case 59:if(1<(U=(j=(0<D?j.replace(u,""):j).trim()).length))switch(0===L&&(p=j.charCodeAt(0),45===p||96<p&&123>p)&&(U=(j=j.replace(" ",":")).length),0<F&&void 0!==(y=s(1,j,i,e,k,N,V.length,l,m,l))&&0===(U=(j=y.trim()).length)&&(j="\0\0"),p=j.charCodeAt(0),f=j.charCodeAt(1),p){case 0:break;case 64:if(105===f||99===f){q+=j+c.charAt(P);break}default:58!==j.charCodeAt(U-1)&&(V+=o(j,p,f,j.charCodeAt(2)))}B=D=L=p=0,j="",f=c.charCodeAt(++P)}}switch(f){case 13:case 10:47===S?S=0:0===1+p&&107!==l&&0<j.length&&(D=1,j+="\0"),0<F*M&&s(0,j,i,e,k,N,V.length,l,m,l),N=1,k++;break;case 59:case 125:if(0===S+T+C+w){N++;break}default:switch(N++,h=c.charAt(P),f){case 9:case 32:if(0===T+w+S)switch(x){case 44:case 58:case 9:case 32:h="";break;default:32!==f&&(h=" ")}break;case 0:h="\\0";break;case 12:h="\\f";break;case 11:h="\\v";break;case 38:0===T+S+w&&(D=B=1,h="\f"+h);break;case 108:if(0===T+S+w+O&&0<L)switch(P-L){case 2:112===x&&58===c.charCodeAt(P-3)&&(O=x);case 8:111===R&&(O=R)}break;case 58:0===T+S+w&&(L=P);break;case 44:0===S+C+T+w&&(D=1,h+="\r");break;case 34:case 39:0===S&&(T=T===f?0:0===T?f:T);break;case 91:0===T+S+C&&w++;break;case 93:0===T+S+C&&w--;break;case 41:0===T+S+w&&C--;break;case 40:if(0===T+S+w){if(0===p)if(2*x+3*R==533);else p=1;C++}break;case 64:0===S+C+T+w+L+g&&(g=1);break;case 42:case 47:if(!(0<T+w+C))switch(S){case 0:switch(2*f+3*c.charCodeAt(P+1)){case 235:S=47;break;case 220:U=P,S=42}break;case 42:47===f&&42===x&&U+2!==P&&(33===c.charCodeAt(U+2)&&(V+=c.substring(U,P+1)),h="",S=0)}}0===S&&(j+=h)}R=x,x=f,P++}if(0<(U=V.length)){if(D=i,0<F&&(void 0!==(y=s(2,V,D,e,k,N,U,l,m,l))&&0===(V=y).length))return q+V+$;if(V=D.join(",")+"{"+V+"}",0!=I*O){switch(2!==I||r(V,2)||(O=0),O){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(v,"::-webkit-input-$1")+V.replace(v,"::-moz-$1")+V.replace(v,":-ms-input-$1")+V}O=0}}return q+V+$}function n(e,t,n){var o=t.trim().split(g);t=o;var r=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<r;++s)t[s]=i(e,t[s],n).trim();break;default:var c=s=0;for(t=[];s<r;++s)for(var l=0;l<a;++l)t[c++]=i(e[l]+" ",o[s],n).trim()}return t}function i(e,t,n){var i=t.charCodeAt(0);switch(33>i&&(i=(t=t.trim()).charCodeAt(0)),i){case 38:return t.replace(h,"$1"+e.trim());case 58:return e.trim()+t.replace(h,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(h,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,n,i){var a=e+";",s=2*t+3*n+4*i;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===I||2===I&&r(c,1)?"-webkit-"+c+c:c}if(0===I||2===I&&!r(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(x,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return p.test(a)?a.replace(m,":-webkit-")+a.replace(m,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(y,"tb");break;case 232:c=a.replace(y,"tb-rl");break;case 220:c=a.replace(y,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,n,i).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function r(e,t){var n=e.indexOf(1===t?":":"{"),i=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),L(2!==t?i:i.replace(C,"$1"),n,t)}function a(e,t){var n=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,i,o,r,a,s,c,d){for(var u,m=0,p=t;m<F;++m)switch(u=R[m].call(l,e,p,n,i,o,r,a,s,c,d)){case void 0:case!1:case!0:case null:break;default:p=u}if(p!==t)return p}function c(e){return void 0!==(e=e.prefix)&&(L=null,e?"function"!=typeof e?I=1:(I=2,L=e):I=0),c}function l(e,n){var i=e;if(33>i.charCodeAt(0)&&(i=i.trim()),i=[i],0<F){var o=s(-1,n,i,i,k,N,0,0,0,0);void 0!==o&&"string"==typeof o&&(n=o)}var r=t(A,i,n,0,0);return 0<F&&(void 0!==(o=s(-2,r,i,i,k,N,r.length,0,0,0))&&(r=o)),"",O=0,N=k=1,r}var d=/^\0+/g,u=/[\0\r\f]/g,m=/: */g,p=/zoo|gra/,f=/([,: ])(transform)/g,g=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,_=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,S=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,x=/([^-])(image-set\()/,N=1,k=1,O=0,I=1,A=[],R=[],F=0,L=null,M=0;return l.use=function e(t){switch(t){case void 0:case null:F=R.length=0;break;default:if("function"==typeof t)R[F++]=t;else if("object"==typeof t)for(var n=0,i=t.length;n<i;++n)e(t[n]);else M=0|!!t}return e},l.set=c,void 0!==e&&c(e),l}!function(e){e.LOADING="loading",e.SUCCESS="success",e.FAILED="failed",e.FORCE_RENDERED="force-rendered"}(Hr||(Hr={}));var Yr={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Zr=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Jr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return Zr.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Xr(){return(Xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Qr=function(e,t){for(var n=[e[0]],i=0,o=t.length;i<o;i+=1)n.push(t[i],e[i+1]);return n},ea=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!u.reactIsExports.typeOf(e)},ta=Object.freeze([]),na=Object.freeze({});function ia(e){return"function"==typeof e}function oa(e){return e.displayName||e.name||"Component"}function ra(e){return e&&"string"==typeof e.styledComponentId}var aa="data-styled",sa="undefined"!=typeof window&&"HTMLElement"in window,ca="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||"undefined"!=typeof process&&void 0||!1;function la(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var da=function(e){var t=document.head,n=e||t,i=document.createElement("style"),o=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var i=t[n];if(i&&1===i.nodeType&&i.hasAttribute(aa))return i}}(n),r=void 0!==o?o.nextSibling:null;i.setAttribute(aa,"active"),i.setAttribute("data-styled-version","5.2.0");var a="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null;return a&&i.setAttribute("nonce",a),n.insertBefore(i,r),i},ua=function(){function e(e){var t=this.element=da(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,i=t.length;n<i;n++){var o=t[n];if(o.ownerNode===e)return o}la(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),ma=function(){function e(e){var t=this.element=da(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),i=this.nodes[e];return this.element.insertBefore(n,i||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),pa=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),fa=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,o=i;e>=o;)(o<<=1)<0&&la(16,""+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var r=i;r<o;r++)this.groupSizes[r]=0}for(var a=this.indexOfGroup(e+1),s=0,c=t.length;s<c;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),i=n+t;this.groupSizes[e]=0;for(var o=n;o<i;o++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),o=i+n,r=i;r<o;r++)t+=this.tag.getRule(r)+"/*!sc*/\n";return t},e}(),ga=new Map,ha=new Map,_a=1,va=function(e){if(ga.has(e))return ga.get(e);var t=_a++;return ga.set(e,t),ha.set(t,e),t},ba=function(e){return ha.get(e)},ya=function(e,t){t>=_a&&(_a=t+1),ga.set(e,t),ha.set(t,e)},Ea="style["+aa+'][data-styled-version="5.2.0"]',wa=new RegExp("^"+aa+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Sa=function(e,t,n){for(var i,o=n.split(","),r=0,a=o.length;r<a;r++)(i=o[r])&&e.registerName(t,i)},Ca=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),i=[],o=0,r=n.length;o<r;o++){var a=n[o].trim();if(a){var s=a.match(wa);if(s){var c=0|parseInt(s[1],10),l=s[2];0!==c&&(ya(l,c),Sa(e,l,s[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},Ta=sa,xa={isServer:!sa,useCSSOMInjection:!ca},Na=function(){function e(e,t,n){void 0===e&&(e=xa),void 0===t&&(t={}),this.options=Xr({},xa,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&sa&&Ta&&(Ta=!1,function(e){for(var t=document.querySelectorAll(Ea),n=0,i=t.length;n<i;n++){var o=t[n];o&&"active"!==o.getAttribute(aa)&&(Ca(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}e.registerId=function(e){return va(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Xr({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,i=t.useCSSOMInjection,o=t.target,e=n?new pa(o):i?new ua(o):new ma(o),new fa(e)));var e,t,n,i,o},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(va(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(va(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(va(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,i="",o=0;o<n;o++){var r=ba(o);if(void 0!==r){var a=e.names.get(r),s=t.getGroup(o);if(void 0!==a&&0!==s.length){var c=aa+".g"+o+'[id="'+r+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),i+=""+s+c+'{content:"'+l+'"}/*!sc*/\n'}}}return i}(this)},e}(),ka=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Oa=function(e){return ka(5381,e)},Ia=/^\s*\/\/.*$/gm,Aa=[":","[",".","#"];var Ra=N.default.createContext();Ra.Consumer;var Fa=N.default.createContext(),La=(Fa.Consumer,new Na),Ma=function(e){var t,n,i,o,r=void 0===e?na:e,a=r.options,s=void 0===a?na:a,c=r.plugins,l=void 0===c?ta:c,d=new Kr(s),u=[],m=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,i,o,r,a,s,c,l,d,u){switch(n){case 1:if(0===d&&64===i.charCodeAt(0))return e(i+";"),"";break;case 2:if(0===l)return i+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(o[0]+i),"";default:return i+(0===u?"/*|*/":"")}case-2:i.split("/*|*/}").forEach(t)}}}((function(e){u.push(e)})),p=function(e,i,r){return 0===i&&Aa.includes(r[n.length])||r.match(o)?e:"."+t};function f(e,r,a,s){void 0===s&&(s="&");var c=e.replace(Ia,""),l=r&&a?a+" "+r+" { "+c+" }":c;return t=s,n=r,i=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),d(a||!r?"":r,l)}return d.use([].concat(l,[function(e,t,o){2===e&&o.length&&o[0].lastIndexOf(n)>0&&(o[0]=o[0].replace(i,p))},m,function(e){if(-2===e){var t=u;return u=[],t}}])),f.hash=l.length?l.reduce((function(e,t){return t.name||la(15),ka(e,t.name)}),5381).toString():"",f}();var Pa=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Ma);var i=n.name+t.hash;e.hasNameForId(n.id,i)||e.insertRules(n.id,i,t(n.rules,i,"@keyframes"))},this.toString=function(){return la(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Ma),this.name+e.hash},e}(),Da=/([A-Z])/,Ba=new RegExp(Da,"g"),Ua=/^ms-/,za=function(e){return"-"+e.toLowerCase()};function Ga(e){return Da.test(e)?e.replace(Ba,za).replace(Ua,"-ms-"):e}var ja=function(e){return null==e||!1===e||""===e};function Va(e,t,n,i){if(Array.isArray(e)){for(var o,r=[],a=0,s=e.length;a<s;a+=1)""!==(o=Va(e[a],t,n,i))&&(Array.isArray(o)?r.push.apply(r,o):r.push(o));return r}return ja(e)?"":ra(e)?"."+e.styledComponentId:ia(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:Va(e(t),t,n,i):e instanceof Pa?n?(e.inject(n,i),e.getName(i)):e:ea(e)?function e(t,n){var i,o,r=[];for(var a in t)t.hasOwnProperty(a)&&!ja(t[a])&&(ea(t[a])?r.push.apply(r,e(t[a],a)):ia(t[a])?r.push(Ga(a)+":",t[a],";"):r.push(Ga(a)+": "+(i=a,(null==(o=t[a])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||i in Yr?String(o).trim():o+"px")+";")));return n?[n+" {"].concat(r,["}"]):r}(e):e.toString();var c}function $a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ia(e)||ea(e)?Va(Qr(ta,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Va(Qr(e,n))}var qa=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Wa=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ha(e,t,n){var i=e[n];qa(t)&&qa(i)?Ka(i,t):e[n]=t}function Ka(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var o=0,r=n;o<r.length;o++){var a=r[o];if(qa(a))for(var s in a)Wa(s)&&Ha(e,a[s],s)}return e}var Ya=/(a)(d)/gi,Za=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ja(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Za(t%52)+n;return(Za(t%52)+n).replace(Ya,"$1-$2")}var Xa=Oa("5.2.0"),Qa=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ia(n)&&!ra(n))return!1}return!0}(e),this.componentId=t,this.baseHash=ka(Xa,t),this.baseStyle=n,Na.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var r=Va(this.rules,e,t,n).join(""),a=Ja(ka(this.baseHash,r.length)>>>0);if(!t.hasNameForId(i,a)){var s=n(r,"."+a,void 0,i);t.insertRules(i,a,s)}o.push(a),this.staticRulesId=a}else{for(var c=this.rules.length,l=ka(this.baseHash,n.hash),d="",u=0;u<c;u++){var m=this.rules[u];if("string"==typeof m)d+=m;else if(m){var p=Va(m,e,t,n),f=Array.isArray(p)?p.join(""):p;l=ka(l,f+u),d+=f}}if(d){var g=Ja(l>>>0);if(!t.hasNameForId(i,g)){var h=n(d,"."+g,void 0,i);t.insertRules(i,g,h)}o.push(g)}}return o.join(" ")},e}(),es=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ts=/(^-|-$)/g;function ns(e){return e.replace(es,"-").replace(ts,"")}function is(e){return"string"==typeof e&&!0}var os=N.default.createContext();os.Consumer;var rs={};function as(e,t,i){var o=ra(e),r=!is(e),a=t.displayName,s=void 0===a?function(e){return is(e)?"styled."+e:"Styled("+oa(e)+")"}(e):a,c=t.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":ns(e);rs[n]=(rs[n]||0)+1;var i=n+"-"+function(e){return Ja(Oa(e)>>>0)}("5.2.0"+n+rs[n]);return t?t+"-"+i:i}(t.displayName,t.parentComponentId):c,d=t.attrs,m=void 0===d?ta:d,p=t.displayName&&t.componentId?ns(t.displayName)+"-"+t.componentId:t.componentId||l,f=o&&e.attrs?Array.prototype.concat(e.attrs,m).filter(Boolean):m,g=t.shouldForwardProp;o&&e.shouldForwardProp&&(g=g?function(n,i){return e.shouldForwardProp(n,i)&&t.shouldForwardProp(n,i)}:e.shouldForwardProp);var h,_=new Qa(i,p,o?e.componentStyle:void 0),v=function(e,t){return function(e,t,i){var o=e.attrs,r=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,d=e.target,u=function(e,t,n){void 0===e&&(e=na);var i=Xr({},t,{theme:e}),o={};return n.forEach((function(e){var t,n,r,a=e;for(t in ia(a)&&(a=a(i)),a)i[t]=o[t]="className"===t?(n=o[t],r=a[t],n&&r?n+" "+r:n||r):a[t]})),[i,o]}(function(e,t,n){return void 0===n&&(n=na),e.theme!==n.theme&&e.theme||t||n.theme}(t,n.useContext(os),a)||na,t,o),m=u[0],p=u[1],f=function(e,t,i,o){var r=n.useContext(Ra)||La,a=n.useContext(Fa)||Ma;return e.isStatic&&!t?e.generateAndInjectStyles(na,r,a):e.generateAndInjectStyles(i,r,a)}(r,o.length>0,m),g=i,h=p.$as||t.$as||p.as||t.as||d,_=is(h),v=p!==t?Xr({},t,{},p):t,b=c||_&&Jr,y={};for(var E in v)"$"!==E[0]&&"as"!==E&&("forwardedAs"===E?y.as=v[E]:b&&!b(E,Jr)||(y[E]=v[E]));return t.style&&p.style!==t.style&&(y.style=Xr({},t.style,{},p.style)),y.className=Array.prototype.concat(s,l,f!==l?f:null,t.className,p.className).filter(Boolean).join(" "),y.ref=g,n.createElement(h,y)}(h,e,t)};return v.displayName=s,(h=N.default.forwardRef(v)).attrs=f,h.componentStyle=_,h.displayName=s,h.shouldForwardProp=g,h.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ta,h.styledComponentId=p,h.target=o?e.target:e,h.withComponent=function(e){var n=t.componentId,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["componentId"]),r=n&&n+"-"+(is(e)?e:ns(oa(e)));return as(e,Xr({},o,{attrs:f,componentId:r}),i)},Object.defineProperty(h,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=o?Ka({},e.defaultProps,t):t}}),h.toString=function(){return"."+h.styledComponentId},r&&u.y(h,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,self:!0,styledComponentId:!0,target:!0,withComponent:!0}),h}var ss=function(e){return function e(t,n,i){if(void 0===i&&(i=na),!u.reactIsExports.isValidElementType(n))return la(1,String(n));var o=function(){return t(n,i,$a.apply(void 0,arguments))};return o.withConfig=function(o){return e(t,n,Xr({},i,{},o))},o.attrs=function(o){return e(t,n,Xr({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},o}(as,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){ss[e]=ss(e)}));var cs=ss;const ls={default:"rgb(247, 245, 242)",hover:"#0061ff"},ds={default:"rgb(30, 25, 25)",hover:"#0061ff"},us=cs.button`
  background-color: ${e=>ls.default};
  color: black;
  padding: 9px 20px;
  border-radius: 1px;
  outline: 0;
  text-transform: capitalize;
  cursor: pointer;
  box-shadow: 0px 2px 2px lightgray;
  transition: ease background-color 150ms;
  font-size: 18px;
  border: 1px solid rgb(0, 0, 0);
  line-height: 26px;
  flex-direction: column;
  font-weight: 500px;
  display: inline-block;
  &:hover {
    background-color: ${e=>ls.hover};
    color: white;
  }
  &:disabled {
    cursor: default;
    opacity: 0.7;
  }
`,ms=cs.button`
  background-color: ${e=>ds.default};
  color: white;
  padding: 9px 20px;
  border-radius: 1px;
  outline: 0;
  text-transform: capitalize;
  margin-left: 16px;
  cursor: pointer;
  box-shadow: 0px 2px 2px lightgray;
  transition: ease background-color 150ms;
  font-size: 18px;
  border: 1px solid rgb(0, 0, 0);
  line-height: 26px;
  flex-direction: column;
  font-weight: 500px;
  display: inline-block;
  &:hover:enabled {
    background-color: ${e=>ds.hover};
  }
  &:disabled {
    cursor: default;
    opacity: 0.25;
  }
`,ps=e=>N.createElement("div",{className:"button-footer"},N.createElement(us,{disabled:!1,onClick:()=>e.onChange(!1),id:"consent-detailed-view-cancel-button","data-uxa-log":"privacy_consent_detailed_view_cancel_button"},e.declineButtonText),N.createElement(ms,{disabled:e.disabled,onClick:()=>e.onChange(!0),id:"consent-detailed-view-save-button","data-uxa-log":"privacy_consent_detailed_view_save_button"},e.acceptButtonText));ps.displayName="PreferencesButton";const fs="ccpa_consent_banner",gs="accept_all_cookies_button",hs="decline_cookies_button",_s=e=>{const t=u.intl.formatMessage({id:"Z0ME6Q",defaultMessage:"We use cookies to provide, improve, protect and promote our services. Visit our <privacy>Privacy Policy</privacy> and <faq>Privacy Policy FAQs</faq> to learn more. You can manage your personal preferences, including your ‘Do not sell or share my personal data to third parties’ setting in our <tool>Cookie Consent Tool</tool>."},{privacy:t=>N.default.createElement("button",{id:"privacy-page-link",onClick:e.onPrivacyPageLinkClick,"data-uxa-log":"privacy_consent_banner_privacy_page_link"},t),faq:t=>N.default.createElement("button",{id:"privacy-policy-faq-link",onClick:e.onPrivacyPolicyFaqLinkClick,"data-uxa-log":"privacy_consent_banner_privacy_policy_faq_link"},t),tool:t=>N.default.createElement("button",{id:"manage-consent-cookies-link",onClick:e.onSettingsClick,"data-uxa-log":"privacy_consent_banner_detailed_view_link"},t)});return n.useEffect((()=>{e.onConsentBannerLoad()})),N.default.createElement(N.default.Fragment,null,N.default.createElement(Ss,{id:fs,"data-uxa-log":"privacy_consent_banner","data-uxa-interactions":"shown click"},N.default.createElement(Cs,null,t),N.default.createElement(Ts,Object.assign({},e,{id:hs,onClick:t=>{e.onClick(hs)},"data-uxa-log":"privacy_consent_banner_decline_all_button"}),vs),N.default.createElement(xs,Object.assign({},e,{id:gs,onClick:t=>{e.onClick(gs)},"data-uxa-log":"privacy_consent_banner_accept_all_button"}),bs)))};_s.displayName="ConsentBanner";const vs=u.intl.formatMessage({id:"TrrEUN",defaultMessage:"Decline"}),bs=u.intl.formatMessage({id:"OyAa/t",defaultMessage:"Accept All"}),ys=cs.div`
  width: auto;
  display: flex;
  flex: 1 1 0%;
  background: rgb(247, 245, 242);
  font-size: 14px;
  color: rgb(51, 51, 51);
  padding: 24px;
  z-index: 10001;
  box-sizing: border-box;
  position: fixed;
  left: 20px;
  right: 20px;
  bottom: 10px;
  text-size-adjust: 100%;
  visibility: visible;
  max-height: 100%;
  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.102); /* Gives container elevation */

  @media (max-width: 601px) {
    flex-direction: column;
    padding: 0px 24px;
  }
`,Es=cs.div`
  width: auto;
  display: flex;
  flex: 1 1 0%;
  background: rgb(247, 245, 242);
  font-size: 14px;
  color: rgb(51, 51, 51);
  padding: 24px;
  z-index: 10001;
  box-sizing: border-box;
  position: fixed;
  left: 20px;
  right: 20px;
  bottom: 10px;
  text-size-adjust: 100%;
  visibility: visible;
  top: 0px;
  max-height: 100%;
  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.102); /* Gives container elevation */

  @media (max-width: 601px) {
    flex-direction: column;
    padding: 0px 24px;
  }
`,ws=navigator.userAgent.toLowerCase(),Ss=ws.includes("iphone")||ws.includes("ipod")?Es:ys,Cs=cs.div`
  margin-right: 48px;
  color: rgb(30, 25, 25);
  font-size: 12px;
  font-weight: 400;
  line-height: 16px;
  text-align: left;
  width: 100%;
  align-self: center;

  @media (max-width: 601px) {
    padding: 24px 0px;
    margin-right: 0px;
  }
`,Ts=cs.button`
  display: flex;
  flex-flow: column nowrap;
  flex-shrink: 0;
  justify-content: center;
  align-self: center;
  border: 1px solid rgb(30, 25, 25);
  background: rgb(247, 245, 242);
  color: rgb(30, 25, 25);
  padding: 9px 20px;
  cursor: pointer;
  font-size: 16px;
  line-height: 26px;
  order: 2;
  &:hover {
    background-color: var(--color_primary--light) !important;
    border: 1px solid var(--color_primary--light) !important;
    color: #fff !important;
  }
  @media (max-width: 601px) {
    width: 100%;
    margin: 5px;
    align-items: center;
  }
`,xs=cs.button`
  display: flex;
  flex-flow: column nowrap;
  justify-content: center;
  align-self: center;
  flex-shrink: 0;
  border: 1px solid rgb(30, 25, 25);
  color: rgb(250, 250, 250);
  background: rgb(30, 25, 25);
  padding: 9px 20px;
  cursor: pointer;
  margin: 0px 0px 0px 16px;
  font-size: 16px;
  line-height: 26px;
  order: 3;
  &:hover {
    background-color: var(--color_primary--light) !important;
    border: 1px solid var(--color_primary--light) !important;
    color: #fff !important;
  }
  @media (max-width: 601px) {
    width: 100%;
    margin: 5px;
    align-items: center;
  }
`,Ns="__Secure-dbx_consent",ks="__Secure-dbx_ccpa_token",Os="__Secure-dbx_do_not_sell",Is=Os+"_dev_",As="Domain",Rs="Path",Fs="Expires",Ls="Secure",Ms="SameSite",Ps="None",Ds=new Set([Ns,Os,ks]);function Bs(e){return(function(e){try{return String(document.cookie||"").split(";").map((e=>e.split("="))).map((e=>e.length>1?e:["",e[0]])).map((e=>[e[0],e.slice(1).join("=")].map((e=>e.replace(/^[ \t]+|[ \t]+$/g,""))))).map((([e,t])=>({name:e,value:t}))).filter((({name:t,value:n})=>t+n&&(void 0===e||t===e)))}catch(e){return[]}}(e)[0]||{name:e,value:""}).value}var Us,zs;function Gs(e,t,n,i,o){(e=>!!Ds.has(e)||!!e.startsWith(Is))(t)&&(document.cookie=function(e,t,n,i,o){const r={[As]:e,[Rs]:"/",[Fs]:i,[Ms]:o||Ps,[Ls]:""},a=[[t,JSON.stringify(n).replace(/[;]|[^ -~]/g,(e=>"\\u"+(65536+e.charCodeAt(0)).toString(16).substring(1)))],...Object.keys(r).map((e=>[e,r[e]]))].map((([e,t])=>t?`${e}=${t}`:`${e}`));return a.join(";")}(e,t,n,i,o))}!function(e){e[e.OptIn=1]="OptIn"}(Us||(Us={})),function(e){e.StrictlyNecessary="strictly necessary",e.MarketingAdvertising="general marketing and advertising",e.Analytics="analytics",e.PerformanceFunctionality="performance and functionality",e.SocialMediaAdvertising="social media advertising",e.AllCookies="all"}(zs||(zs={}));const js={cookieDomain:"dropbox.com",consentDurationMonths:6};class Vs{constructor(e,t){const n=Object.assign(Object.assign({},js),e);this.cookieDomain=n.cookieDomain,this.consentDurationMonths=n.consentDurationMonths,this.numDots=n.cookieDomain.split(".").length-1,this.log=t}hasUserInteracted(){var e;return!!(null===(e=this.getCurrentCookieObj(Ns))||void 0===e?void 0:e.userInteracted)}bakeShadowCookie(e){const t=new Date(e.expireDate).toUTCString();Gs(this.cookieDomain,Ns,e,t,Ps)}bakeDNSCookie(e){const t=new Date(e.expireDate).toUTCString();Gs(this.cookieDomain,Os,e,t)}bakeCCPATokenCookie(e){const t=new Date(e.expireDate).toUTCString();Gs(this.cookieDomain,ks,e,t)}createShadowCookieValue(e,t){const n=this.getCurrentCookieObj(Ns),i=!!n.userInteracted,o=!(!i&&t)&&n.consentDate?new Date(n.consentDate):new Date,r=new Date(o);return r.setMonth(o.getMonth()+this.consentDurationMonths),{consentType:Us.OptIn,consentDate:o.toISOString(),expireDate:r.toISOString(),consentMonths:this.consentDurationMonths,categories:e,userInteracted:i||t,numDots:this.numDots}}mapCookies(e){var t;const n={};for(const i in e)if(e.hasOwnProperty(i)){const o=i.toLowerCase();Object.values(zs).includes(o)?n[o]=e[i]:null===(t=this.log)||void 0===t||t.logInvalidCookieCategoryException(o)}return n}havePreferencesChanged(e){var t;const n=this.getCurrentCookieObj(Ns);if(n)try{const t=JSON.stringify(n.categories);return JSON.stringify(e)!==t}catch(e){return null===(t=this.log)||void 0===t||t.logCookieParseException(Ns,Bs(Ns)),!1}return!0}getAllowedCategories(e){const t=e||this.getCurrentCookieObj(Ns),n=null==t?void 0:t.categories,i=Object.keys(zs);let o=[];return n&&(n[zs.AllCookies]?o=[...i]:i.forEach((e=>{n[zs[e]]&&o.push(e)}))),o}getAllowedCategoriesMap(e){const t=e||this.getCurrentCookieObj(Ns),n=null==t?void 0:t.categories,i={};return n&&Object.keys(zs).forEach((e=>{const t=zs[e];t!==zs.AllCookies&&(i[t]=t===zs.StrictlyNecessary||!!n[t])})),i}onlyStrictlyNecessaryConsent(e){const t=Object.entries(e).filter((([e,t])=>!0===t)).map((([e])=>e));if(t.length<1)throw new Error("malformed consent categories map, at least this category should be allowed: "+zs.StrictlyNecessary);return 1===t.length&&t[0]===zs.StrictlyNecessary}clearDNSCookie(){const e=new Date,t={[As]:this.cookieDomain,[Rs]:"/",[Fs]:e.toUTCString(),[Ms]:Ps,[Ls]:""},n=Object.keys(t).map((e=>void 0!==t[e]?`${e}=${t[e]}`:`${e}`));document.cookie=Os+"=; "+n.join(";")}getCurrentCookieObj(e){var t;const n=Bs(e);if(n)try{return JSON.parse(n)}catch(i){return null===(t=this.log)||void 0===t||t.logCookieParseException(e,n),null}return{}}splitPair(e){const t=e.indexOf("=");let n=[e,""];return t>=0&&(n=[e.slice(0,t),e.slice(t+1)]),n=n.map((e=>e.replace(/^[ \t]*|[ \t]*$/g,""))),[n[0],n[1]]}hasPreviouslyDeclinedConsent(){if(!this.hasUserInteracted())return!1;const e=this.getCurrentCookieObj(Ns);return e&&e.categories&&0===Object.keys(e.categories).length}}const $s="ccpa-reentry-popout-button",qs="ccpa-reentry-popout-toggle",Ws="ccpa-reentry-popout-container",Hs=e=>N.createElement(N.Fragment,null,N.createElement(Js,{id:Ws,"data-uxa-log":"privacy_consent_reentry_button","data-uxa-interactions":"shown click"},!e.isCollapsed&&N.createElement(N.Fragment,null,N.createElement(Ys,Object.assign({},e,{id:$s,onClick:t=>{e.onClick($s,t)},"data-uxa-log":"privacy_consent_reentry_button_into_detailed_view"}),Ks)),N.createElement(Zs,{id:qs,onClick:t=>{e.onClick(qs,t)},"data-uxa-log":e.isCollapsed?"privacy_consent_reentry_button_expand":"privacy_consent_reentry_button_collapse"},e.isCollapsed?N.createElement(N.Fragment,null," 🍪 "):N.createElement(N.Fragment,null," « "))));Hs.displayName="CcpaReentryPopout";const Ks=u.intl.formatMessage({id:"43UMTR",defaultMessage:"Cookies & CCPA preferences"}),Ys=cs.button`
  padding: 12px 9px;
  cursor: pointer;
  text-decoration: none;
  background: rgb(255, 255, 255);
  font-size: 12px;
  line-height: 16px;
  color: rgb(102, 102, 102);
  border-top: 1px solid rgba(166, 158, 146, 0.6);
  border-right: 1px solid rgba(166, 158, 146, 0.6);
  border-bottom: 1px solid rgba(166, 158, 146, 0.6);
  border-image: initial;
  border-left: none;
  margin: 0px 0px 16px;
  white-space: nowrap;
  display: inline-block;
  visibility: visible;
`,Zs=cs.button`
  padding: 12px 5px;
  cursor: pointer;
  text-decoration: none;
  background: rgb(255, 255, 255);
  font-size: 12px;
  line-height: 16px;
  color: rgb(102, 102, 102);
  border-top: 1px solid rgba(166, 158, 146, 0.6);
  border-right: 1px solid rgba(166, 158, 146, 0.6);
  border-bottom: 1px solid rgba(166, 158, 146, 0.6);
  border-image: initial;
  border-left: none;
  margin: 0px 0px 16px;
  white-space: nowrap;
  display: inline-block;
  visibility: visible;
`,Js=cs.div`
  display: inline-block;
  float: bottom;
  position: fixed;
  bottom: 0;
`,Xs=()=>{const e=ec.get("parent_domain_dns_cookie");return!!e&&"null"!==e},Qs=()=>{const e=ec.get("csrf_origin");return null!==e&&!String(e).endsWith(".dropbox.com")},ec=new URLSearchParams(window.location.search),tc=u.intl.formatMessage({id:"MURQNI",defaultMessage:"Success! Do not sell or share my personal information is now active."}),nc=u.intl.formatMessage({id:"T6SVre",defaultMessage:"Success! Settings are saved."}),ic=u.intl.formatMessage({id:"6w278K",defaultMessage:"Something went wrong! Try again later."}),oc="settings",rc="floating_button",ac="floating_button_closed",sc="banner",cc="nothing",lc=e=>{const{consentIframeOrigin:t,dnsState:i,userEmails:o,verifiedEmails:r,unverifiedEmails:a,loggingContext:s,ccpaToken:c,isGpcEnabled:l,localizedTextOverrides:m,csrfToken:p}=e,f=i===S.LOGGED_IN_ENROLLED||i===S.LOGGED_IN_NOT_ENROLLED||i===S.LOGGED_IN_EMAIL_PENDING,g="true"===ec.get("hide_gdpr"),h=l||navigator.globalPrivacyControl,_="true"===ec.get("should_disable_banner")||h||i>2,v="true"===ec.get("should_auto_open_options"),b=ec.get("parent_domain_consent_cookie"),y="true"===ec.get("privacy_consent_upgrade_flag"),E=y?decodeURIComponent(ec.get("origin")):t,w=b?JSON.parse(decodeURIComponent(b)):void 0,C=new Vs({}),T=w?w.userInteracted:C.hasUserInteracted(),k=navigator.userAgent.toLowerCase(),O=k.includes("iphone")||k.includes("ipod"),I=n.useRef(null);n.useEffect((()=>{if(y){const e=D(G)||B(G);if(M(G)&&e){const e=new Date;e.setMonth(e.getMonth()+12),window.parent.postMessage({message_type:"DNS_ENABLED",optInToDNS:!0,expireDate:e},E)}}else{const e=D(G)||B(G),t=new Date;t.setMonth(t.getMonth()+12),window.parent.postMessage({message_type:"CCPA_IFRAME_INIT",dns_enrolled:M(G),localized_text_overrides:m,expireDate:e?t:null},E)}if(h&&window.parent.postMessage({message_type:"DNS_GPC_SIGNAL"},E),null!=p&&""!==p)try{const e=JSON.parse(atob(p.split(".")[1])).origin;window.top.postMessage({message_type:"CSRF_HANDSHAKE_START",token:p},e)}catch(e){}Me(U,Ne)&&(Pe(),Ee(!1)),De(),We(),Fe(),window.parent.postMessage({message_type:"IFRAME_FINISHED_LOADING"},E)}),[]);const[A,R]=n.useState((()=>"")),[F,L]=n.useState(!1),[U,z]=n.useState((e=>e===S.LOGGED_IN_ENROLLED?x.EnrolledAccount:e===S.LOGGED_IN_EMAIL_PENDING?x.EnrollmentPendingAccountConfirmation:e===S.LOGGED_OUT_ENROLLED?x.EnrolledEmail:e===S.LOGGED_OUT_EMAIL_PENDING?x.EnrollmentPendingEmailConfirmation:e===S.LOGGED_OUT_GPC_ENABLED?x.EnrollmentPendingEmailUIConfirmation:e===S.CROSS_ORIGIN_ENROLLED?x.CrossOriginEnrolled:e===S.ENROLLED_VIA_COOKIES?x.EnrolledViaCookie:x.NotEnrolled)(i)),[G,j]=n.useState(U),[V,$]=n.useState(!1),[q,W]=n.useState({}),[H,K]=n.useState(!1),[Y,Z]=n.useState(0),[J,X]=n.useState(!1),[Q]=n.useState(!0),[ee,te]=n.useState(!1),[ne,oe]=n.useState(!1),[ae,se]=n.useState(!1),[ce,le]=n.useState(!1),[de,ue]=n.useState(!1),[me,pe]=n.useState(!1),[ge,he]=n.useState(u.intl.formatMessage(Pr)),[_e]=n.useState(u.intl.formatMessage(Mr)),[ve,be]=n.useState(!0),[ye,Ee]=n.useState(!(T||v||h||M(G))),[we,Se]=n.useState(v||g),[Ce,Te]=n.useState(!1),[Ne]=n.useState(C.getAllowedCategoriesMap(w)),[ke]=n.useState(C.getAllowedCategoriesMap(w)),Oe=()=>{const e=M(G),t=Ye(),n=H?p:void 0;e?re(e,$e,A,s,c,n,t):e||re(e,qe,A,s,c,n,t)},Ie=e=>{if(e.origin===E)switch(e.data.message_type){case"DNS_SETTINGS_CONFIRMED":Oe();break;case"DNS_SETTINGS_CANCELLED":pe(!1),j(U);break;case"PRIVACY_CONSENT_PAGE_INFO":(e=>{const t={};e.hostname&&(t.hostname=e.hostname),e.foreign_session_id&&(t.foreign_session_id=e.foreign_session_id),e.client_info&&(t.client_info=e.client_info),W(t)})(e.data);break;case"CSRF_HANDSHAKE_END":e.data.token===p&&K(!0);break;case"SHOW_SETTINGS":Se(!0);break;case"ENABLE_AND_SHOW_FLOATING_BUTTON":Te(!0)}};n.useEffect((()=>{const e=e=>{I.current&&!I.current.contains(e.target)&&Ae(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[I]),n.useEffect((()=>(window.addEventListener("message",Ie),()=>{window.removeEventListener("message",Ie)})),[G,A,q,H]),n.useEffect((()=>{(V||h)&&(P(G)?window.parent.postMessage({message_type:"DNS_PENDING_ENABLED",logged_in:f},E):(e=>e===x.UnenrollmentPendingEmailUIConfirmation||e===x.UnenrollmentPendingAccountUIConfirmation)(G)?window.parent.postMessage({message_type:"DNS_PENDING_DISABLED"},E):(G===U||((e,t)=>t&&e===x.NotEnrolled)(G,!!h))&&window.parent.postMessage({message_type:"DNS_PENDING_RESET",dns_enabled:M(G)},E))}),[G]),n.useEffect((()=>{(V||h)&&(F?(pe(!1),window.parent.postMessage({message_type:"DNS_EMAIL_VALID"},E)):(pe(!0),window.parent.postMessage({message_type:"DNS_EMAIL_INVALID"},E)))}),[F]);const Ae=e=>{e?(Le(),Ge(),U!==G?Oe():Ve()):De(),Se(g)},Re=()=>{var e;const t=null===(e=document.getElementById("ccpa_consent_banner"))||void 0===e?void 0:e.offsetHeight;O||!ye||_||we||!t||window.parent.postMessage({message_type:"CCPA_IFRAME_RESIZE",height:t+10},E)},Fe=()=>O?void 0:(window.addEventListener("resize",Re),()=>{window.removeEventListener("resize",Re)}),Le=()=>{G===x.NotEnrolled||G===x.UnenrollmentPendingEmailUIConfirmation||G===x.UnenrollmentPendingAccountUIConfirmation?(Ne[zs.StrictlyNecessary]=!0,Ne[zs.MarketingAdvertising]=ee,Ne[zs.PerformanceFunctionality]=ce,Ne[zs.SocialMediaAdvertising]=ne,Ne[zs.Analytics]=ae):je()},Me=(e,t)=>Boolean(M(e)&&(0===Object.keys(Ne).length||!C.onlyStrictlyNecessaryConsent(Ne))),Pe=()=>{je(),Ge(),Ve(!0)},De=()=>{te(ke.hasOwnProperty(zs.MarketingAdvertising)&&!0===ke[zs.MarketingAdvertising]),le(ke.hasOwnProperty(zs.PerformanceFunctionality)&&!0===ke[zs.PerformanceFunctionality]),oe(ke.hasOwnProperty(zs.SocialMediaAdvertising)&&!0===ke[zs.SocialMediaAdvertising]),se(ke.hasOwnProperty(zs.Analytics)&&!0===ke[zs.Analytics]);let e=0;Object.values(zs).forEach((t=>{t!==zs.StrictlyNecessary&&t!==zs.AllCookies&&ke.hasOwnProperty(t)&&!0===ke[t]&&++e})),X(e>0),Z(e),j(U),ue(U!==x.NotEnrolled),pe(!1),he(u.intl.formatMessage(Pr)),Object.values(zs).forEach((e=>{Ne[e]=ke[e]}))},Be=(e,t,n)=>{if($(!0),t===Ur)X(e),te(e),oe(e),se(e),le(e),Z(e?4:0);else{n=void 0===n?0:n,t===Gr?te(e):t===jr?oe(e):t===Vr?se(e):t===$r&&le(e);const i=e?n+1:n-1;Z(i),X(0!==i)}},Ue=n.useCallback((e=>{const t={message_type:y?"BODY_CONTENT_CHANGE":"DISPLAY_STATE_CHANGED",display_state:e};window.parent.postMessage(t,E)}),[E]);n.useEffect((()=>{var e;we?(Ue(oc),be(!0),Ee(!1),null===(e=I.current)||void 0===e||e.focus()):Ue(!ye||_||we?!Ce||ye&&!_||we?cc:ac:sc)}),[we,ye,Ce,_,Ue]);const ze=()=>{Object.values(zs).forEach((e=>{e!==zs.AllCookies&&(Ne[e]=!0)}))},Ge=()=>{Object.values(zs).forEach((e=>{ke[e]=Ne[e]}))},je=()=>{Object.values(zs).forEach((e=>{e!==zs.AllCookies&&(Ne[e]=e===zs.StrictlyNecessary)}))},Ve=e=>{window.parent.postMessage({message_type:"CONSENT_CHANGED_VIA_CCPA",categories:Ne,should_avoid_reload:e},E)},$e=e=>{e?d.Notify.success(tc):d.Notify.error(ic),f?(j(x.EnrollmentPendingAccountVerificationSent),z(x.EnrollmentPendingAccountConfirmation)):Qs()?(j(x.CrossOriginEnrolled),z(x.CrossOriginEnrolled)):(j(x.EnrollmentPendingEmailVerificationSent),z(x.EnrollmentPendingEmailConfirmation));const t=new Date;t.setMonth(t.getMonth()+12),window.parent.postMessage({message_type:"DNS_ENABLED",logged_in:f,optInToDNS:!0,expireDate:t},E),g||Ve()},qe=e=>{e?d.Notify.success(nc):d.Notify.error(ic),j(x.NotEnrolled),z(x.NotEnrolled),window.parent.postMessage({message_type:"DNS_DISABLED"},E),g||Ve()},We=()=>{window.parent.postMessage({message_type:y?"PRIOR_CONSENT":"CONSENT_CALLBACK",categories:Ne,callback_type:"PRIOR_CONSENT"},E)},He=e=>{e.preventDefault(),window.parent.postMessage({message_type:"CCPA_PRIVACY_PAGE_CLICK"},E)},Ke=e=>{e.preventDefault(),window.parent.postMessage({message_type:"CCPA_COOKIE_FAQ_CLICK"},E)},Ye=()=>({opt_in_source:h?ie.GPC_UI:ie.USER_INPUT,opt_in_domain:q.hostname,opt_in_client:q.client_info,foreign_session_id:q.foreign_session_id}),Ze=u.intl.formatMessage({id:"bYgnak",defaultMessage:"Dropbox uses different categories of cookies to provide, protect, improve, and promote our website and services. Information on these categories and their purposes are described below. For more information please see our <privacy>Privacy Policy</privacy> and <faq>Cookie FAQ page</faq>."},{privacy:e=>N.default.createElement("button",{id:"privacy-page-link",onClick:He,"data-uxa-log":"privacy_consent_detailed_view_privacy_page_link"},e),faq:e=>N.default.createElement("button",{id:"cookie-faq-link",onClick:Ke,"data-uxa-log":"privacy_consent_detailed_view_cookie_faq_link"},e)});return N.default.createElement(N.default.Fragment,null,we&&N.default.createElement("div",{className:"migration-ccpa",ref:I,tabIndex:0,style:{outline:"none"}},N.default.createElement("div",{className:"scrollable-contents"},!g&&N.default.createElement(N.default.Fragment,null,N.default.createElement(fe,{src:xe,size:"large",display:"inline-block"}),N.default.createElement("div",{className:"title-divider"}),N.default.createElement("label",{id:"consent-title-label",className:"consent-title-label"},u.intl.formatMessage(Dr)),N.default.createElement("p",{id:"consent-title-blurb",className:"consent-title-blurb"},Ze)),N.default.createElement(Sr,{displayVariant:g?wr.CCPA_ONLY:wr.GDPR_EMBEDDED,checked:M(G),disabled:!!h,isFlowComplete:(Je=U,Xe=G,Je!==x.NotEnrolled&&Xe===x.NotEnrolled||Xe===x.EnrollmentPendingEmailVerificationSent||Xe===x.EnrollmentPendingAccountVerificationSent),onChange:e=>{$(!0),e?U===x.NotEnrolled?f?j(x.EnrollmentPendingAccountUIConfirmation):(j(x.EnrollmentPendingEmailUIConfirmation),pe(!F),he(u.intl.formatMessage(Br))):U===x.EnrolledEmail||U===x.EnrollmentPendingEmailConfirmation||U===x.CrossOriginEnrolled||U===x.EnrolledViaCookie?j(U):U!==x.EnrolledAccount&&U!==x.EnrollmentPendingAccountConfirmation||j(U):(U===x.EnrolledEmail||U===x.EnrollmentPendingEmailConfirmation||U===x.CrossOriginEnrolled||U===x.EnrolledViaCookie?j(x.UnenrollmentPendingEmailUIConfirmation):U===x.EnrolledAccount||U===x.EnrollmentPendingAccountConfirmation?j(x.UnenrollmentPendingAccountUIConfirmation):U===x.NotEnrolled&&j(x.NotEnrolled),he(u.intl.formatMessage(Pr)),pe(!1)),ue(e)},onCookieFAQLinkClick:Ke,gpcEnabled:!!h,enrollmentState:G,email:A,handleEmailChange:e=>{R(e);null!==e.match(/^.+@.+\..+$/)?L(!0):L(!1)},userEmails:o,verifiedEmails:r,unverifiedEmails:a}),!g&&N.default.createElement(qr,{checked:M(G),disabled:de,onChange:Be,onCookieFAQLinkClick:Ke,gdprCount:Y,setGdprCount:Z,allGdprToggle:J,strictlyToggle:Q,generalToggle:ee,socialToggle:ne,analyticsToggle:ae,performanceToggle:ce})),N.default.createElement(ps,{disabled:me,onChange:Ae,acceptButtonText:ge,declineButtonText:_e})),!we&&ye&&!_&&N.default.createElement(_s,{onClick:e=>{e===gs?(ze(),Ge(),Be(!0,Ur,0)):e===hs&&je(),Ve(!0),Ee(!1)},onSettingsClick:e=>{e.preventDefault(),e.stopPropagation(),Se(!0),Ee(!1)},onPrivacyPageLinkClick:He,onPrivacyPolicyFaqLinkClick:e=>{e.preventDefault(),window.parent.postMessage({message_type:"CCPA_PRIVACY_POLICY_FAQ_CLICK"},E)},onConsentBannerLoad:Re}),!we&&!ye&&Ce&&N.default.createElement(Hs,{onClick:(e,t)=>{e===$s?(Se(!0),t.stopPropagation()):e===qs&&(be(!ve),Ue(ve?rc:ac))},isCollapsed:ve}));var Je,Xe};lc.displayName="CCPAIFrame";const dc=function(e,t,n=[],o={}){class r extends N.Component{static getCombinedCssPaths(){return r.combinedCssPaths}constructor(e,t){super(e),this._isUnmounted=!1,this.getWrappedComponent=()=>this.refs.wrapped,this._handleCssLoaded=()=>{o.onCssResponse&&o.onCssResponse(),this._isUnmounted||this.setState({cssMode:Hr.SUCCESS},(()=>"function"==typeof this.props.onCssLoad?this.props.onCssLoad():void 0))},this._handleCssFailed=()=>{o.onCssResponse&&o.onCssResponse(),this._isUnmounted||this.setState({cssMode:Hr.FAILED},(()=>"function"==typeof this.props.onCssFail?this.props.onCssFail(this._forceRender):void 0))},this._forceRender=()=>{this._isUnmounted||this.setState({cssMode:Hr.FORCE_RENDERED})},this.state={cssMode:e.skipCss||d.is_loaded(r.combinedCssPaths,t.document)?Hr.FORCE_RENDERED:Hr.LOADING}}UNSAFE_componentWillMount(){this.state.cssMode===Hr.LOADING&&(o.onWillLoadCss&&o.onWillLoadCss(),d.require_css_multi(r.combinedCssPaths,this._handleCssLoaded,this._handleCssFailed,this.context.document,"js:requireCssWithComponent"))}componentWillUnmount(){this._isUnmounted=!0}render(){const t=this.props,{cssPlaceholder:n,onCssFail:o,onCssLoad:r,skipCss:a}=t,s=i.__rest(t,["cssPlaceholder","onCssFail","onCssLoad","skipCss"]);if([Hr.FORCE_RENDERED,Hr.SUCCESS].includes(this.state.cssMode)){if("string"!=typeof(c=e)&&!function(e){return!!(e&&e.prototype&&e.prototype.render)}(c)){const t=e;return N.createElement(t,Object.assign({},s))}const t=e;return N.createElement(t,Object.assign({ref:"wrapped"},s))}var c;return null!=n?n:null}}return r.displayName=`Css(${function(e,t="Component"){return e.displayName||e.name||t}(e)})`,r.wrappedClass=e,r.combinedCssPaths=Object.keys(t.concat.apply(t,n.map((e=>void 0!==e.getCombinedCssPaths?e.getCombinedCssPaths():[]))).reduce(((e,t)=>(e[t]=!0,e)),{})),r.defaultProps={cssPlaceholder:null,onCssFail:e=>e(),onCssLoad:null,skipCss:!!window.jasmine},r.contextType=Wr,u.y(r,e)}(lc,["/static/metaserver/static/css/dig-components/index.web-vflzskH5s.css","/static/metaserver/static/css/dig-components/tokens-vflIotZVb.css"]),uc=function(e){"complete"===document.readyState&&(e=>{window.setTimeout((()=>e.apply(e)),0)})(e),window.addEventListener("load",e,!1)};const mc=!(!window.performance||!window.performance.now);let pc=0;var fc;!function(e){e[e.Span=1]="Span",e[e.AsyncSpan=2]="AsyncSpan",e[e.Trace=3]="Trace"}(fc||(fc={}));class gc{constructor(e,t,n,i=!1,o){this.name=e,this.strictAssert=t,this.activeSpans={},this.aggregateSpans={},this._annotations=Object.assign({},o),this.spanStack=[],this.stopwatchTags=n||[],this.detached=i}reset(){this.activeSpans={},this.spanStack=[],this.aggregateSpans={},this._annotations={}}get annotations(){return this._annotations}addAnnotation(e,t){this._annotations[e]=t}removeAnnotation(e){delete this._annotations[e]}popResolvedSpans(){if(this.detached)return{};{const e=this.aggregateSpans;return this.aggregateSpans={},e}}peekResolvedSpans(){return this.detached?{}:this.aggregateSpans}static newSpanID(){const e=String(pc);return pc++,e}static resolveTime(e){return void 0===e&&(e=window.performance.now()),Math.round(e)}_resolveParent(e){if(e.type!==fc.Span)return void(e.parent="");const t=this.spanStack[this.spanStack.length-1];if(t)if(t!==e.name)this._report_sw_misuse(`Closing ${t} while the latest open span is ${e.name}.\n        You are either mixing sync and async spans or closing sync spans out of order.`);else{this.spanStack.pop();let t="";for(const e of this.spanStack)t+=`${e}#`;e.parent=t}else this._report_sw_misuse(`${e.name} isn't a synchronous span and has to be started with "async:true".`)}recordTrace(e,t={}){const n=gc.resolveTime(t.traceTime),i=gc.newSpanID(),o={name:e,span_id:i,start_time:0,end_time:n,annotations:Object.assign({},t.annotations),type:fc.Trace,parent:""};return this.recordSpan(this.stopwatchTags,o),i}start(e,t={}){e||this._report_sw_misuse("Reporting a span without a name");const n=gc.resolveTime(t.startTime);t.async||this.spanStack.push(e);const i=gc.newSpanID(),o={name:e,span_id:i,start_time:n||0,annotations:Object.assign({},t.annotations),type:t.async?fc.AsyncSpan:fc.Span};return e in this.activeSpans||(this.activeSpans[e]=[]),this.activeSpans[e].push(o),i}end(e,t={}){const n=this.findTimerDataIndex(e,t.spanId);if(-1===n)return;const i=this.activeSpans[e],o=i[n];i.splice(n,1),this._resolveParent(o);const r=gc.resolveTime(t.endTime);if(!(r<o.start_time))return o.end_time=r,this.recordSpan(this.stopwatchTags,o),o.span_id;this._report_sw_misuse(`span ${e} has set an endTime earlier than start_time`)}addSpanAnnotation(e,t,n,i){const o=this.findTimerDataIndex(e,i);if(-1===o)return;this.activeSpans[e][o].annotations[t]=n}attach(){this.detached=!1}findTimerDataIndex(e,t){if(!(e in this.activeSpans)||0===this.activeSpans[e].length)return this._report_sw_misuse(`tried to find ${e} but that span doesn't exist`),-1;let n=-1;const i=this.activeSpans[e];if(void 0===t)n=0;else for(let e=0;e<i.length;e++)if(i[e].span_id===t){n=e;break}return-1===n&&this._report_sw_misuse(`tried to find ${e} with id ${t} but that span doesn't exist`),n}_report_sw_misuse(e){e=`JSBasicStopwatch ${this.name}: ${e}`,this.strictAssert?f.assert(!1,e):l.reportStack(e,{severity:l.SEVERITY.NONCRITICAL,tags:["log_js_stopwatch"]})}recordSpan(e,t){const n=`${t.parent}${t.name}`;n in this.aggregateSpans||(this.aggregateSpans[n]={name:t.name,start_time:t.start_time,total_time:0,num_calls:0,annotations:Object.keys(t.annotations).length>0?t.annotations:void 0,parent:t.parent||"",stopwatch_tags:e.length>0?e:void 0,type:t.type});const i=this.aggregateSpans[n];if(void 0!==t.end_time){if(i.type===fc.Trace?(i.total_time=t.end_time-t.start_time,i.num_calls=1):(i.total_time+=t.end_time-t.start_time,i.num_calls+=1),Object.keys(t.annotations).length>0)if(i.annotations)for(const e in t.annotations)t.annotations.hasOwnProperty(e)&&(i.annotations[e]=t.annotations[e]);else i.annotations=t.annotations}else this._report_sw_misuse(`Span ${n} reported with undefined end_time`)}}const hc=new class{constructor(){this.name="",this.annotations={}}reset(){}attach(){}addAnnotation(e,t){}removeAnnotation(e){}popResolvedSpans(){return{}}peekResolvedSpans(){return{}}start(e,t){}end(e,t){}recordTrace(e,t){}addSpanAnnotation(e,t,n,i){}};function _c(e,t,n,i=!1,o){return mc?new gc(e,t,n,i,o):hc}function vc(e=window){return e.location.href}class bc{constructor(e){this.id=e}}bc.REQUEST_ID=new bc("dropbox.js_client_stopwatch.request_id"),bc.CORRELATION_ID=new bc("dropbox.js_client_stopwatch.correlation_id"),bc.URL=new bc("dropbox.js_client_stopwatch.url");class yc{constructor(){this.GLOBAL_SW_NAME="GLOBAL_STOPWATCH",this.flush_interval=6e4,this.debugEnabled=!0,this.strictAssert=!1,this.intervalId=null,this.clientStopwatchCounter=1,this.reset()}reset(){this.globalStopwatches={},this.clientStopwatches={},this.clientStopwatchCounter=1,this.sentInitialData=!1,this.create_stopwatch(this.GLOBAL_SW_NAME),this.intervalId&&clearInterval(this.intervalId),this.intervalId=null}reset_individual_stopwatch(e){this.stopwatch_exists(e)?this.globalStopwatches[e].reset():this._report_sw_misuse(`tried to reset the stopwatch ${e} but it does not exist`)}stopwatch_exists(e){return e in this.globalStopwatches}create_stopwatch(e,t){this.stopwatch_exists(e)?this._report_sw_misuse(`tried to create a new stopwatch ${e} but it already exists`):this.globalStopwatches[e]=_c(e,this.strictAssert,t)}createDetachedStopwatch(e,t={}){const n=_c(e,this.strictAssert,t.tags,!0,t.annotations),i=new wc(this.clientStopwatchCounter++,e,n,t.request_id,t.correlation_id,t.url);return this.clientStopwatches[i.id]=i,i}deleteStopwatch(e){delete this.clientStopwatches[e.id]}create_stopwatch_if_not_exist(e,t){this.stopwatch_exists(e)||this.create_stopwatch(e,t)}getStopwatch(e){return this.stopwatch_exists(e)?this.globalStopwatches[e]:(this._report_sw_misuse(`${e} doesn't exist`),null)}recordTrace(e,t={}){const n=this.getStopwatch(t.stopwatchName||this.GLOBAL_SW_NAME);if(null==n)return;const i={traceTime:t.traceTime};return n.recordTrace(e,i)}startSpan(e,t={}){const n=this.getStopwatch(t.stopwatchName||this.GLOBAL_SW_NAME);if(null==n)return;const i={startTime:t.startTime,async:t.async};return n.start(e,i)}endSpan(e,t={}){const n=this.getStopwatch(t.stopwatchName||this.GLOBAL_SW_NAME);if(null!=n)return n.end(e,{spanId:t.spanId,endTime:t.endTime})}addSpanAnnotation(e,t,n,i={}){const o=this.getStopwatch(i.stopwatchName||this.GLOBAL_SW_NAME);null!=o&&o.addSpanAnnotation(e,t,n,i.spanId)}log_stored_results(){this.sentInitialData?this._report_sw_misuse("ClientStopwatch tried to log stored results, but the stopwatch is set to log immediately"):(this.flush_current_data(),this.sentInitialData=!0,this.intervalId=setInterval(this.flush_current_data.bind(this),this.flush_interval))}_report_sw_misuse(e){e=`ClientStopwatch: ${e}`,this.strictAssert?f.assert(!1,e):l.reportStack(e,{severity:l.SEVERITY.NONCRITICAL,tags:["log_js_stopwatch"]})}flush_current_data(){for(const e in this.globalStopwatches)this.globalStopwatches.hasOwnProperty(e)&&yc.logStopwatchData(this.globalStopwatches[e]);for(const e in this.clientStopwatches)this.clientStopwatches.hasOwnProperty(e)&&yc.logStopwatchData(this.clientStopwatches[e].stopwatch)}static logStopwatchData(e){const t=e.popResolvedSpans(),n=e.name,i={};if(Object.keys(t).length>yc.MAXSPANS){let o=0;i[n]={};for(const r in t)t.hasOwnProperty(r)&&(i[n][r]=t[r],o===yc.MAXSPANS&&(i[n].annotations=e.annotations,yc.send_spans(i),o=0,i[n]={}),o++)}else i[n]=t;0!==Object.keys(i[n]).length&&(i[n].annotations=e.annotations,yc.send_spans(i))}static send_spans(e){const t=JSON.stringify(e),n={request_id:i.getRequestId(),url:vc().replace("/dws2",""),aggregated_sw_data:t};p.sendXhr("/log_js_sw_data",n)}print_stopwatches_debug(){const e=this.get_debug_data();console.table&&console.groupCollapsed&&console.groupEnd&&e&&e.length>0&&(console.groupCollapsed("Request timeline"),console.table(e),console.groupEnd())}get_debug_data(){const e=[];for(const t in this.globalStopwatches)if(this.globalStopwatches.hasOwnProperty(t)){const n=this.globalStopwatches[t].peekResolvedSpans();for(const i in n)if(n.hasOwnProperty(i)){const o=n[i],r={stopwatchName:t,spanName:o.name,time:o.start_time+o.total_time};o.type!==fc.AsyncSpan&&o.type!==fc.Span||(r.startTime=o.start_time),o.type===fc.Span&&(r.info=`Total time: ${o.total_time}ms`),e.push(r)}}return e.sort(((e,t)=>e.time-t.time)),e}}yc.MAXSPANS=2e3;const Ec=new yc;class wc{constructor(e,t,n,i,o,r){this.sentInitialData=!1,this.strictAssert=!1,this.id=e,this.stopwatch=n,this._request_id=i,this._correlation_id=o,this._url=r,this._request_id&&this.stopwatch.addAnnotation(bc.REQUEST_ID.id,this._request_id),this._correlation_id&&this.stopwatch.addAnnotation(bc.CORRELATION_ID.id,this._correlation_id),this._url&&this.stopwatch.addAnnotation(bc.URL.id,this._url)}set request_id(e){this._request_id=e,this._request_id?this.stopwatch.addAnnotation(bc.REQUEST_ID.id,this._request_id):this.stopwatch.removeAnnotation(bc.REQUEST_ID.id)}set correlation_id(e){this._correlation_id=e,this._correlation_id?this.stopwatch.addAnnotation(bc.CORRELATION_ID.id,this._correlation_id):this.stopwatch.removeAnnotation(bc.CORRELATION_ID.id)}set url(e){this._url=e,this._url?this.stopwatch.addAnnotation(bc.URL.id,this._url):this.stopwatch.removeAnnotation(bc.URL.id)}startSpan(e,t){return this.stopwatch.start(e,t)}endSpan(e,t){return this.stopwatch.end(e,t)}addSpanAnnotation(e,t,n,i){this.stopwatch.addSpanAnnotation(e,t,n,i)}recordTrace(e,t,n){this.stopwatch.recordTrace(e,{traceTime:t,annotations:n})}recordEntries(e){for(const t of e)if(t.type===fc.Trace)this.recordTrace(t.name,t.endTime,t.annotations);else{const e=t.startTime||0,n=this.startSpan(t.name,{startTime:Math.min(e,t.endTime),async:t.type===fc.AsyncSpan,annotations:t.annotations});t.endTime<e&&this.addSpanAnnotation(t.name,"negativeSpanLength",(t.endTime-e).toString(),n),this.endSpan(t.name,{spanId:n,endTime:Math.max(e,t.endTime)})}}logData(){this.sentInitialData?this.reportMisuse("ClientStopwatch tried to log stored results, but the stopwatch is set to log immediately"):(this.stopwatch.attach(),this.sentInitialData=!0,setTimeout((()=>{Ec.flush_current_data()}),0))}addAnnotation(e,t){this.stopwatch.addAnnotation(e,t)}removeAnnotation(e){this.stopwatch.removeAnnotation(e)}reportMisuse(e){e=`ClientStopwatch: ${e}`,this.strictAssert?f.assert(!1,e):l.reportStack(e,{severity:l.SEVERITY.NONCRITICAL,tags:["log_js_stopwatch"]})}}const Sc=e=>{const{name:t,initiatorType:n}=e,i=t.lastIndexOf("."),o=t.substring(i);if(t.includes(".")){if([".png",".gif",".jpg",".svg"].includes(o))return{resourceType:"img",shouldLogSize:!0};if(".js"===o)return{resourceType:"script",shouldLogSize:!0};if(".css"===o)return{resourceType:"css",shouldLogSize:!0};if(".json"===o)return{resourceType:"json",shouldLogSize:!0}}return["css","img","script","link"].includes(n)?{resourceType:n,shouldLogSize:!1}:"video"===n?{resourceType:"video",shouldLogSize:!0}:"xmlhttprequest"===n?{resourceType:"ajax",shouldLogSize:!1}:{resourceType:"other",shouldLogSize:!1}},Cc=e=>{const t={};return e instanceof Array&&e.forEach((e=>{const{resourceType:n,shouldLogSize:i}=Sc(e);t[n]||(t[n]={count:0,totalTime:0,lastTransferEnd:0});const o=t[n];o.count++,o.totalTime+=e.duration,o.lastTransferEnd=Math.max(o.lastTransferEnd,e.responseEnd),i&&void 0!==e.transferSize&&void 0!==e.encodedBodySize&&e.encodedBodySize<Number.MAX_SAFE_INTEGER&&(o.transferSize||(o.transferSize=0),0!==e.transferSize&&(o.transferSize+=e.encodedBodySize),o.totalSize||(o.totalSize=0),o.totalSize+=e.encodedBodySize)})),t};function Tc(e){!function(e){const t="resource_timeline",n=Ec.createDetachedStopwatch(t,e),i={},o=window.performance.getEntriesByType("resource");if(o instanceof Array)for(const e of o){let t=Nc(e);if(!t)continue;const o=i[t]||0;i[t]=o+1,o>0&&(t=`${t}-${o}`);const r=n.startSpan(t,{startTime:e.startTime,async:!0}),{resourceType:a}=Sc(e);n.addSpanAnnotation(t,"type",a,r),0===e.transferSize?n.addSpanAnnotation(t,"cached","true",r):void 0===e.transferSize?n.addSpanAnnotation(t,"cached","unknown",r):n.addSpanAnnotation(t,"cached","false",r),e.responseEnd<e.startTime?(n.addSpanAnnotation(t,"negativeSpanLength",(e.responseEnd-e.startTime).toString(),r),n.endSpan(t,{endTime:e.startTime,spanId:r})):n.endSpan(t,{endTime:e.responseEnd,spanId:r})}n.logData()}(e)}const xc=document&&document.createElement?document.createElement("a"):null;function Nc(e){if(xc){if(xc.href=e.name,xc.host.match(/dropboxstatic.com$/)&&xc.pathname.match(/^\/static/)){let e=xc.pathname;const t=e.match(/vfl[a-zA-Z0-9]*\.[a-z]*$/);t&&t.index&&(e=e.substring(0,t.index-1));const n="/static/";return e.startsWith(n)&&(e=e.substring(n.length)),e}return xc.host.match(/photos-[0-9]+.dropbox.com$/)&&xc.pathname.match(/^\/t\/2/)?"/thumbnail":void 0}}class kc{static getFromNavigation(e){switch(e.type){case e.TYPE_NAVIGATE:return kc.NAVIGATE;case e.TYPE_RELOAD:return kc.RELOAD;case e.TYPE_BACK_FORWARD:return kc.BACK_FORWARD}}}kc.NAVIGATE="navigate",kc.RELOAD="reload",kc.BACK_FORWARD="back_forward";class Oc{constructor(e,t,n=!1,i=!0){this.name=e,this.flag=1<<t,this.triggersLogging=n,this.ordered=i,Oc.allEvents.push(this)}}Oc.allEvents=[],Oc.APPLICATION_START=new Oc("application_code_start",1),Oc.LOAD_END=new Oc("load_end",2,!0,!1),Oc.FETCHED_DATA_FOR_TTI=new Oc("fetched_data_required_for_tti",3),Oc.MARK_TIME_TO_INTERACTIVE=new Oc("mark_time_to_interactive",4),Oc.TIME_TO_INTERACTIVE=new Oc("time_to_interactive",5,!0,!0);class Ic{static generateCorrelationId(){return Math.random().toString(36).substring(2)}static getNow(){return Date.now()}static newContext(e,t="unnamed_timer"){let n;n=e?Ic.getNow():Date.now()-performance.now();return{initialized:!1,is_pagelet:!1,is_dws:!1,is_dws2:!1,is_early_ensemble:!1,log_time_to_interactive:!1,tti_at_dom_interactive:!1,source_type:"web",subtypes:{},tti_exclusion_flow:"",have_logged_web_timing:!1,delayed_tti_for_css:!1,is_build_time_prefetches_enabled:!1,skip_btp_prefetch_duration_threshold:0,is_css_preload_enabled:!1,timing_results:null,start_time:n,time_to_interactive:null,correlation_id:Ic.generateCorrelationId(),context_name:t}}}class Ac{constructor(e){this.canceled=!1,this.callback=e}exec(){this.canceled||this.callback()}cancel(){this.canceled=!0}isCanceled(){return this.canceled}}class Rc{constructor(){this.storage={}}clear(){this.storage={}}getItem(e){return this.storage[e]}key(e){return Object.keys(this.storage)[e]}removeItem(e){delete this.storage[e]}setItem(e,t){this.storage[e]=t}}function Fc(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)}const Lc=new class{constructor(e){this.initFn=e}get storage(){return this.initFn&&(this._storage=function(e){let t;try{t=e()||new Rc}catch(e){t=new Rc}try{const e="__storage_test__";return t.setItem(e,e),t.removeItem(e),t}catch(e){return t&&Fc(e)?t:new Rc}}(this.initFn),delete this.initFn),this._storage}get(e){if(this.storage){const t=this.storage.getItem(e);return t?"undefined"===t?void 0:JSON.parse(t):t}}set(e,t){if(this.storage)try{return null===t?this.delete(e):this.storage.setItem(e,JSON.stringify(t))}catch(e){if(Fc(e))return;throw e}}delete(e){return this.storage?this.storage.removeItem(e):void 0}reset(){return this.storage?this.storage.clear():void 0}}((()=>window.sessionStorage));function Mc(e){return e.ns("udcl")}const Pc="@udcl:version",Dc="@udcl:measure_id",Bc="@udcl:request_id",Uc="udcl:web_client",zc=4,Gc="@udcl:browser",jc="@udcl:user_id",Vc="@udcl:team_id",$c="@udcl:authed_users",qc="@udcl:session_id",Wc="@udcl:referrer",Hc="@udcl:locale";function Kc(){var e;const t=a.Viewer.get_viewer(),n=Y(),o=t.team_id,r=t.get_user_ids(!0),s=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.href,l=i.getBrowserId();return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[Gc]:c.getBrowserShortName()},n&&{[jc]:n}),o&&{[Vc]:o}),(null==r?void 0:r.length)&&{[$c]:r}),l&&{[qc]:l}),s&&{[Wc]:s}),{[Hc]:u.localeToBcp47LangTag(i.getPageLocale())})}const Yc="udcl";const Zc="udcl",Jc="track",Xc="mark",Qc="measure",el=":";function tl(e,...t){return[Zc,...t,e].join(el)}function nl(e,...t){const n=tl("",...t);return 0===e.indexOf(n)?e.slice(n.length):e}function il(e,...t){return"string"==typeof e?tl(e,...t):e}function ol(e,t=1){const n=s.getMetricsReporter$1().createCounter({ns:"udcl",name:"xray/entries_captured"},{type:e,yaps_deployment:i.getYapsDeployment()});n.increment(t),n.record()}function rl(e){const t=s.getMetricsReporter$1().createCounter({ns:"udcl",name:"xray/flush_attempts"},{status:e,yaps_deployment:i.getYapsDeployment()});t.increment(),t.record()}const al="udcl/retry_count",sl=[function(e,t){var n;if(window.EDISON_LOCALMODE)return;let i;const o=t.detail[Dc];delete t.detail[Dc];const r={id:e,detail:JSON.stringify(t.detail),tags:null===(n=t.detail)||void 0===n?void 0:n["@udcl:tags"],[Pc]:zc};i=t instanceof window.PerformanceMeasure?Object.assign(Object.assign({type:"measure",name:nl(t.name,Qc)},r),{start_time_ms:t.startTime,duration_ms:t.duration}):Object.assign(Object.assign({type:"event",name:nl(t.name,Jc)},r),{measure_id:o,timestamp:t.startTime});cl.push(i)},function(e,t){const n=Lc.get("DBX_UDCL_DEV_TOOL_MODE_ACTIVE"),i="DBX_UDCL_LOG";if(!n)return void Lc.delete(i);let o;try{o=Lc.get(i)||[]}catch(e){o=[]}o.push({startTime:t.startTime>6048e5?t.startTime:t.startTime+performance.timeOrigin,duration:t.duration,detail:t.detail,name:t.name}),Lc.set(i,o)}],cl=new class{constructor(e,t=3e4,n=1/0){this.storage=Lc,this.flush=()=>{var e;const t=null!==(e=this.storage.get(Yc))&&void 0!==e?e:[];this.storage.delete(Yc),t.length>0&&this.onFlush(t)},this.push=(...e)=>{var t;let n=(null!==(t=this.storage.get(Yc))&&void 0!==t?t:[]).concat(e);n.length>this.size&&(n=n.slice(-this.size)),this.storage.set(Yc,n)},this.cleanup=()=>{window.clearInterval(this.interval)},this.onFlush=e,this.interval=window.setInterval(this.flush,t),this.size=n}}((function(e){var t,n;return i.__awaiter(this,void 0,void 0,(function*(){const r=e.filter((e=>e[Pc]>=zc));if(0!==r.length){rl("start");try{yield function(e,t,n){const i=a.Viewer.get_viewer().active_user,o={events:n.filter((e=>"event"===e.type)),measures:n.filter((e=>"measure"===e.type)),detail:JSON.stringify(Kc()),sdk_version:JSON.stringify(zc)};return i?Mc(e).rpc("log_timing",o,{subjectUserId:null==i?void 0:i.id}):Mc(t).rpc("log_timing",o,{})}(ll,dl,r),rl("success"),c=ul(),s.getMetricsReporter$1().createStats({ns:"udcl",name:"xray/retry_count"},{yaps_deployment:i.getYapsDeployment()}).record(c),Lc.delete(al)}catch(e){!function(){const e=ul();Lc.set(al,(e+1).toString())}();const i=null===(n=null===(t=o.filterApiError(e))||void 0===t?void 0:t.raw)||void 0===n?void 0:n.status;0===i?rl("network_error"):i&&400<=i&&i<=499?rl("server_rejected"):i&&500<=i&&i<=599?rl("server_error"):(rl("unknown_error"),l.reportException({err:e,force:!0,severity:l.SEVERITY.CRITICAL,tags:[Uc]}))}var c}}))}),void 0,1e4),ll=new G,dl=new o.NoAuthApiV2Client;function ul(){return Number.parseInt(Lc.get(al)||"0",10)}const ml=(()=>{let e,t;const n=[];for(e=0,t=e;e<=255;e++,t=e)n.push((t+256).toString(16).substr(1));return n})();function pl(e){return e.map((e=>ml[e])).join("")}const fl={getRandomBytes(){const e=new Uint8Array(16);return window.crypto&&window.crypto.getRandomValues(e),e},v4(){var e;if(null===(e=window.crypto)||void 0===e?void 0:e.randomUUID)return window.crypto.randomUUID();const t=this.getRandomBytes();t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=Array.prototype.slice.call(t);return[n.slice(0,4),n.slice(4,6),n.slice(6,8),n.slice(8,10),n.slice(10,16)].map(pl).join("-")}};const gl=new class{constructor(e){this.track=(e,{startTime:t=performance.now(),measureId:n,detail:o}={})=>{ol("event");const r=fl.v4(),a=tl(e,Jc);try{const e=performance.mark(a,{startTime:t,detail:Object.assign(Object.assign({},o),{[Dc]:n,[Bc]:i.getRequestId()})});if(!e)throw new Error("UDCL: performance.mark did not throw or return a PerformanceEntry");this.exportEntry(r,e)}catch(e){l.reportException({err:e,severity:l.SEVERITY.NONCRITICAL,force:!0,tags:[Uc]})}return r},this.mark=(e,{startTime:t=performance.now()}={})=>{const n=tl(e,Xc);performance.mark(n,{startTime:t})},this.measure=(e,{start:t,end:n,detail:o,_measureId:r})=>{ol("measure");const a=tl(e,Qc),s=il(t,Xc),c=il(n,Xc);try{const e=null!=r?r:fl.v4(),t=performance.measure(a,{start:s,end:c,detail:Object.assign(Object.assign({},o),{[Bc]:i.getRequestId()})});if(!t)throw new Error("UDCL: performance.measure did not throw or return a PerformanceEntry");return this.exportEntry(e,t),e}catch(e){l.reportException({err:e,severity:l.SEVERITY.NONCRITICAL,force:!0,tags:[Uc]})}},this.exportEntry=e}}((function(e,t){window.RUNNING_IN_REACTSERVER||sl.forEach((n=>n(e,t)))})),hl=(e,t)=>{let n=window.performance.timeOrigin;t.start&&(n+=t.start);const i=n+t.duration;return gl.measure(e,{start:n,end:i,detail:t.detail})},_l=e=>{var t,n,i,o,r,a,s,c,l,d,u,m,p;let f=null;return e.attribution&&("CLS"===e.name?f={largestShiftTarget:null===(t=e.attribution)||void 0===t?void 0:t.largestShiftTarget,largestShiftValue:null===(n=e.attribution)||void 0===n?void 0:n.largestShiftValue,loadState:null===(i=e.attribution)||void 0===i?void 0:i.loadState}:"FCP"===e.name?f={loadState:null===(o=e.attribution)||void 0===o?void 0:o.loadState}:"INP"===e.name?f={eventTarget:null===(r=e.attribution)||void 0===r?void 0:r.eventTarget,eventType:null===(a=e.attribution)||void 0===a?void 0:a.eventType,duration:null===(c=null===(s=e.attribution)||void 0===s?void 0:s.eventEntry)||void 0===c?void 0:c.duration,loadState:null===(l=e.attribution)||void 0===l?void 0:l.loadState}:"LCP"===e.name&&(f={element:null===(d=e.attribution)||void 0===d?void 0:d.element,resourceLoadDelay:null===(u=e.attribution)||void 0===u?void 0:u.resourceLoadDelay,resourceLoadTime:null===(m=e.attribution)||void 0===m?void 0:m.resourceLoadTime,elementRenderDelay:null===(p=e.attribution)||void 0===p?void 0:p.elementRenderDelay})),Object.assign({delta:e.delta,web_vitals_id:e.id,navigationType:e.navigationType},f&&{attribution:f})};var vl,bl,yl,El,wl,Sl=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Cl=function(e){if("loading"===document.readyState)return"loading";var t=Sl();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},Tl=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},xl=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var i=e,o=i.id?"#"+i.id:Tl(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+o.length>(t||100)-1)return n||o;if(n=n?o+">"+n:o,i.id)break;e=i.parentNode}}catch(e){}return n},Nl=-1,kl=function(){return Nl},Ol=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Nl=t.timeStamp,e(t))}),!0)},Il=function(){var e=Sl();return e&&e.activationStart||0},Al=function(e,t){var n=Sl(),i="navigate";return kl()>=0?i="back-forward-cache":n&&(document.prerendering||Il()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Rl=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},Fl=function(e,t,n,i){var o,r;return function(a){t.value>=0&&(a||i)&&((r=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=r,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Ll=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Ml=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Pl=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},Dl=-1,Bl=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Ul=function(e){"hidden"===document.visibilityState&&Dl>-1&&(Dl="visibilitychange"===e.type?e.timeStamp:0,Gl())},zl=function(){addEventListener("visibilitychange",Ul,!0),addEventListener("prerenderingchange",Ul,!0)},Gl=function(){removeEventListener("visibilitychange",Ul,!0),removeEventListener("prerenderingchange",Ul,!0)},jl=function(){return Dl<0&&(Dl=Bl(),zl(),Ol((function(){setTimeout((function(){Dl=Bl(),zl()}),0)}))),{get firstHiddenTime(){return Dl}}},Vl=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},$l=[1800,3e3],ql=function(e,t){t=t||{},Vl((function(){var n,i=jl(),o=Al("FCP"),r=Rl("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(r.disconnect(),e.startTime<i.firstHiddenTime&&(o.value=Math.max(e.startTime-Il(),0),o.entries.push(e),n(!0)))}))}));r&&(n=Fl(e,o,$l,t.reportAllChanges),Ol((function(i){o=Al("FCP"),n=Fl(e,o,$l,t.reportAllChanges),Ll((function(){o.value=performance.now()-i.timeStamp,n(!0)}))})))}))},Wl=[.1,.25],Hl=function(e,t){!function(e,t){t=t||{},ql(Pl((function(){var n,i=Al("CLS",0),o=0,r=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=r[0],n=r[r.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,r.push(e)):(o=e.value,r=[e])}})),o>i.value&&(i.value=o,i.entries=r,n())},s=Rl("layout-shift",a);s&&(n=Fl(e,i,Wl,t.reportAllChanges),Ml((function(){a(s.takeRecords()),n(!0)})),Ol((function(){o=0,i=Al("CLS",0),n=Fl(e,i,Wl,t.reportAllChanges),Ll((function(){return n()}))})),setTimeout(n,0))})))}((function(t){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(i=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||i[0];if(n)return void(e.attribution={largestShiftTarget:xl(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:Cl(t.startTime)})}}var i;e.attribution={}}(t),e(t)}),t)},Kl=function(e,t){ql((function(t){!function(e){if(e.entries.length){var t=Sl(),n=e.entries[e.entries.length-1];if(t){var i=t.activationStart||0,o=Math.max(0,t.responseStart-i);return void(e.attribution={timeToFirstByte:o,firstByteToFCP:e.value-o,loadState:Cl(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:Cl(kl())}}(t),e(t)}),t)},Yl={passive:!0,capture:!0},Zl=new Date,Jl=function(e,t){vl||(vl=t,bl=e,yl=new Date,ed(removeEventListener),Xl())},Xl=function(){if(bl>=0&&bl<yl-Zl){var e={entryType:"first-input",name:vl.type,target:vl.target,cancelable:vl.cancelable,startTime:vl.timeStamp,processingStart:vl.timeStamp+bl};El.forEach((function(t){t(e)})),El=[]}},Ql=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){Jl(e,t),o()},i=function(){o()},o=function(){removeEventListener("pointerup",n,Yl),removeEventListener("pointercancel",i,Yl)};addEventListener("pointerup",n,Yl),addEventListener("pointercancel",i,Yl)}(t,e):Jl(t,e)}},ed=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Ql,Yl)}))},td=[100,300],nd=function(e,t){t=t||{},Vl((function(){var n,i=jl(),o=Al("FID"),r=function(e){e.startTime<i.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},a=function(e){e.forEach(r)},s=Rl("first-input",a);n=Fl(e,o,td,t.reportAllChanges),s&&Ml(Pl((function(){a(s.takeRecords()),s.disconnect()}))),s&&Ol((function(){var i;o=Al("FID"),n=Fl(e,o,td,t.reportAllChanges),El=[],bl=-1,vl=null,ed(addEventListener),i=r,El.push(i),Xl()}))}))},id=function(e,t){nd((function(t){!function(e){var t=e.entries[0];e.attribution={eventTarget:xl(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:Cl(t.startTime)}}(t),e(t)}),t)},od=0,rd=1/0,ad=0,sd=function(e){e.forEach((function(e){e.interactionId&&(rd=Math.min(rd,e.interactionId),ad=Math.max(ad,e.interactionId),od=ad?(ad-rd)/7+1:0)}))},cd=function(){return wl?od:performance.interactionCount||0},ld=function(){"interactionCount"in performance||wl||(wl=Rl("event",sd,{type:"event",buffered:!0,durationThreshold:0}))},dd=[200,500],ud=0,md=function(){return cd()-ud},pd=[],fd={},gd=function(e){var t=pd[pd.length-1],n=fd[e.interactionId];if(n||pd.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};fd[i.id]=i,pd.push(i)}pd.sort((function(e,t){return t.latency-e.latency})),pd.splice(10).forEach((function(e){delete fd[e.id]}))}},hd=function(e,t){!function(e,t){t=t||{},Vl((function(){var n;ld();var i,o=Al("INP"),r=function(e){e.forEach((function(e){e.interactionId&&gd(e),"first-input"===e.entryType&&!pd.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&gd(e)}));var t,n=(t=Math.min(pd.length-1,Math.floor(md()/50)),pd[t]);n&&n.latency!==o.value&&(o.value=n.latency,o.entries=n.entries,i())},a=Rl("event",r,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});i=Fl(e,o,dd,t.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),Ml((function(){r(a.takeRecords()),o.value<0&&md()>0&&(o.value=0,o.entries=[]),i(!0)})),Ol((function(){pd=[],ud=cd(),o=Al("INP"),i=Fl(e,o,dd,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:xl(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:Cl(t.startTime)}}else e.attribution={}}(t),e(t)}),t)},_d=[2500,4e3],vd={},bd=function(e,t){!function(e,t){t=t||{},Vl((function(){var n,i=jl(),o=Al("LCP"),r=function(e){var t=e[e.length-1];t&&t.startTime<i.firstHiddenTime&&(o.value=Math.max(t.startTime-Il(),0),o.entries=[t],n())},a=Rl("largest-contentful-paint",r);if(a){n=Fl(e,o,_d,t.reportAllChanges);var s=Pl((function(){vd[o.id]||(r(a.takeRecords()),a.disconnect(),vd[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(s,0)}),!0)})),Ml(s),Ol((function(i){o=Al("LCP"),n=Fl(e,o,_d,t.reportAllChanges),Ll((function(){o.value=performance.now()-i.timeStamp,vd[o.id]=!0,n(!0)}))}))}}))}((function(t){!function(e){if(e.entries.length){var t=Sl();if(t){var n=t.activationStart||0,i=e.entries[e.entries.length-1],o=i.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===i.url}))[0],r=Math.max(0,t.responseStart-n),a=Math.max(r,o?(o.requestStart||o.startTime)-n:0),s=Math.max(a,o?o.responseEnd-n:0),c=Math.max(s,i?i.startTime-n:0),l={element:xl(i.element),timeToFirstByte:r,resourceLoadDelay:a-r,resourceLoadTime:s-a,elementRenderDelay:c-s,navigationEntry:t,lcpEntry:i};return i.url&&(l.url=i.url),o&&(l.lcpResourceEntry=o),void(e.attribution=l)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(t),e(t)}),t)},yd=[800,1800],Ed=function e(t){document.prerendering?Vl((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},wd=function(e,t){t=t||{};var n=Al("TTFB"),i=Fl(e,n,yd,t.reportAllChanges);Ed((function(){var o=Sl();if(o){var r=o.responseStart;if(r<=0||r>performance.now())return;n.value=Math.max(r-Il(),0),n.entries=[o],i(!0),Ol((function(){n=Al("TTFB",0),(i=Fl(e,n,yd,t.reportAllChanges))(!0)}))}}))},Sd=function(e,t){wd((function(t){!function(e){if(e.entries.length){var t=e.entries[0],n=t.activationStart||0,i=Math.max(t.domainLookupStart-n,0),o=Math.max(t.connectStart-n,0),r=Math.max(t.requestStart-n,0);e.attribution={waitingTime:i,dnsTime:o-i,connectionTime:r-o,requestTime:e.value-r,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(t),e(t)}),t)};let Cd=!1;const Td=()=>{if(!Cd){Cd=!0;const e=g.Cookies.read("enable_ttvc_debugging");try{f.init({debug:"ON"===e,idleTimeout:1e3})}catch(e){l.reportException({err:e,severity:"non-critical",force:!0,tags:["user_centric_perf","ttvc"]})}}};const xd=new class{constructor(){this.hasTTVCMarkerBeenInitialized=!1,this.initializeMarker=()=>{this.hasTTVCMarkerBeenInitialized||(this.hasTTVCMarkerBeenInitialized=!0,this.markTTVC())},this.markTTVC=()=>{f.onTTVC((e=>{try{performance.mark("visually_complete",{startTime:e.duration}),performance.measure("visually_complete",{start:e.start,duration:e.duration})}catch(e){}}))}}};class Nd{constructor(){this.ttiSubscribers=new Set,this.onTTFB=Sd,this.onFCP=Kl,this.onLCP=bd,this.onCLS=Hl,this.onFID=id,this.onINP=hd,this.onTTVC=f.onTTVC,Td(),window.PerformanceObserver&&(this.performanceObserver=new PerformanceObserver(((e,t)=>{const n=this.getTTIValue(e);n&&(this.ttiSubscribers.forEach((e=>e(n))),t.disconnect())})),this.performanceObserver.observe({entryTypes:["mark"]}))}getTTI(e){this.ttiSubscribers.add(e);const t=this.getTTIValue(performance);return t&&e(t),()=>this.ttiSubscribers.delete(e)}getTTIValue(e){let t;const n=e.getEntriesByName("time_to_interactive","mark");if(n.length){t=n[0].startTime}return t}}class kd{constructor(){this.stats=new Od}}class Od{constructor(){this.rate_stats={}}_val(e,t){return e.hasOwnProperty(t)?e[t]:0}onPushEvent(e){for(const t of["*",e]){const e="enqueue:"+t;this.rate_stats[e]=this._val(this.rate_stats,e)+1}}onDrain(e){let t=0;for(const n in e)if(e.hasOwnProperty(n)){const i=e[n].map((e=>e.size())).reduce(((e,t)=>e+t),0),o="dequeue:"+n;this.rate_stats[o]=this._val(this.rate_stats,o)+i,t+=i}const n="dequeue:*";this.rate_stats[n]=this._val(this.rate_stats,n)+t}onReEnqueueBatch(e,t){for(const n of["*",e]){const e="reEnqueue:"+n;this.rate_stats[e]=this._val(this.rate_stats,e)+t.size()}}getAndReset(){const e=JSON.stringify({"rate-stats":this.rate_stats});return this.rate_stats={},e}}class Id extends kd{constructor(e){super(),this.compressionCodec=e,this.existing_batches={},this._pushEventCallbacks=[]}_append_batch_to_category(e,t){this.existing_batches[e]||(this.existing_batches[e]=[]),this.existing_batches[e].push(t)}_get_or_create_batch(e){let t=this.existing_batches[e];return t&&0!==t.length||(this._add_new_batch_for_category(e),t=this.existing_batches[e]),t[t.length-1]}_add_new_batch_for_category(e){const t=new Ad(e,100,this.compressionCodec);return this._append_batch_to_category(e,t),t}pushEvent(e,t){const n=JSON.parse(JSON.stringify(t));this.stats.onPushEvent(e);if(!this._get_or_create_batch(e).tryAppend(n)){this._add_new_batch_for_category(e).tryAppend(n)}for(const e of this._pushEventCallbacks)"function"==typeof e&&e()}reEnqueueBatch(e,t){return this.stats.onReEnqueueBatch(e,t),this._append_batch_to_category(e,t)}subscribeToPushEvent(e){this._pushEventCallbacks.push(e)}drain(e){let t=e;const n={};for(const e in this.existing_batches)if(this.existing_batches.hasOwnProperty(e)){if(t<=0)break;const i=this.existing_batches[e].splice(0,t);if(t-=i.length,i.length>0){for(const e of i)e.close();n[e]=i}}return this.stats.onDrain(n),n}}class Ad{constructor(e,t,n){this.category=e,this.maxMessages=t,this.compressionCodec=n,this.numReportAttempts=0,this.messages=[]}isFull(){return this.messages.length>=this.maxMessages}size(){return this.messages.length}tryAppend(e){return!this.isFull()&&!this.closed&&(this.messages.push(e),this.isFull()&&this.close(),!0)}close(){this.closed||(this.closed=!0)}records(){return this.messages}markFailure(){if(!this.closed)throw new Error("Attempted to send an open batch");this.numReportAttempts++}}class Rd{inflate(e){return e}deflate(e){return e}}class Fd{static initClass(){this.__stack=[],this.CLEAR="dbmodal:clear"}static pop(e){null!=e?Fd.remove(e):e=Fd.__stack.pop(),null!=e&&e._hide();const t=Fd.top();null!=t?t._show():this.trigger(Fd.CLEAR)}static push(e){Fd.remove(e);const t=Fd.top();(null!=t?t.visible:void 0)&&t._hide(),Fd.__stack.push(e),e._show()}static top(){const{length:e}=Fd.__stack;return e?Fd.__stack[e-1]:null}static remove(e){const t=[];for(const n of Array.from(Fd.__stack))n!==e&&t.push(n);Fd.__stack=t}static clear(){for(let e=Fd.__stack.length-1;e>=0;e--){const t=Fd.__stack[e];t.visible&&t._hide()}this.trigger(Fd.CLEAR),Fd.__stack=[]}static register(e,t){document.addEventListener(e,t),document.addEventListener(Fd.CLEAR,(()=>document.removeEventListener(e,t)))}static unregister(e,t){document.removeEventListener(e,t)}static trigger(e,t){document.dispatchEvent(function(e,t={detail:null}){if("function"==typeof CustomEvent)return new CustomEvent(e,t);const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!0,!0,t.detail),n}(e,{detail:t}))}}Fd.initClass();const Ld={};function Md(e){return null===e?String(e):Ld[toString.call(e)]||"object"}function Pd(e){return function(e){return"object"===Md(e)}(e)&&!function(e){return null!==e&&e===e.window}(e)&&Object.getPrototypeOf(e)===Object.prototype}["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"].forEach((e=>{Ld["[object "+e+"]"]=e.toLowerCase()}));const Dd=function(e,t=!1){const n=[];return n.add=function(e,t){(function(e){return"function"===Md(e)})(t)&&(t=t()),void 0!==t&&(null===t&&(t=""),n.push(encodeURIComponent(e)+"="+encodeURIComponent(t)))},Bd(n,e,t),n.join("&").replace(/%20/g,"+")};function Bd(e,t,n=!1,i=""){let o;const r=Array.isArray(t),a=Pd(t);Object.entries(t).forEach((([t,s])=>{o=Md(s),i&&(t=n?i:i+"["+(a||"object"===o||"array"===o?t:"")+"]"),!i&&r?e.add(s.name,s.value):"array"===o||!n&&"object"===o?Bd(e,s,n,t):e.add(t,s)}))}function Ud(e){return e}function zd(e,t){null==e&&(e={}),null==t&&(t=[]);const n=new $d(e),i=jd(n,t),a=i.options().type||"POST",s=i.data(),c=i.dataType(),l=i.headers();let d=String(i.url());const u={method:a,mode:"cors",credentials:"same-origin",headers:l,signal:e.signal};"POST"===a.toUpperCase()?u.body=Dd(s,!0):d=function(e,t){const n=e.startsWith("//"),i=n||e.includes("://")?n?"http:":"":"http://example",o=new URL(i+e),r={};o.searchParams.forEach((function(e,t){r[t]=e})),Object.keys(t).forEach((e=>{let n=t[e];null===n&&(n=""),void 0!==n&&(r[e]=n)}));const a=[];Object.entries(r).forEach((([e,t])=>{a.push(Dd({[e]:t},!0))})),o.search=a.join("&");let s=o.toString();return s=s.slice(i.length),s}(d,s),l.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),f.incrementAjaxCount(),r.incrementAjaxCount();const m=fetch(d,u);return new Promise((function(e,t){m.then((e=>e.text().then((t=>({response:e,responseText:t}))))).then((({response:t,responseText:n})=>{if(!t.ok)throw new o.FetchResponseError(t,n);if("abort"===t.statusText)throw new o.FetchAbortError(t,t.statusText);if("failed"===t.statusText)throw new o.FetchFailError(t,t.statusText);e({response:t,responseText:n})})).catch((e=>t(e)))})).then((({response:e,responseText:t})=>{if("json"===c)try{const n=JSON.parse(t);i.success(n,t,"success",e),i.complete(e,"success",t)}catch(t){i.error(e,"parsererror",t),i.complete(e,"parsererror")}else i.success(void 0,t,"success",e),i.complete(e,"success",t)})).catch((e=>{const t=new Response;o.errorIsFetchFailError(e)?(i.error(e.response,"failed",e),i.complete(e.response,"failed")):o.errorIsFetchResponseError(e)?(i.error(e.response,"error",e),i.complete(e.response,"error")):o.errorIsFetchAbortError(e)?(i.error(e.response,"aborted",e),i.complete(e.response,"aborted")):"AbortError"===e.name?(i.error(t,"aborted",e),i.complete(t,"aborted")):(i.error(t,"error",e),i.complete(t,"error"))})).finally((()=>{f.decrementAjaxCount(),r.decrementAjaxCount()})),i.request(m),m}function Gd(e){return e.type===Vd.CHAINED}const jd=function(e,t){const n=[e];for(const e of Array.from(t.slice(0).reverse()))n.push(new e);let i=e;for(const e of n)i&&Gd(e)&&(e.next=i),i=e;return i};var Vd;!function(e){e.BASE="base",e.CHAINED="chained"}(Vd||(Vd={}));class $d{constructor(e){this.type=Vd.BASE;const t=e||{};this.options=()=>t,this.url=()=>String(t.url||""),this.data=()=>t.data||{},this.dataType=()=>t.dataType||"text",this.headers=()=>t.headers||new Headers,this.success=t.success||Ud,this.error=t.error||Ud,this.complete=t.complete||Ud,this.request=Ud}}class qd{constructor(){this.type=Vd.CHAINED}options(){return this.next.options()}url(){return this.next.url()}contentType(){return this.next.contentType()}data(){return this.next.data()}dataType(){return this.next.dataType()}headers(){return this.next.headers()}success(e,t,n,i){this.next.success(e,t,n,i)}error(e,t,n){this.next.error(e,t,n)}complete(e,t,n){this.next.complete(e,t,n)}request(e){this.next.request(e)}}class Wd extends qd{constructor(){super(...arguments),this.SUPPORTED_TLDS=["dropbox.com"]}static initClass(){}data(){if(this.options().skipInjectCsrf)return this.next.data();f.assert(this._is_db_domain(),"injecting CSRF token into request to non-dropbox domain");const e={is_xhr:!0};return"GET"!==(this.options().type||"POST").toUpperCase()&&(e.t=g.readCsrfToken()),Object.assign(Object.assign({},e),this.next.data())}_is_db_domain(){const e=f.URI.parse(String(this.url())).getAuthority();if(!e)return!0;const t=e.split(".");return this.SUPPORTED_TLDS.reduce((function(e,n){const i=n.split("."),o=t.slice(-1*i.length).join(".");return e||n===o}),!1)}}Wd.initClass();class Hd extends qd{data(){return this.next.data()}headers(){const e=this.next.headers();return this.options().type,e}}const Kd=[class extends qd{constructor(){super(),this.browser_unload_handler=this.browser_unload_handler.bind(this),this.is_browser_unloading=!1}browser_unload_handler(){this.is_browser_unloading=!0}request(e){return window.addEventListener("beforeunload",this.browser_unload_handler),this.next.request(e)}error(e,t,n){return"error"===t&&this.is_browser_unloading?this.next.error(e,"aborted",new Error("unload")):this.next.error(e,t,n)}complete(e,t,n){return window.removeEventListener("beforeunload",this.browser_unload_handler),this.next.complete(e,t,n)}}],Yd=[class extends qd{error(e,t,n){return this._notify_dev(t,n),this.next.error(e,t,n)}_notify_dev(e,t){if(o.errorIsFetchFailError(t)||o.errorIsFetchResponseError(t)){t.response.headers.get("X-Debug-Url")}}},class extends qd{headers(){const e=this.next.headers(),t=h.getAttributionHeader();return t&&e.append("x-dropbox-client-yaps-attribution",t),e}},Hd,class extends qd{data(){const e=this.next.data(),t={};i.getPublicModeOverride()&&(t.public_mode_override="1");const n=i.getCountryOverride();return n&&(t.country_override=n),Object.assign(Object.assign({},t),e)}}],Zd=[class extends qd{data(){const e=this.next.data(),t=this.options();return t.subject_user&&!e._subject_uid&&(e._subject_uid=String(t.subject_user)),e}headers(){const e=this.next.headers(),t=this.options();return t.subject_user&&e.set("X-DROPBOX-UID",String(t.subject_user)),e}},class extends qd{headers(){var e;const t=this.next.headers(),n=this.options().teamAuthParams||{},i=n.team_id||a.Viewer.get_viewer().team_id;if(i){const{subject_user:n}=this.options(),o=this.next.data()._subject_uid,r=("number"==typeof n?n:null==n?void 0:n.id)||("string"==typeof o?parseInt(o,10):o);r&&r===(null===(e=a.Viewer.get_viewer().work_user)||void 0===e?void 0:e.id)&&t.set("X-Dropbox-Teamid",String(i))}const o=n.auth_role||a.Viewer.get_viewer().auth_role,r=n.auth_action_type||a.Viewer.get_viewer().auth_action_type;return(o||r)&&t.set("X-Dropbox-Team-Authorization",JSON.stringify({auth_role:String(o),auth_action_type:String(r)})),t}},Wd],Jd=[].concat(Kd,Yd,Zd);function Xd(e){return null==e&&(e={}),zd(e,Jd)}function Qd(e){if(null==e&&(e={}),!navigator.sendBeacon)return Xd(e);const t=new $d(e),n=jd(t,[].concat(Zd,Hd)),i=n.url(),o=(e=>{const t=new FormData;for(const n of Object.keys(e)){const i=e[n];(null===i?[]:Array.isArray(i)?i:[i]).forEach((e=>{let i;void 0!==e&&(i=!0===e?"true":!1===e?"false":"number"==typeof e?String(e):"object"==typeof e?e.toString():e,t.append(n,i))}))}return t})(n.data());try{return void(navigator.sendBeacon(String(i),o)||console.warn(`Beacon request failed: ${i}`))}catch(t){return Xd(e)}}const eu="/log/telemetry",tu=204;class nu{constructor(e,t,n){this.store=e,this.sendInterval=t,this.batchSize=n,this.numSuccessfulPublish=0,this.numFailedPublish=0,this._pageUnloading=!1,this.scheduleNextSend(Date.now())}drainAllLogs(){this._pageUnloading||(this._pageUnloading=!0,this.store.subscribeToPushEvent((()=>{this.sendOnce(!0)}))),null!=this.nextSendTimeoutId&&clearTimeout(this.nextSendTimeoutId),this.sendOnce(!0)}sendOnce(e=!1){const t=this.store.drain(this.batchSize);Object.keys(t).length>0&&this.publish(t,e);const n=Date.now();this.scheduleNextSend(n),this.lastSendTime=n}publish(e,t=!1){const n={},i={};if(Object.keys(e).forEach((function(t){const i=e[t].map((e=>e.records()));n[t]=JSON.stringify([].concat(...i))})),i["data-version"]="1",i.batches=JSON.stringify(n),i.stats=this.store.stats.getAndReset(),t&&"navigator"in window&&"sendBeacon"in window.navigator)return void Qd({url:eu,data:i});p.sendXhr(eu,i,(t=>{t===tu?this.onSendSuccess(e):this.onSendFailure(e)}))}scheduleNextSend(e){this.nextSendTime=e+this.sendInterval,this.nextSendTimeoutId=setTimeout((()=>{this.sendOnce()}),this.sendInterval)}onSendSuccess(e){this.numSuccessfulPublish++,window.SECRET_LOGGING_FRAMEWORK_CALLBACK_DO_NOT_USE&&window.SECRET_LOGGING_FRAMEWORK_CALLBACK_DO_NOT_USE(e)}onSendFailure(e){this.numFailedPublish++;for(const t in e)if(e.hasOwnProperty(t))for(const n of e[t])n.markFailure(),n.numReportAttempts<4&&this.store.reEnqueueBatch(t,n)}}class iu{constructor(e){this.prefix=e}log(e){window.EDISON_LOCALMODE||su().storage.pushEvent(this.prefix+e.category,e)}}class ou extends iu{constructor(){super("hive:")}}class ru{constructor(){const e=new Rd;this.storage=new Id(e),this.sender=new nu(this.storage,5e3,1),window.addEventListener("beforeunload",(()=>{this.drainAllLogs()}))}drainAllLogs(){this.sender.drainAllLogs()}sendOnce(){this.sender.sendOnce()}}let au;function su(){return au||(au=new ru),au}var cu=Object.freeze({__proto__:null,ClientTelemetry:ru,HiveLogger:ou,getGlobalTelemetrySingleton:su});const lu=new ou;class du{constructor(e){this.category="web-visually_complete",this.user_id=null,this.country=null,this.referrer=null,this.session_id=null,this.user_agent=null,this.ua_browser_name=null,this.ua_browser_version=null,this.time_to_visually_complete=e.time_to_visually_complete,this.last_visible_change=e.last_visible_change,this.product_name=e.product_name,this.navigation_type=e.navigation_type,this.request_id=i.getRequestId(),Object.seal(this)}}const uu=(e,t,n)=>{var o,r;i.getPageLocale()===t[0]&&t.shift();const a=null!==(o=t[0])&&void 0!==o?o:"",s=null!==(r=t[1])&&void 0!==r?r:"";if("warp_page"===n||"warp_page_no_indexing"===n||"warp_page_edison"===n){const e=mu(a,t);if(e)return e}switch(a){case"":return"homepage:loggedout";case"home":case"personal":case"work":return e.searchParams.has("preview")?"browse:preview":"browse";case"account":return Tu(s);case"admin":return Su(s,t);case"backups":return"browse:backups";case"business":return pu(s);case"content_hub":return fu(s,t);case"forgot":return"forgot_password";case"forgot_finish":return"forgot_password:finish";case"h":return"home";case"history":return"version_history";case"install":return"install";case"install-linux":return"install_linux";case"downloading":return"downloading";case"login_notification":return bu(s);case"manage":return xu(s);case"preview":return"standalone_preview";case"previews":return"previews_carousel";case"product-updates":return Nu(s);case"s":case"sh":return _u(a,e.searchParams,n);case"scl":return vu(s,e.searchParams,n);case"share":return hu(s);case"sm":return Cu(s);case"transfer":return yu(s,t);case"search":return e.searchParams.get("preview")?"search_preview":e.searchParams.get("query")?"search_results_page":"search_zero_state";case"team":return Eu(s,t,n);case"dash-home":case"dash":case"dash_uninstall":case"dash_uninstall_survey_results":return ku(t);case"backup":case"collections":case"deleted_files":case"events":case"login":case"mobile":case"photos":case"plans":case"recents":case"report_abuse":case"request":case"requests":case"signatures":case"starred":case"for_you":case"switch_login":case"time_tracking":case"trello_powerup":case"verify_code":return a;case"ncct-last-chance":return"ncct_last_chance";case"pro":if("redeem_key"===s)return"pro:redeem_key"}},mu=(e,t)=>{const n="warp";switch(e){case"":return`${n}:index`;case"dash":case"product-updates":return;default:const e=gu(t,4);if(e)return`${n}:${e.replace(/-/g,"_")}`}},pu=e=>{switch(e){case"":return"business";case"buy":return"business:buy";case"solutions":return"business:solutions";case"try":return"business:try";case"plans-comparison":return"business:plans_comparison"}},fu=(e,t)=>{switch(e){case"":return"content_hub";case"files":return"content_hub:files";case"s":return"content_hub:shared_link:file";case"sh":return"content_hub:shared_link:folder";case"playground":return"empty"===t[2]?"content_hub:test_pages:empty_page":"chrome"===t[2]?"content_hub:test_pages:chrome_only":void 0;default:return}},gu=(e,t)=>{if(t<1)return;let n="";for(let i=0;i<t&&i<e.length;i++)e[i]&&(n+=(i>0?":":"")+e[i]);return n},hu=e=>{switch(e){case"recents":return"shared:recents";case"folders":return"shared:folders";case"files":return"shared:files";case"links":return"shared:links";case"signatures":return"shared:signatures"}},_u=(e,t,n)=>{switch(e){case"s":return"shmodel_file_page"===n?"shared_link:file":n?"shared_link:file:"+n:"shared_link:file:uncategorized";case"sh":return"shared_link_folder"===n?t.has("preview")?"shared_link:folder:file_preview":"shared_link:folder":"shmodel_file_page"===n?"shared_link:file":n?"shared_link:folder:"+n:"shared_link:folder:uncategorized"}},vu=(e,t,n)=>{switch(e){case"fi":return"scl_file_page"===n?"shared_link:file":n?"shared_content_link:file:"+n:"shared_content_link:file:uncategorized";case"fo":return"scl_folder_page"===n?t.has("preview")?"shared_link:folder:file_preview":"shared_link:folder":"scl_file_page"===n?"shared_link:file":n?"shared_content_link:folder:"+n:"shared_content_link:folder:uncategorized"}},bu=e=>{switch(e){case"not_sure":return"login_notification:not_sure";case"this_was_me":return"login_notification:this_was_me"}},yu=(e,t)=>{var n;switch(e){case"manage":return"transfer:manage";case"about":return"transfer:about";case"":break;default:const i=null!==(n=t[2])&&void 0!==n?n:"";if("edit"===i)return"transfer:edit";if(""===i&&e.length>10)return"transfer:view"}if(!e)return"transfer:create"},Eu=(e,t,n)=>{var i,o;const r=null!==(i=t[2])&&void 0!==i?i:"",a=null!==(o=t[3])&&void 0!==o?o:"",s=["admin_console_home","admin_console_members"].includes(n||"");switch(e){case"admin":switch(r){case"cancel":return"team_admin:cancel";case"dashboard":return s?"admin_console_home":void 0;case"disband":return"team_admin:disband";case"domains":return"team_admin:domains";case"extend":return"accept"===a?"team_admin:extend_trial_accept":"team_admin:extend_trial";case"external_people":return"team_admin:external_people";case"members":return"requests"===a?"team_admin:members_requests":s?"admin_console_members":void 0;case"member_discovery":return"domain"===a?"team_admin:member_discovery_domain":void 0;case"settings":return"domains"===a?"team_admin:settings_domains":"membership_approval"===a?"team_admin:settings_membership_approval":void 0;case"your_domains":return"team_admin:your_domains"}return;case"discover":return"suggest"===r?"team:discover_suggest":"team:discover";case"rs_approval":return"team:rs_approval";case"cancel":return"done"===r?"team:cancel_done":"team:cancel";case"decide":return"team:decide";case"join":return wu(r)}},wu=e=>{const t="team_join";return e?["login","login_work","relogin","two_dropboxes","pending_verification","confirm_upgrade","complete","essential"].includes(e)?`${t}:${e}`:`${t}:uncategorized`:t},Su=(e,t)=>{var n;const i=null!==(n=t[3])&&void 0!==n?n:"";return"teams"===e&&"domains"===i?"admin:teams_domains":void 0},Cu=e=>{switch(e){case"launch_intent_or_fallback_page":return"launch_intent_or_fallback_page";case"password":return"link_password_page"}},Tu=e=>{switch(e){case"connected_apps":return"account:app";case"billing":return"account:billing";case"branding":return"account:branding";case"complete_registration_page":return"account:complete_registration";case"general":return"account:general";case"family":return"account:family";case"notifications":return"account:notifications";case"plan":return"account:plan";case"security":return"account:security";case"privacy":return"account:privacy";case"sharing":return"account:sharing"}},xu=e=>{switch(e){case"subscriptions":return"manage:subscriptions";case"billing":return"manage:billing"}},Nu=e=>e.includes("dbx")?"product_updates:dbx_monthly_update":e.includes("hs")?"product_updates:hs_monthly_update":"product_updates",ku=e=>{const[t="",n="",i=""]=e;switch(t){case"dash_uninstall":return"dash:uninstall";case"dash_uninstall_survey_results":return"dash:uninstall_survey_results";case"dash":switch(n){case"":return"dash:landing_page";case"download":return"dash:download"}break;case"dash-home":switch(n){case"":return"dash:home";case"tabs":return"dash:tabs";case"connectors":return"dash:connectors";case"stacks":return""===i?"dash:library":"dash:stack_view"}}return"dash:unknown"},Ou=new ou;class Iu{constructor(e){this.category="web-largest_contentful_paint",this.user_id=null,this.country=null,this.referrer=null,this.session_id=null,this.user_agent=null,this.ua_browser_name=null,this.ua_browser_version=null,this.largest_contentful_paint=e.largest_contentful_paint,this.product_name=e.product_name,this.request_id=i.getRequestId(),Object.seal(this)}}const Au=new ou;class Ru{constructor(e){this.category="web-time_to_first_byte",this.user_id=null,this.country=null,this.referrer=null,this.session_id=null,this.user_agent=null,this.ua_browser_name=null,this.ua_browser_version=null,this.time_to_first_byte=e.time_to_first_byte,this.product_name=e.product_name,this.request_id=i.getRequestId(),this.navigation_type=e.navigation_type,Object.seal(this)}}const Fu=new RegExp("^(?:data|aria)-"),Lu=new Set(["value","alt","title","style"]);function Mu(e){const t=[];for(const n of e.attributes)t.push(n.name);for(const n of t)if("src"===n||"href"===n){const t=e.getAttribute(n);try{e.setAttribute(n,new URL(t).hostname)}catch(t){e.setAttribute(n,"****")}}else(Fu.test(n)||Lu.has(n))&&e.setAttribute(n,"****");return e}const Pu=e=>{const t=e.detail.lastVisibleChange;let n="";if(t instanceof HTMLElement){n="load event: "+Mu(t.cloneNode(!1)).outerHTML}else t&&(n="mutation: "+function(e){const t={type:e.type,target:e.target,addedNodes:e.addedNodes,removedNodes:e.removedNodes,attributeName:e.attributeName,attributeNamespace:e.attributeNamespace};return JSON.stringify(t,((e,t)=>{if(null!=t&&0!==Object.keys(t).length){if(t instanceof Element)return Mu(t=t.cloneNode(!1)).outerHTML;if(!(t instanceof Node))return t}}),"")}(t));return n};class Du{static getSingleton(){return Du.instance||(Du.instance=new Du),Du.instance}constructor(e=null,t=new Nd){this.AMP_NAMESPACE="user_centric_perf",this.shouldLogToAmp=!1,e&&(this._metricsReporter=e),this.metricsCollector=t}get metricsReporter(){if(!this._metricsReporter)throw new Error("Must set `metricsReporter` on MetricsLogger before deriving metrics");return this._metricsReporter}set metricsReporter(e){this._metricsReporter=e}deriveAndLogAllMetrics(){this.deriveAndLogTimeToFirstByte(),this.deriveAndLogFirstContentfulPaint(),this.deriveAndLogLargestContentfulPaint(),this.deriveAndLogFirstInputDelay(),this.deriveAndLogCumulativeLayoutShift(),this.deriveAndLogTimeToVisuallyComplete(),this.deriveAndLogTimeToConsistentlyInteractive(),this.deriveAndLogInteractionToNextPaint(),this.logTimeToInteractive(),this.observeRageClicks()}deriveAndLogTimeToFirstByte(){this.metricsCollector.onTTFB((e=>{this.logMetricToAmp("time_to_first_byte_ms",e.value);const{productName:t,webserver:n}=this.getProductNameAndServer();"UNKNOWN"!==t&&(this.logMetricToAmp("ttfb",e.value,c.TimeUnit.MILLISECONDS,{navigation_type:e.navigationType,product:t,web_server:n},!0),Au.log(new Ru({time_to_first_byte:Math.round(e.value),product_name:t,navigation_type:e.navigationType})))}))}deriveAndLogFirstContentfulPaint(){this.metricsCollector.onFCP((e=>{const{productName:t,webserver:n}=this.getProductNameAndServer();hl("fcp",{duration:e.value,detail:Object.assign({product:t,webserver:n,isBuildTimePrefetchesEnabled:this.isBuildTimePrefetchesEnabled,skipBtpPrefetchDurationThreshold:this.skipBtpPrefetchDurationThreshold},_l(e))}),this.logMetricToAmp("time_to_first_contentful_paint_ms",e.value)}))}deriveAndLogLargestContentfulPaint(){this.metricsCollector.onLCP((e=>{this.logMetricToAmp("time_to_largest_contentful_paint_ms",e.value);const{productName:t,webserver:n}=this.getProductNameAndServer();hl("lcp",{duration:e.value,detail:Object.assign({product:t,webserver:n,isBuildTimePrefetchesEnabled:this.isBuildTimePrefetchesEnabled,skipBtpPrefetchDurationThreshold:this.skipBtpPrefetchDurationThreshold},_l(e))}),Ou.log(new Iu({largest_contentful_paint:Math.round(e.value),product_name:t}));const i=new CustomEvent("largest_contentful_paint",{detail:{value:e.value}});window.dispatchEvent(i)}))}deriveAndLogFirstInputDelay(){this.metricsCollector.onFID((e=>{const t=e.entries[0].startTime;this.logMetricToAmp("time_to_first_input_ms",t),this.logMetricToAmp("first_input_delay_ms",e.value)}))}deriveAndLogCumulativeLayoutShift(){this.metricsCollector.onCLS((e=>{this.logMetricToAmp("cumulative_layout_shift",e.value,null);const{productName:t,webserver:n}=this.getProductNameAndServer();hl("cls",{duration:e.value,detail:Object.assign({product:t,webserver:n},_l(e))})}))}deriveAndLogInteractionToNextPaint(){this.metricsCollector.onINP((e=>{this.logMetricToAmp("interaction_to_next_paint_ms",e.value);const{productName:t,webserver:n}=this.getProductNameAndServer();hl("inp",{duration:e.value,detail:Object.assign({product:t,webserver:n},_l(e))})}))}deriveAndLogTimeToVisuallyComplete(){this.metricsCollector.onTTVC((e=>this.onTimeToVisuallyCompleteSuccess(e)),(e=>this.onTimeToVisuallyCompleteCancellation(e)))}onTimeToVisuallyCompleteSuccess(e){if(e.duration<0)return;const{productName:t,webserver:n}=this.getProductNameAndServer(),o="script"===e.detail.navigationType,r=o?"ajax":e.detail.navigationType;hl("ttvc",{start:e.start,duration:e.duration,detail:{product:t,webserver:n,navigationType:r,isBuildTimePrefetchesEnabled:this.isBuildTimePrefetchesEnabled,skipBtpPrefetchDurationThreshold:this.skipBtpPrefetchDurationThreshold}}),lu.log(new du({time_to_visually_complete:Math.round(e.duration),last_visible_change:Pu(e),product_name:t,navigation_type:r}));const a=Boolean(i.isHTTP3SupportEnabled())?"http3":"http2";o||this.logMetricToAmp("time_to_visually_complete_ms",e.duration,c.TimeUnit.MILLISECONDS,{did_network_timeout:e.detail.didNetworkTimeOut.toString(),protocol:a});const s={did_network_timeout:e.detail.didNetworkTimeOut.toString(),navigation_type:r,protocol:a};this.resourceSummary&&this.resourceSummary.total.script&&(s.all_js_loaded_from_cache=(0===this.resourceSummary.total.script.transfer_size).toString()),"UNKNOWN"!==t&&this.logMetricToAmp("ttvc",e.duration,c.TimeUnit.MILLISECONDS,Object.assign(Object.assign({},s),{product:t,web_server:n}),!0);const l=new CustomEvent("visually_complete",{detail:{value:e.duration,navigation_type:o?"ajax":"page_load"}});window.dispatchEvent(l)}onTimeToVisuallyCompleteCancellation(e){const{productName:t,webserver:n}=this.getProductNameAndServer();hl("ttvc/cancelled",{start:e.start,duration:e.end-e.start,detail:{cancellationReason:e.cancellationReason,product:t,webserver:n,navigationType:e.navigationType}})}logTimeToInteractive(){this.metricsCollector.getTTI((e=>{const{productName:t,webserver:n}=this.getProductNameAndServer();"UNKNOWN"!==t&&this.logMetricToAmp("tti",e,c.TimeUnit.MILLISECONDS,{product:t,web_server:n},!0)}))}deriveAndLogTimeToConsistentlyInteractive(){}observeRageClicks(){}getProductNameAndServer(){const e=function(e){var t;const n=i.getPageName()||void 0,o=null===(t=window.ensemble)||void 0===t?void 0:t.getPageName(),r=e.pathname.substring(1).split("/"),a=uu(e,r,null!=n?n:o);return a||(i.isServedByEdisonWebServer()?`edison_page_name:${n}`:o?`dws_page_name:${o}`:"UNKNOWN")}(new URL(window.location.toString()));let t="unknown";return i.isServedByEdisonWebServer()?t="edison":window.ensemble&&(t="dws"),{productName:e,webserver:t}}logMetricToAmp(e,t,n=c.TimeUnit.MILLISECONDS,i,o=!1){if(!o&&!this.shouldLogToAmp)return;const r=this.metricsReporter.createStats(this.createAMPMetric(e),i);n?r.recordDuration(t,c.TimeUnit.MILLISECONDS):r.record(t)}createAMPMetric(e){return{ns:this.AMP_NAMESPACE,name:`browser/${e}`}}}void 0!==window&&Du.getSingleton();var Bu;!function(e){e[e.NEW=1]="NEW",e[e.RUNNING=2]="RUNNING",e[e.ABORTED=3]="ABORTED",e[e.CLOSED=4]="CLOSED"}(Bu||(Bu={}));const Uu=["navigation_type","referrer","repo_rev","source_type","active_user_id"],zu=["tti_flow","tti_exclusion_flow","is_dws2"];function Gu(){return"hidden"===window.document.visibilityState}const ju=[[Oc.APPLICATION_START,Oc.FETCHED_DATA_FOR_TTI,Oc.MARK_TIME_TO_INTERACTIVE],[Oc.TIME_TO_INTERACTIVE]].reverse();let Vu=1;const $u="web_timing";class qu{constructor(){Ec.create_stopwatch_if_not_exist("web_timing_logger"),this.shouldLogJsModuleTimes=()=>Math.random()<.001}buildBaseParams(e,t,n={}){const o=e.start_time,r=e.subtypes||{};e.tti_flow&&(r.tti_flow=e.tti_flow);const a={log_source:t.name,subtypes:JSON.stringify(r),correlation_id:e.correlation_id};let s;e.extra_columns&&Object.keys(e.extra_columns).forEach((t=>{const n=e.extra_columns[t];n&&(a[t]=n)})),Object.keys(n).forEach((e=>{const t=n[e];t&&(a[e]=t)})),e.is_pagelet&&(a.is_pagelet=!0),e.is_dws&&(a.is_dws=!0),e.is_early_ensemble&&(a.is_early_ensemble=!0),a.delayed_tti_for_css=e.delayed_tti_for_css,""!==e.tti_exclusion_flow&&(a.tti_exclusion_flow=e.tti_exclusion_flow),s=e.log_time_to_interactive&&null!=e.time_to_interactive?e.time_to_interactive-o:null;const c={navigation_type:this.get_navigation_type(),server_request_start_time:i.getRequestStartTime(),extra_columns:JSON.stringify(a),subtypes:JSON.stringify(r),source_type:e.source_type,page_load_time:e.end_time-e.start_time,repo_rev:i.getRepoRev()};return this.shouldLogJsModuleTimes()&&nm(c),e.log_time_to_interactive&&(c.time_to_interactive=s),c.url=vc(),0===c.url.indexOf("/dws2/")&&(c.url=c.url.substring(5)),c.active_user_id=Y(),c.referrer=document.referrer,c.request_id=e.request_id||i.getRequestId(),c.request_tracing_enabled=i.isRequestTracingEnabled(),window.ensemble&&window.ensemble.viewer&&(c.dws_page_name=window.ensemble.getPageName()),i.isServedByEdisonWebServer()&&(c.edison_page_name=i.getPageName()),c}get_navigation_type(){return kc.getFromNavigation(window.performance.navigation)}log(e,t){const n=Ec.startSpan("wtl_endpoint",{stopwatchName:"web_timing_logger"});Ec.addSpanAnnotation("wtl_endpoint","navigation_type",t.navigation_type,{stopwatchName:"web_timing_logger",spanId:n}),Object.keys(t).forEach((e=>{"number"==typeof t[e]&&(t[e]=Math.round(t[e]))}));const i=p.sendXhr("/alternate_wtl",t);i.onreadystatechange=e=>{i.readyState===XMLHttpRequest.DONE&&200===i.status&&Ec.endSpan("wtl_endpoint",{stopwatchName:"web_timing_logger",spanId:n})}}}class Wu extends qu{constructor(){super()}shouldLog(e){return e.initialized&&!e.have_logged_web_timing&&void 0!==e.end_time&&(!e.log_time_to_interactive||null!=e.time_to_interactive)}logTiming(e,t){e.have_logged_web_timing=!0;const n=this.buildBaseParams(e,t),i=Qu(e,n);return this.log(e,n),i}get_navigation_type(){return"ajax"}}class Hu extends qu{constructor(){super()}shouldLog(e){if(!e.initialized||e.have_logged_web_timing)return!1;const t=window.performance.timing,n=e.start_time,i=e.end_time;return!(!n||!i)&&!(e.log_time_to_interactive&&!(e.tti_at_dom_interactive&&(null==t?void 0:t.domInteractive)||null!=e.time_to_interactive))}logTiming(e,t){const n=performance.getEntriesByType("navigation")[0];Ec.startSpan("process_nav_timing",{stopwatchName:"web_timing_logger"});const o=this.buildBaseParams(e,t,{}),r=Qu(e,o),a=function(e){Ec.create_stopwatch_if_not_exist("resource_timeline");const t=Cc(e),n={};for(const[e,i]of Object.entries(t)){const t="totalSize"in i?{total_size:i.totalSize}:null,o="transferSize"in i?{transfer_size:i.transferSize}:null;n[e]=Object.assign(Object.assign(Object.assign({count:i.count,total_time:i.totalTime},t),o),{last_transfer_end:i.lastTransferEnd})}return{total:n}}(performance.getEntriesByType("resource"));if(n)o.browser_time=Math.round(n.redirectStart||n.fetchStart),o.redirect_time=Math.round(n.fetchStart),o.dns_time=Math.round(n.domainLookupEnd),o.tcp_connect_time=Math.round(n.secureConnectionStart||n.requestStart),o.ssl_connect_time=Math.round(n.requestStart),o.time_to_first_byte=Math.round(n.responseStart),o.time_to_last_byte=Math.round(n.responseEnd),o.dom_load_time=Math.round(n.domContentLoadedEventEnd);else{const t=performance.timing;o.browser_time=t.redirectStart-e.start_time,o.redirect_time=t.fetchStart-e.start_time,o.dns_time=t.domainLookupEnd-e.start_time,o.tcp_connect_time=(t.secureConnectionStart||t.requestStart)-e.start_time,o.ssl_connect_time=t.requestStart-e.start_time,o.time_to_first_byte=t.responseStart-e.start_time,o.time_to_last_byte=t.responseEnd-e.start_time,o.dom_load_time=t.domContentLoadedEventEnd-e.start_time}o.idle_cpu_time=e.timing_results?Math.round(e.timing_results.idleCPUTime):void 0,o.total_tracked_cpu_time=e.timing_results?Math.round(e.timing_results.totalTrackedCPUTime):void 0,o.untracked_time_after_first_byte=e.timing_results&&null!=e.timing_results.untrackedTimeAfterFirstByte?Math.round(e.timing_results.untrackedTimeAfterFirstByte):void 0,function(e,t){for(const n in e)e.hasOwnProperty(n)&&(t[`resource_${n}_count`]=e[n].count,t[`resource_${n}_avg_time`]=e[n].total_time/e[n].count||1,void 0!==e[n].total_size&&(t[`resource_${n}_total_size`]=e[n].total_size),void 0!==e[n].transfer_size&&(t[`resource_${n}_transfer_size`]=e[n].transfer_size))}(a.total,o),function(e,t){let n;for(n in e)if(e.hasOwnProperty(n)){const i=e[n];for(const e in i)if(i.hasOwnProperty(e)){const o=i[e].transfer_size,r=i[e].total_size,a=i[e].count,s=i[e].total_time;if(t.recordTrace(`${n}_${e}_count`,a),t.recordTrace(`${n}_${e}_total_time`,s),void 0!==o&&void 0!==r&&r>0){const i=o/r;t.recordTrace(`${n}_${e}_transferred_size`,o),t.recordTrace(`${n}_${e}_total_size`,r),t.recordTrace(`${n}_percent_${e}_transferred`,100*i)}t.recordTrace(`${n}_last_${e}_transfer_end`,i[e].last_transfer_end)}}t.logData()}(a,Ec.createDetachedStopwatch("resources_percent_transferred",r)),Ec.addSpanAnnotation("process_nav_timing","logged_resources","1",{stopwatchName:"web_timing_logger"}),this.shouldLogJsModuleTimes()&&nm(o),Ec.addSpanAnnotation("process_nav_timing","logged_modules","1",{stopwatchName:"web_timing_logger"}),Ec.endSpan("process_nav_timing",{stopwatchName:"web_timing_logger"}),function(){const e=window.performance.timing,t={navigation_start:e.navigationStart,unload_event_start:e.unloadEventStart,unload_event_end:e.unloadEventEnd,redirect_start:e.redirectStart,redirect_end:e.redirectEnd,fetch_start:e.fetchStart,domain_lookup_start:e.domainLookupStart,domain_lookup_end:e.domainLookupEnd,connect_start:e.connectStart,secure_connect_start:e.secureConnectionStart,connect_end:e.connectEnd,request_start:e.requestStart,response_start:e.responseStart,response_end:e.responseEnd,dom_loading:e.domLoading,dom_interactive:e.domInteractive,dom_content_loaded_event_start:e.domContentLoadedEventStart,dom_content_loded_event_end:e.domContentLoadedEventEnd,dom_complete:e.domComplete,load_event_start:e.loadEventStart,load_event_end:e.loadEventEnd},n={};n.request_id=i.getRequestId(),n.referrer=document.referrer;for(const e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);p.sendXhr("/alternate_wtl_browser_performance_info",n)}(),this.get_navigation_type()===kc.NAVIGATE&&Tc(r),Ec.log_stored_results();const l=function(e,t){const n={is_dws:String(e.is_dws),source_type:String(e.source_type),is_build_time_prefetches_enabled:String(e.is_build_time_prefetches_enabled),is_css_preload_enabled:String(e.is_css_preload_enabled)};let i="";return e.subtypes.amp_tti_flow?i=e.subtypes.amp_tti_flow:t.dws_page_name?i=`dws_page_name:${t.dws_page_name}`:t.edison_page_name&&(i=`edison_page_name:${t.edison_page_name}`),""!==i&&(n.product=i),t.navigation_type&&(n.navigation_type=t.navigation_type),n}(e,o),d=s.getMetricsReporter$1().child(l),u=function(e,t){return t.navigation_type===kc.NAVIGATE||"ajax"===t.navigation_type}(0,o);return((e,t,n,i,o)=>{const r=Du.getSingleton();r.metricsReporter=e,r.shouldLogToAmp=t,r.resourceSummary=n,r.isBuildTimePrefetchesEnabled=!!i,r.skipBtpPrefetchDurationThreshold=o,r.deriveAndLogAllMetrics()})(s.getUnloadMetricsReporter().child(l),u,a,e.is_build_time_prefetches_enabled,e.skip_btp_prefetch_duration_threshold),u&&(function(e,t){e.time_to_interactive&&t.createStats({ns:$u,name:"temp/time-to-interactive"}).recordDuration(e.time_to_interactive,c.TimeUnit.MILLISECONDS)}(o,d),function(e,t){let n;for(n in e)if(e.hasOwnProperty(n)){const i=e[n];for(const e in i)if(i.hasOwnProperty(e)){const{transfer_size:o,total_size:r,count:a,total_time:s,last_transfer_end:l}=i[e];t.createStats({ns:$u,name:`temp/resources/${n}/${e}/count`}).record(a),t.createStats({ns:$u,name:`temp/resources/${n}/${e}/total-time`}).recordDuration(s,c.TimeUnit.MILLISECONDS),t.createStats({ns:$u,name:`temp/resources/${n}/${e}/last-transfer-end`}).recordDuration(l,c.TimeUnit.MILLISECONDS),void 0!==o&&void 0!==r&&r>0&&(t.createStats({ns:$u,name:`temp/resources/${n}/${e}/transferred-size`}).record(o),t.createStats({ns:$u,name:`temp/resources/${n}/${e}/total-size`}).record(r))}}}(a,d),function(e){const[t=null]=performance.getEntriesByType("navigation");t&&([["temp/browser-perf/navigation/unload-event-start",t.unloadEventStart],["temp/browser-perf/navigation/unload-event-end",t.unloadEventEnd],["temp/browser-perf/navigation/dom-interactive",t.domInteractive],["temp/browser-perf/navigation/dom-content-loaded-event-start",t.domContentLoadedEventStart],["temp/browser-perf/navigation/dom-content-loaded-event-end",t.domContentLoadedEventEnd],["temp/browser-perf/navigation/dom-complete",t.domComplete],["temp/browser-perf/navigation/load-event-start",t.loadEventStart],["temp/browser-perf/navigation/load-event-end",t.loadEventEnd],["temp/browser-perf/navigation/redirect-count",t.redirectCount],["temp/browser-perf/navigation/worker-start",t.workerStart],["temp/browser-perf/navigation/redirect-start",t.redirectStart],["temp/browser-perf/navigation/redirect-end",t.redirectEnd],["temp/browser-perf/navigation/fetch-start",t.fetchStart],["temp/browser-perf/navigation/domain-lookup-start",t.domainLookupStart],["temp/browser-perf/navigation/domain-lookup-end",t.domainLookupEnd],["temp/browser-perf/navigation/connect-start",t.connectStart],["temp/browser-perf/navigation/connect-end",t.connectEnd],["temp/browser-perf/navigation/secure-connect-start",t.secureConnectionStart],["temp/browser-perf/navigation/request-start",t.requestStart],["temp/browser-perf/navigation/response-start",t.responseStart],["temp/browser-perf/navigation/response-end",t.responseEnd],["temp/browser-perf/navigation/transfer-size",t.transferSize]].forEach((([t,n])=>{"number"==typeof n&&e.createStats({ns:$u,name:t}).recordDuration(n,c.TimeUnit.MILLISECONDS)})),[["temp/browser-perf/navigation/encoded-body-size",t.encodedBodySize],["temp/browser-perf/navigation/decoded-body-size",t.decodedBodySize]].forEach((([t,n])=>{"number"==typeof n&&e.createStats({ns:$u,name:t}).record(n)})))}(d)),e.have_logged_web_timing=!0,this.log(e,o),r}log(e,t){super.log(e,t)}}class Ku{constructor(e,t,n=!1){this.timerState=Bu.RUNNING,this.loggedEvents=0,this.context=e,this.timingStopwatch=t,this.id=Vu++,this.strictAssert=n}getContextName(){return this.context.context_name}applicationStart(){this.logEvent(Oc.APPLICATION_START)}fetchedDataRequiredForTTI(){this.logEvent(Oc.FETCHED_DATA_FOR_TTI)}startTime(){return this.context.start_time}timeSinceStart(e){return(e||Ic.getNow())-this.context.start_time}timeToInteractive(){return this.context.time_to_interactive}reportTTIAfterPaint(){const e=new Ac((()=>{this.reportTTI()}));return window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e.exec()}))})),e}setExtraColumns(e){this.context.extra_columns=e}excludeFromTTI(e){""!==this.context.tti_exclusion_flow&&(this.context.tti_exclusion_flow=this.context.tti_exclusion_flow+","),this.context.tti_exclusion_flow=this.context.tti_exclusion_flow+e}logEvent(e,t){this.logEventInternal(e,!0,t)}logSilentEvent(e,t){this.logEventInternal(e,!1,t)}logEventInternal(e,t,n){this.loggedEvents|=e.flag,e.ordered&&this.validateEventOrder(e);const i=this.timeSinceStart(n);this.timingStopwatch.recordTrace(e.name,i),window.performance.mark&&window.performance.mark(e.name),t&&e.triggersLogging&&this.logIfReady(e)}validateEventOrder(e){let t=0;for(const n of ju){if(n.includes(e))break;for(const e of n)t|=e.flag}const n=t&this.loggedEvents;if(n>0){const t=Oc.allEvents.filter((e=>(e.flag&n)>0)).map((e=>e.name));this.reportSwMisuse(`Received ${e.name} after [${t.join(",")}]`)}}logIfReady(e){if(this.logger.shouldLog(this.context)){this.addEventBasedTiming();const t=this.logger.logTiming(this.context,e);!function(e,t){if(t.annotations)for(const n in t.annotations)if(t.annotations.hasOwnProperty(n)){const i=t.annotations[n];i&&e.addAnnotation(n,String(i))}t.correlation_id&&e.addAnnotation(bc.CORRELATION_ID.id,t.correlation_id);t.request_id&&e.addAnnotation(bc.REQUEST_ID.id,t.request_id);t.url&&e.addAnnotation(bc.URL.id,t.url)}(this.timingStopwatch,t),this.timingStopwatch.logData(),this.timerState=Bu.CLOSED}}addEventBasedTiming(){const e=window.performance.timing;this.context.tti_at_dom_interactive&&(this.context.time_to_interactive=e.domInteractive,this.logSilentEvent(Oc.MARK_TIME_TO_INTERACTIVE,this.context.time_to_interactive),this.logSilentEvent(Oc.TIME_TO_INTERACTIVE,this.context.time_to_interactive))}reportSwMisuse(e){e=`WebTimer: ${e}`,this.strictAssert?f.assert(!1,e):l.reportStack(e,{severity:l.SEVERITY.NONCRITICAL,tags:["web_timing_logger"]})}}class Yu extends Ku{constructor(e){super(e,Ec.createDetachedStopwatch("maestro_tracing",{correlation_id:e.correlation_id}),!1),this.logger=new Wu}initialize(e){this.context.initialized||(this.context.initialized=!0,this.context.log_time_to_interactive=e.requireTTI,this.context.tti_flow=e.url,this.timingStopwatch.url=this.context.tti_flow)}start(){this.isUsable()&&this.timerState===Bu.NEW&&(this.context.start_time=Ic.getNow(),this.timerState=Bu.RUNNING)}restart(){this.TTICallback&&(this.TTICallback.cancel(),this.TTICallback=void 0),this.loggedEvents=0,this.context.have_logged_web_timing=!1,this.context.correlation_id=Ic.generateCorrelationId(),this.context.start_time=Ic.getNow(),this.context.end_time=void 0,this.context.time_to_interactive=null,this.timerState=Bu.RUNNING,Ec.deleteStopwatch(this.timingStopwatch),this.timingStopwatch=Ec.createDetachedStopwatch("maestro_tracing",{request_id:this.context.request_id,url:this.context.tti_flow,correlation_id:this.context.correlation_id})}abort(){this.timerState!==Bu.CLOSED&&(this.timerState=Bu.ABORTED)}markTimeToInteractive(){this.isUsable()&&(this.logEvent(Oc.MARK_TIME_TO_INTERACTIVE),Gu()?this.reportTTI():this.TTICallback=this.reportTTIAfterPaint())}reportTTI(){if(null!=this.context.time_to_interactive)return;this.context.time_to_interactive=Ic.getNow(),this.logEvent(Oc.TIME_TO_INTERACTIVE),Promise.resolve().then((function(){return cu})).then((({getGlobalTelemetrySingleton:e})=>{e().sendOnce()}));im(this.timeSinceStart(this.context.time_to_interactive),!0)}end(e){this.isUsable()&&(void 0===this.context.end_time&&(this.context.end_time=Ic.getNow()),this.context.request_id=e,this.timingStopwatch.request_id=e,this.logEvent(Oc.LOAD_END))}isUsable(){return this.timerState===Bu.NEW||this.timerState===Bu.RUNNING}}class Zu extends Ku{constructor(e){super(e,Ec.createDetachedStopwatch("maestro_tracing",{correlation_id:e.correlation_id}),!1),this.logger=new Hu}initialize(e){var t,n;if(!this.context.initialized){if(this.context.log_time_to_interactive=e.requireTTI,this.context.is_pagelet=!!e.is_pagelet,this.context.is_dws=!!e.is_dws,this.context.is_dws2=!!e.is_dws2,this.context.is_early_ensemble=!!e.is_early_ensemble,this.context.tti_at_dom_interactive=!!e.tti_at_dom_interactive,this.context.source_type=null!=e.source_type?e.source_type:"web",this.context.subtypes=null!=e.subtypes?e.subtypes:{},this.context.tti_exclusion_flow=null!=e.tti_exclusion_flow?e.tti_exclusion_flow:"",this.context.have_logged_web_timing=!1,this.context.delayed_tti_for_css=!1,this.context.initialized=!0,this.context.is_build_time_prefetches_enabled=!!e.is_build_time_prefetches_enabled,this.context.skip_btp_prefetch_duration_threshold=null!==(t=e.skip_btp_prefetch_duration_threshold)&&void 0!==t?t:0,this.context.is_css_preload_enabled=!!e.is_css_preload_enabled,e.url&&(this.context.tti_flow=e.url,this.timingStopwatch.url=e.url),this.context.subtypes.tti_flow&&(this.context.tti_flow=this.context.subtypes.tti_flow),Ec.create_stopwatch_if_not_exist("web_timing_logger"),uc((()=>{setTimeout((()=>this.end()),0)})),null===(n=window._timingData)||void 0===n?void 0:n.tti){this.context.time_to_interactive=window._timingData.tti.getTime(),this.logEvent(Oc.TIME_TO_INTERACTIVE,this.context.time_to_interactive);im(this.timeSinceStart(this.context.time_to_interactive))}xd.initializeMarker()}}start(){this.isUsable()&&this.timerState===Bu.NEW&&(this.timerState=Bu.RUNNING)}restart(){this.TTICallback&&(this.TTICallback.cancel(),this.TTICallback=void 0),this.loggedEvents=0,this.context.correlation_id=Ic.generateCorrelationId(),this.context.end_time=void 0,this.context.time_to_interactive=null,this.timerState=Bu.RUNNING,this.timingStopwatch=Ec.createDetachedStopwatch("maestro_tracing",{correlation_id:this.context.correlation_id})}abort(){this.timerState!==Bu.CLOSED&&(this.timerState=Bu.ABORTED)}markTimeToInteractive(){if(window.ensemble&&window.ensemble.waitingForCss)return this.context.delayed_tti_for_css=!0,void(window.ensemble.mark_tti_callback=()=>{this.markTimeToInteractive()});null!=this.context.time_to_interactive||this.context.tti_at_dom_interactive||(this.logEvent(Oc.MARK_TIME_TO_INTERACTIVE),Gu()?this.reportTTI():this.TTICallback=this.reportTTIAfterPaint())}reportTTI(){if(null==this.context.time_to_interactive)if(window._timingData&&null!=window._timingData.tti?this.context.time_to_interactive=window._timingData.tti.getTime():this.context.time_to_interactive=Ic.getNow(),window.ensemble&&window.ensemble.snapshotTimingProfile&&(this.context.timing_results=window.ensemble.snapshotTimingProfile()||null),i.isServedByEdisonWebServer())new Promise((function(t,n){e(["./e_edison"],t,n)})).then((function(e){return e.edison_esnext})).then((({Edison:e})=>{const t=e.getPrefetchCounts(),n={};for(const e of Object.keys(t))n[e]=t[e].toString();this.context.subtypes=Object.assign(Object.assign({},n),this.context.subtypes),this.logEvent(Oc.TIME_TO_INTERACTIVE,this.context.time_to_interactive);im(this.timeSinceStart(this.context.time_to_interactive))}));else{this.logEvent(Oc.TIME_TO_INTERACTIVE,this.context.time_to_interactive);im(this.timeSinceStart(this.context.time_to_interactive))}}end(e){this.isUsable()&&void 0===this.context.end_time&&(this.context.end_time=Ic.getNow(),this.logEvent(Oc.LOAD_END),this.context.tti_at_dom_interactive&&im())}waitForTTI(e){return new Promise(((t,n)=>{var i;if(window.ensemble){if(window.ensemble.ttiMarked)return void t()}else if(null!=this.context.time_to_interactive)return void t();let o;const r=e=>{window.removeEventListener("TTI",r),clearTimeout(o),t()};window.addEventListener("TTI",r);const a=null!==(i=null==e?void 0:e.timeoutMS)&&void 0!==i?i:1e4;o=setTimeout(r,a)}))}isUsable(){return this.timerState===Bu.NEW||this.timerState===Bu.RUNNING}}const Ju={};let Xu;function Qu(e,t){const n={};for(const e of Uu){const i=t[e];i&&(n[e]=String(i))}const i=e;for(const e of zu){const t=i[e];t&&(n[e]=String(t))}return{correlation_id:e.correlation_id,request_id:t.request_id,annotations:n}}function em(e){return e?function(e){const t=e;return Ju[t]||(Ju[t]=new Yu(Ic.newContext(!0,e))),Ju[t]}(e):(Xu||tm(),Xu)}function tm(){Xu=new Zu(Ic.newContext(!1,"default_timer"))}function nm(e){const t=function(){const e=[];for(const t in window.requireContexts){const n=window.requireContexts[t].module_callback_times;for(const t in n)if(n.hasOwnProperty(t)){const i=n[t];if(null!=i.loadTime){const t={load_time:i.loadTime,callback_duration:i.callbackDuration,callback_time:i.callbackTime,name:i.name,url:i.url,parent:i.parent};e.push(t)}}}return e}(),n=[];for(const e of t){const t=e.url;if(void 0===t&&e.name&&-1===e.name.indexOf("!")){l.reportStack(`Module ${e.name} with invalid map object fetched by requirejs`,{severity:l.SEVERITY.NONCRITICAL,tags:["log_js_module_timing"]});continue}let i=[];if(t&&(i=window.performance.getEntriesByName(t,"resource")),0!==i.length)e.start_time=i[0].startTime+i[0].duration;else{if(!("callback_duration"in e))continue;e.start_time=0}n.push(e)}e.js_module_times=JSON.stringify(n)}function im(e,t=!1){if(window.ensemble&&window.ensemble.markTTI)window.ensemble.markTTI();else if(!t){const e=new CustomEvent("TTI",{bubbles:!0,cancelable:!0});window.dispatchEvent(e)}const n=new CustomEvent("time_to_interactive",{detail:{value:e,isAjax:t},bubbles:!0,cancelable:!0});window.dispatchEvent(n)}tm();class om extends i.Message{constructor(e){super(),this.shouldInitializeUxAnalytics=!1,this.jsonData="",i.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new om).fromBinary(e,t)}static fromJson(e,t){return(new om).fromJson(e,t)}static fromJsonString(e,t){return(new om).fromJsonString(e,t)}static equals(e,t){return i.proto3.util.equals(om,e,t)}}om.runtime=i.proto3,om.typeName="edison.prefetch.UxAnalyticsData",om.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"should_initialize_ux_analytics",kind:"scalar",T:8},{no:2,name:"json_data",kind:"scalar",T:9}]));const rm=1e4;function am(t){return i.__awaiter(this,void 0,void 0,(function*(){const{shouldInitializeUxAnalytics:n,jsonData:o}=yield function(){return i.__awaiter(this,void 0,void 0,(function*(){const e=yield _.Edison.fetch("ux_analytics.UxAnalyticsEdisonServicer","UxAnalyticsFetch");return i.unmarshalProto(e,om)}))}(),r=void 0!==t?t:rm;var a;yield Promise.race([em().waitForTTI(a),sm(r)]);const s=new Promise((function(t,n){e(["./c_pap-client_analytics_client"],t,n)}));if(n){const t=JSON.parse(o),{initialize_module:n}=yield new Promise((function(t,n){e(["./c_uxa_pagelet"],t,n)}));n({UXAConfigs:t}),(yield s).updateConfigs({requestId:t.requestId})}else(yield s).updateConfigs({requestId:void 0})}))}function sm(e){return i.__awaiter(this,void 0,void 0,(function*(){return new Promise((t=>{setTimeout(t,e)}))}))}const cm=new class{constructor(){this.hasLoggerBeenInitialized=!1,this.initializeLogging=e=>{var t;!this.hasLoggerBeenInitialized&&window.performance&&void 0!==(null===(t=window.performance)||void 0===t?void 0:t.getEntriesByType)&&(this.hasLoggerBeenInitialized=!0,this.logNavigationTiming(e),this.logResourceTimingSummary(e))},this.logNavigationTiming=e=>{const t=window.performance.getEntriesByType("navigation")[0];t&&gl.track("performance_metrics/navigation_timing",{detail:Object.assign(Object.assign({},e()),{unloadEventStart:t.unloadEventStart,unloadEventEnd:t.unloadEventEnd,redirectStart:t.redirectStart,redirectEnd:t.redirectEnd,redirectCount:t.redirectCount,workerStart:t.workerStart,fetchStart:t.fetchStart,domainLookupStart:t.domainLookupStart,domainLookupEnd:t.domainLookupEnd,connectStart:t.connectStart,connectEnd:t.connectEnd,secureConnectionStart:t.secureConnectionStart,requestStart:t.requestStart,responseStart:t.responseStart,responseEnd:t.responseEnd,domInteractive:t.domInteractive,domContentLoadedEventStart:t.domContentLoadedEventStart,domContentLoadedEventEnd:t.domContentLoadedEventEnd,domComplete:t.domComplete,loadEventStart:t.loadEventStart,loadEventEnd:t.loadEventEnd,decodedBodySize:t.decodedBodySize,encodedBodySize:t.encodedBodySize,transferSize:t.transferSize})})},this.logResourceTimingSummary=e=>i.__awaiter(this,void 0,void 0,(function*(){yield"complete"===document.readyState?Promise.resolve():new Promise((e=>{window.addEventListener("load",(()=>{e()}),{once:!0,passive:!0})}));const t=window.performance.getEntriesByType("resource"),n=Cc(t);gl.track("performance_metrics/resource_timing",{detail:Object.assign(Object.assign({},e()),{resourceSummary:n})})}))}},lm=e=>({onSuccess:t=>{t.duration<0||hl("performance_metrics/ttvc",{start:t.start,duration:t.duration,detail:Object.assign(Object.assign({},e()),{navigationType:"script"===t.detail.navigationType?"ajax":t.detail.navigationType,lastVisibleChange:Pu(t),didNetworkTimeOut:t.detail.didNetworkTimeOut.toString()})})},onCancellation:t=>{hl("performance_metrics/ttvc/cancelled",{start:t.start,duration:t.end-t.start,detail:Object.assign(Object.assign({},e()),{cancellationReason:t.cancellationReason,navigationType:"script"===t.navigationType?"ajax":t.navigationType})})}});const dm=new class{constructor(){this.hasWebVitalsLoggerBeenInitialized=!1,this.initializeLogging=e=>{this.hasWebVitalsLoggerBeenInitialized||(this.hasWebVitalsLoggerBeenInitialized=!0,this.logTTFB(e),this.logFCP(e),this.logLCP(e),this.logCLS(e),this.logINP(e))},this.logTTFB=e=>{Sd((t=>{hl("performance_metrics/ttfb",{duration:t.value,detail:Object.assign(Object.assign({},e()),_l(t))})}))},this.logFCP=e=>{Kl((t=>{hl("performance_metrics/fcp",{duration:t.value,detail:Object.assign(Object.assign({},e()),_l(t))})}))},this.logLCP=e=>{bd((t=>{hl("performance_metrics/lcp",{duration:t.value,detail:Object.assign(Object.assign({},e()),_l(t))})}))},this.logCLS=e=>{Hl((t=>{hl("performance_metrics/cls",{duration:t.value,detail:Object.assign(Object.assign({},e()),_l(t))})}))},this.logINP=e=>{hd((t=>{hl("performance_metrics/inp",{duration:t.value,detail:Object.assign(Object.assign({},e()),_l(t))})}))}}};class um{constructor(e=(()=>{})){this._mapper=e}static getInstance(){return um._instance||(um._instance=new um),um._instance}static reset(){um._instance=new um}setMapper(e){this._mapper=e}resolve(){let e="";try{e=this._mapper(window.location)}catch(e){}return e||""}}um._instance=null;const mm=um.getInstance();const pm=()=>{const e=(t=i.getAtlasservlet(),n=i.getPageName(),()=>({atlasservlet:t,pageName:n,product:mm.resolve()}));var t,n;(e=>{Td();const t=lm(e);f.onTTVC(t.onSuccess,t.onCancellation)})(e),xd.initializeMarker(),dm.initializeLogging(e),cm.initializeLogging(e)},fm=()=>{const e=i.getPageName(),t=_.Edison.getIsBuildTimePrefetchesEnabled(),n=_.Edison.getSkipBuildTimePrefetchDurationThreshold(),o=_.Edison.getIsCSSPreloadEnabled();!function(e={}){em().initialize({requireTTI:!!e.log_time_to_interactive,is_pagelet:e.is_pagelet,is_dws:e.is_dws,is_dws2:e.is_dws2,is_early_ensemble:e.is_early_ensemble,tti_at_dom_interactive:e.tti_at_dom_interactive,source_type:e.source_type,subtypes:e.subtypes,tti_exclusion_flow:e.tti_exclusion_flow,url:e.url,is_build_time_prefetches_enabled:e.is_build_time_prefetches_enabled,skip_btp_prefetch_duration_threshold:e.skip_btp_prefetch_duration_threshold,is_css_preload_enabled:e.is_css_preload_enabled})}({is_dws:!1,is_dws2:!0,is_early_ensemble:!1,is_pagelet:!0,log_time_to_interactive:!0,source_type:c.is_mobile_or_tablet()?"mobile":"web",is_build_time_prefetches_enabled:t,skip_btp_prefetch_duration_threshold:n,is_css_preload_enabled:o,subtypes:{tti_flow:e}}),pm()};t.RootComponent=({encodedProto:e})=>{const t=i.unmarshalProto(e,F);return t.consentIframeOrigin=`https://${t.consentIframeOrigin}`,Qs()&&Xs()?t.dnsState=S.CROSS_ORIGIN_ENROLLED:Xs()&&(t.dnsState=S.ENROLLED_VIA_COOKIES),function(e=!0,t){n.useMemo((()=>{e&&am(t)}),[])}(),N.default.useMemo((()=>{fm()}),[]),N.default.createElement(dc,Object.assign({},t))},t.SilentBackgroundBeaconRequest=Qd,t.SilentBackgroundRequest=Xd,t.UUID=fl,t.getActiveUserId=Y}));
//# sourceMappingURL=e_privacy_consent_static_ccpa_iframe.js-vflDOojsR.map
