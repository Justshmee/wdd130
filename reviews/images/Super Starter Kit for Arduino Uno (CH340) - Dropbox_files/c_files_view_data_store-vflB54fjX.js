define(["require","exports","./e_core_exception","./e_folder_viewer_src_main","react","./c_init_data_runtime","./c_react_query_helpers_helpers","./c_api_v2_client_base","./c_core_uri","./c_apex-metrics_src_types","./c_src_sink_index","./c_browse_models","./c_core_i18n","./c_flux_store_listener","./c_csrf","./c_lodash-es_lodash"],(function(e,t,s,n,i,a,r,o,_,c,l,d,E,u,T,S){"use strict";function p(e){return e&&e.__esModule?e:{default:e}}var O=p(i);function g(){return new Promise((function(t,s){e(["./c_ui_file_modal_controller"],t,s)}))}function f(){return new Promise((function(t,s){e(["./c_ui_file_modals"],t,s)}))}const m=n.defineMessage({id:"z7/sbf",defaultMessage:"{count, plural, one{Deleting {count} item...} other{Deleting {count} items...}}"}),h=n.defineMessage({id:"da2lvf",defaultMessage:"Delete"}),I=n.defineMessage({id:"z4npcw",defaultMessage:"{count, plural, one{Deleting {count} folder…} other{Deleting {count} folders…}}"}),A=n.defineMessage({id:"hCpZct",defaultMessage:"Delete undone."}),R=n.defineMessage({id:"KYHY0Z",defaultMessage:"Name was invalid."}),y=n.defineMessage({id:"8j6sBp",defaultMessage:"Renaming"}),L=n.defineMessage({id:"NqCfwG",defaultMessage:"Renamed 1 item."}),D=n.defineMessage({id:"U3y3i9",defaultMessage:"Creating folder..."}),b=n.defineMessage({id:"HOb8Zp",defaultMessage:'The following characters are not allowed: angle brackets \\ / : ? * " |'}),F=n.defineMessage({id:"qZTFM0",defaultMessage:"Can’t create folder."}),w=n.defineMessage({id:"VDjS9+",defaultMessage:"Create folder"}),v=n.defineMessage({id:"1zC4ih",defaultMessage:"Folder created."}),C=/\.\w+$/;function P(e){if(!e)return"";const t=e.toLowerCase().match(C);return t?t[0]:""}const N=1048576,M=30*N,U=32*N,j=40*N,k=48*N,W=100*N,B=160*N,V=200*N,x=256*N,G=288*N,H=1024*N,$=H,z={other_size_limits:{".3fr":V,".ai":x,".arw":V,".azw4":M,".binder":V,".bmp":V,".cr2":V,".cr3":V,".crw":V,".csv":j,".dcr":V,".dcs":V,".djvu":M,".dng":V,".doc":B,".docm":B,".docx":B,".dot":B,".dotx":B,".dwg":W,".eps":x,".epub":M,".erf":V,".gdoc":B,".gif":V,".glsides":G,".gsheet":j,".heic":W,".jpeg":V,".jpg":V,".kdc":V,".key":H,".kth":H,".mef":V,".mobi":M,".mos":V,".mrw":V,".nef":V,".nrw":V,".numbers":H,".odg":B,".odp":B,".ods":j,".odt":B,".orf":V,".otf":U,".pages":H,".paper":V,".papert":V,".pdf":524288e3,".pef":V,".png":V,".ppm":V,".pps":G,".ppsm":G,".ppsx":G,".ppt":G,".pptm":G,".pptx":G,".ps":x,".psd":H,".r3d":V,".raf":V,".rtf":B,".rw2":V,".rwl":V,".sketch":H,".sr2":V,".svg":k,".svgz":k,".tif":V,".tiff":V,".ttf":U,".vtt":W,".webp":V,".wpd":B,".x3f":V,".xd":H},archive_size_limit:536870912,text_size_limit:8388608,linkfile_size_limit:10485760,excel_size_limit:j,annotations:!1,enable_fullscreen:!1,file_flipping:!1,keyboard_shortcuts:!0,preview_content_only:!1,show_cloud_doc_preview:!0,show_titlebar:!0,titlebar_logo_config:{show_logo:!1,base_url:""},mobile_web:!1,transparent_background:!1,preview_types:{[n.PreviewType.SsrDoc]:{scaleToFit:"width_and_height"}},initial_video_bandwidth:null,replay_allow_ga_access:"OFF",replay_previews_permanent_entrypoint:"OFF",previews_exp_video_buffer_more_before_play:!1,previews_exp_enable_mux_data:!1,previews_exp_audio_trimming_str:"OFF",pdf_editing_unfurl_actions:"OFF",previews_exp_visual_refresh:"OFF",idx_ai_control_center:!1,send_and_track_previews_exp:"OFF",google_editor_deprecation_date:"OFF",previews_exp_logged_out_audio_video_editing:"OFF",previews_exp_slow_connection_banner_str:"OFF",can_access_docsend_hub:!1,can_try_docsend_hub:!1,docsend_hub_trial_implicit:"OFF",sharing_receiver_quick_react:"OFF",send_and_track_file_name_targeting:"OFF",google_editor_disabled_by_deprecation_date:!1,file_viewer_translation_variant:"OFF",pass_transmitter_token_prefetch:!1,vish_oob_download_prompt_variant:"OFF",previews_exp_img_size_optimization_variant:"OFF",previews_pass_facepile_prefetch:!1,previews_exp_remove_skeleton:"OFF",vish_copy_link_file_preview:"OFF",previews_image_enhancements_upscale:"OFF",previews_image_enhancements_color_correct:"OFF",previews_image_enhancements_auto_straighten:"OFF",previews_image_enhancements_filter:"OFF",intelligence_april_2024_holdout_control:"OFF",previews_exp_prefetch_full_img:!1,previews_exp_ungate_image_edit:"OFF",previews_exp_ungate_pdf_edit:"OFF",previews_video_enhancements:"OFF",previews_video_enhancements_upscale:"OFF",previews_video_enhancements_speech:"OFF",previews_mobile_web_redesign:"OFF",acq_vish_voyager_susi_variant:"OFF",previews_link_warning_modal:"OFF",videojs_preload:!0,file_viewer_remove_selection_clear:"OFF",comments_2024_open_sidebar_if_unread:"OFF",comments_2024_q2_revamp:"OFF"},q={download_button:void 0,enable_print:!1,enable_view_on_dropbox_button:!1,canEdit:!1};const Y=[n.PreviewType.CloudDoc,n.PreviewType.Image,n.PreviewType.SsrDoc,n.PreviewType.Video,n.PreviewType.Audio,n.PreviewType.Archive,n.PreviewType.Excel,n.PreviewType.HTML,n.PreviewType.RawHTML,n.PreviewType.Linkfile];var K,Q;t.FVErrorCode=void 0,(K=t.FVErrorCode||(t.FVErrorCode={})).PreviewsDataApiFailure="previews_data_api_failure",K.MalformedPreviewsDataApiResponse="malformed_previews_data_api_response",K.RivieraDataFetchFailure="riviera_data_fetch_failure",K.MalformedRivieraData="malformed_riviera_data",K.FileTooLarge="file_too_large",K.UnsupportedPreviewType="unsupported_preview_type",K.NoExtension="no_extension",K.PasswordProtected="password_protected",K.FileEncrypted="file_encrypted",K.FileUploading="file_uploading",K.Unknown="unknown",K.FileSwitched="file_switched",K.InvalidFileInfo="invalid_file_info",K.InvalidLoggingOrder="invalid_logging_order",K.InvalidLoggingSession="invalid_logging_session",K.UserOffline="user_offline",K.MissingContentMetadata="missing_content_metadata",K.NestedFiletypeNotSupported="nested_file_type_not_supported",K.PasswordProtectedArchivesNotSupported="password_protected_archives_not_supported",K.FileNotProvided="file_not_provided",t.ErrorLifecycle=void 0,(Q=t.ErrorLifecycle||(t.ErrorLifecycle={})).Support="support",Q.Download="download",Q.Render="render",Q.Unknown="unkown";class X extends Error{constructor(e,t,s){super(s),Object.setPrototypeOf(this,X.prototype),this.type=e,this.lifecycle=t}}const Z=n.PHOTO_EXTS.concat([".xd"]),J=n.PDF_EXTS.concat(n.DOCUMENT_EXTS,n.PRESENTATION_EXTS,n.WORDPROC_EXTS,n.EPUB_EXTS),ee=new Set(n.LOGGING_ALLOWED_EXTS);const te=O.default.createContext(null);te.displayName="FileViewerContext";const se=te.Provider;var ne;t.RivieraStatus=void 0,(ne=t.RivieraStatus||(t.RivieraStatus={}))[ne.Unknown=0]="Unknown",ne[ne.OK=1]="OK",ne[ne.ConversionFailure=2]="ConversionFailure",ne[ne.TemporaryFailure=3]="TemporaryFailure",ne[ne.InternalFailure=4]="InternalFailure",ne[ne.UnsupportedFormat=5]="UnsupportedFormat",ne[ne.Timeout=6]="Timeout",ne[ne.TooBig=7]="TooBig",ne[ne.InvalidMetadata=8]="InvalidMetadata",ne[ne.SourceCorrupt=9]="SourceCorrupt",ne[ne.TimeBudgetExceeded=10]="TimeBudgetExceeded",ne[ne.NotFound=11]="NotFound",ne[ne.PasswordProtected=12]="PasswordProtected",ne[ne.InvalidRequest=13]="InvalidRequest",ne[ne.VirusDetected=14]="VirusDetected",ne[ne.BlockMissing=15]="BlockMissing",ne[ne.FeatureDisabled=16]="FeatureDisabled",ne[ne.PlatformFailure=17]="PlatformFailure",ne[ne.ContentFlagged=18]="ContentFlagged",ne[ne.NoContent=19]="NoContent";class ie extends Error{constructor(e,s=t.RivieraStatus.Unknown){super(e),this.statusCode=s}}function ae(e,t){return e===t}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae,s=null,n=null;return function(){return function(e,t,s){if(null===t||null===s||t.length!==s.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],s[i]))return!1;return!0}(t,s,arguments)||(n=e.apply(null,arguments)),s=arguments,n}}var oe=function(e){for(var t=arguments.length,s=Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=0,r=n.pop(),o=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var s=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+s+"]")}return t}(n),_=e.apply(void 0,[function(){return a++,r.apply(null,arguments)}].concat(s)),c=re((function(){for(var e=[],t=o.length,s=0;s<t;s++)e.push(o[s].apply(null,arguments));return _.apply(null,e)}));return c.resultFunc=r,c.recomputations=function(){return a},c.resetRecomputations=function(){return a=0},c}}(re);const _e={simpleFilter:(e,t)=>t.filter((t=>_e.test(e,t))),test:(e,t)=>null!==_e.match(e,t),match(e,t,s){s=s||{};let n=0;const i=[],a=t.length;let r=0,o=0;const _=s.pre||"",c=s.post||"",l=s.caseSensitive&&t||t.toLowerCase();e=s.caseSensitive&&e||e.toLowerCase();let d=0;const E=[];let u=0,T=0;for(;d<a;){let s=t[d];l[d]===e[n]?(s=_+s+c,T?T+=1:(u=d,T=1),n+=1,o+=1+o):(o=0,T&&(E.push([u,T]),T=0)),r+=o,i[i.length]=s,d++}if(T&&E.push([u,T]),n===e.length)return{highlighted:E,rendered:i.join(""),score:r}},filter:(e,t,s)=>t.reduce(((t,n,i)=>_e._reduce(e,s,t,n,i)),[]).sort(_e._sort),_reduce(e,t,s,n,i){const a=t.extract(n),r=_e.match(e,a,t);return null!=r&&s.push({string:r.rendered,score:r.score,index:i,original:n}),s},_sort(e,t){const s=t.score-e.score;return s||e.index-t.index}};class ce{constructor(e){this.category="web-user-action",this.session_id=null,this.user_id=null,this.team_id=null,this.on_maestro=!0,this.extra={},this.ua_browser_name=null,this.ua_browser_version=null,this.ua_dist_name=null,this.ua_dist_version=null,this.ua_os_name=null,this.ua_os_version=null,this.authed_user_ids=null,this.identity_gid=null,this.anon_ip=null,this.active_user_id=null,this.team_type=null,this.locale_browser_header=null,this.locale_user_selected=null,this.referrer=null,this.user_agent=null,this.country=null,e.hasOwnProperty("event_name")&&void 0!==e.event_name&&(this.event_name=e.event_name),e.hasOwnProperty("session_id")&&void 0!==e.session_id&&(this.session_id=e.session_id),e.hasOwnProperty("source")&&void 0!==e.source&&(this.source=e.source),e.hasOwnProperty("user_id")&&void 0!==e.user_id&&(this.user_id=e.user_id),e.hasOwnProperty("team_id")&&void 0!==e.team_id&&(this.team_id=e.team_id),e.hasOwnProperty("on_maestro")&&void 0!==e.on_maestro&&(this.on_maestro=e.on_maestro),e.hasOwnProperty("extra")&&void 0!==e.extra&&(this.extra=e.extra),e.hasOwnProperty("ua_browser_name")&&void 0!==e.ua_browser_name&&(this.ua_browser_name=e.ua_browser_name),e.hasOwnProperty("ua_browser_version")&&void 0!==e.ua_browser_version&&(this.ua_browser_version=e.ua_browser_version),e.hasOwnProperty("ua_dist_name")&&void 0!==e.ua_dist_name&&(this.ua_dist_name=e.ua_dist_name),e.hasOwnProperty("ua_dist_version")&&void 0!==e.ua_dist_version&&(this.ua_dist_version=e.ua_dist_version),e.hasOwnProperty("ua_os_name")&&void 0!==e.ua_os_name&&(this.ua_os_name=e.ua_os_name),e.hasOwnProperty("ua_os_version")&&void 0!==e.ua_os_version&&(this.ua_os_version=e.ua_os_version),e.hasOwnProperty("authed_user_ids")&&void 0!==e.authed_user_ids&&(this.authed_user_ids=e.authed_user_ids),e.hasOwnProperty("identity_gid")&&void 0!==e.identity_gid&&(this.identity_gid=e.identity_gid),e.hasOwnProperty("timestamp")&&void 0!==e.timestamp&&(this.timestamp=e.timestamp),e.hasOwnProperty("anon_ip")&&void 0!==e.anon_ip&&(this.anon_ip=e.anon_ip),e.hasOwnProperty("active_user_id")&&void 0!==e.active_user_id&&(this.active_user_id=e.active_user_id),e.hasOwnProperty("team_type")&&void 0!==e.team_type&&(this.team_type=e.team_type),e.hasOwnProperty("locale_browser_header")&&void 0!==e.locale_browser_header&&(this.locale_browser_header=e.locale_browser_header),e.hasOwnProperty("locale_user_selected")&&void 0!==e.locale_user_selected&&(this.locale_user_selected=e.locale_user_selected),e.hasOwnProperty("referrer")&&void 0!==e.referrer&&(this.referrer=e.referrer),e.hasOwnProperty("user_agent")&&void 0!==e.user_agent&&(this.user_agent=e.user_agent),e.hasOwnProperty("country")&&void 0!==e.country&&(this.country=e.country),e.hasOwnProperty("view_type")&&void 0!==e.view_type&&(this.view_type=e.view_type),e.hasOwnProperty("file_nsid")&&void 0!==e.file_nsid&&(this.file_nsid=e.file_nsid),e.hasOwnProperty("file_sjid")&&void 0!==e.file_sjid&&(this.file_sjid=e.file_sjid),e.hasOwnProperty("file_id")&&void 0!==e.file_id&&(this.file_id=e.file_id),e.hasOwnProperty("file_name")&&void 0!==e.file_name&&(this.file_name=e.file_name),e.hasOwnProperty("file_path")&&void 0!==e.file_path&&(this.file_path=e.file_path),e.hasOwnProperty("file_size")&&void 0!==e.file_size&&(this.file_size=e.file_size),e.hasOwnProperty("file_extension")&&void 0!==e.file_extension&&(this.file_extension=e.file_extension),e.hasOwnProperty("request_id")&&void 0!==e.request_id&&(this.request_id=e.request_id),e.hasOwnProperty("upload_id")&&void 0!==e.upload_id&&(this.upload_id=e.upload_id),e.hasOwnProperty("all_fsw_ids")&&void 0!==e.all_fsw_ids&&(this.all_fsw_ids=e.all_fsw_ids),e.hasOwnProperty("filtered_fsw_ids")&&void 0!==e.filtered_fsw_ids&&(this.filtered_fsw_ids=e.filtered_fsw_ids),e.hasOwnProperty("browser_width")&&void 0!==e.browser_width&&(this.browser_width=e.browser_width),e.hasOwnProperty("browser_height")&&void 0!==e.browser_height&&(this.browser_height=e.browser_height),e.hasOwnProperty("device_width")&&void 0!==e.device_width&&(this.device_width=e.device_width),e.hasOwnProperty("device_height")&&void 0!==e.device_height&&(this.device_height=e.device_height),e.hasOwnProperty("action_source")&&void 0!==e.action_source&&(this.action_source=e.action_source),Object.seal(this)}}const le=new class{constructor(e){this.registerRowInjector=e=>{this.rowInjectors.push(e)},this.log=e=>{let t={};this.rowInjectors.forEach((e=>{const s=e();t=Object.assign(Object.assign(Object.assign({},t),s),{extra:Object.assign(Object.assign({},t.extra),s.extra)})})),this.hiveLogger.log(new ce(Object.assign(Object.assign(Object.assign({},t),e),{extra:Object.assign(Object.assign({},t.extra),e.extra)})))},this.hiveLogger=e||new n.HiveLogger,this.rowInjectors=[]}};function de(e){return!!e&&!!e.fq_path}var Ee,ue,Te,Se,pe,Oe,ge,fe,me,he,Ie,Ae,Re;function ye(e){le.log(e)}!function(e){e.MAESTRO_RIGHT_SIDEBAR="MAESTRO_RIGHT_SIDEBAR",e.MAESTRO_PHOTOS_RIGHT_SIDEBAR="MAESTRO_PHOTOS_RIGHT_SIDEBAR",e.LEGACY_HEADER_ACTIONS="LEGACY_HEADER_ACTIONS",e.DRAG="DRAG",e.GLOBAL_CREATE="GLOBAL_CREATE",e.ACTION_BAR_UPLOAD_BUTTON="ACTION_BAR_UPLOAD_BUTTON"}(Ee||(Ee={})),le.registerRowInjector((()=>({browser_width:window.innerWidth,browser_height:window.innerHeight,device_width:window.screen&&window.screen.width,device_height:window.screen&&window.screen.height}))),t.LoggingEntryPoint=void 0,(ue=t.LoggingEntryPoint||(t.LoggingEntryPoint={})).EMPTY_STATE_EXPERIMENT="empty_state_experiment",ue.SEARCH_EMPTY_STATE="search_empty_state",ue.SEARCH_RESULTS_PAGE="search_results_page",ue.SERP_MORE_FILTERS_MODAL="search_results_page_more_filters_modal",ue.SERP_TOP_RIGHT_SORT="search_results_page_top_right_sort",function(e){e.EMPTY_STATE_SERP="empty_state_serp",e.SUGGESTIONS_DROPDOWN="suggestions_dropdown"}(Te||(Te={})),function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.DISMISSED="DISMISSED",e.FAILED="FAILED"}(Se||(Se={})),function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.DISMISSED="DISMISSED",e.FAILED="FAILED"}(pe||(pe={})),function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.DISMISSED="DISMISSED",e.FAILED="FAILED"}(Oe||(Oe={})),function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.DISMISSED="DISMISSED",e.FAILED="FAILED"}(ge||(ge={})),t.RecentItemSuggestionsLoadingState=void 0,(fe=t.RecentItemSuggestionsLoadingState||(t.RecentItemSuggestionsLoadingState={})).LOADING="LOADING",fe.LOADED="LOADED",fe.DISMISSED="DISMISSED",fe.FAILED="FAILED",t.FileCategory=void 0,(me=t.FileCategory||(t.FileCategory={})).IMAGE="image",me.DOCUMENT="document",me.PDF="pdf",me.SPREADSHEET="spreadsheet",me.PRESENTATION="presentation",me.AUDIO="audio",me.VIDEO="video",me.FOLDER="folder",me.PAPER="paper",me.OTHER="other",function(e){e.SEARCH_ALL="SEARCH_ALL",e.SCOPE_CHIPS="SCOPE_CHIPS"}(he||(he={})),t.DateRange=void 0,(Ie=t.DateRange||(t.DateRange={}))[Ie.Any=0]="Any",Ie[Ie.Today=1]="Today",Ie[Ie.Last7Days=2]="Last7Days",Ie[Ie.Last30Days=3]="Last30Days",Ie[Ie.Last90Days=4]="Last90Days",Ie[Ie.LastYear=5]="LastYear",Ie[Ie.Custom=6]="Custom",t.Dimensions=void 0,(Ae=t.Dimensions||(t.Dimensions={}))[Ae.Small=0]="Small",Ae[Ae.Medium=1]="Medium",Ae[Ae.Large=2]="Large",Ae[Ae.XLarge=3]="XLarge",function(e){e.PEOPLE="people",e.QUERY="query",e.TAGS="tags",e.RESULT="result",e.RECENT="recent"}(Re||(Re={}));const Le="/search";var De,be;!function(e){e.ZERO_QUERY="ZERO_QUERY",e.LOADED="LOADED",e.LOADING_FIRST_PAGE="LOADING_FIRST_PAGE",e.LOADING_ADDITIONAL_PAGE="LOADING_ADDITIONAL_PAGE",e.LOAD_ERROR="LOAD_ERROR"}(De||(De={})),function(e){e.ASSISTANT="assistant",e.COLLAB_BROWSE="collab_browse",e.WEB="web"}(be||(be={}));const Fe={[t.FileCategory.IMAGE]:"unchecked",[t.FileCategory.DOCUMENT]:"unchecked",[t.FileCategory.PDF]:"unchecked",[t.FileCategory.SPREADSHEET]:"unchecked",[t.FileCategory.PRESENTATION]:"unchecked",[t.FileCategory.AUDIO]:"unchecked",[t.FileCategory.VIDEO]:"unchecked",[t.FileCategory.FOLDER]:"unchecked",[t.FileCategory.PAPER]:"unchecked",[t.FileCategory.OTHER]:"unchecked"};t.FileCategory.IMAGE,t.FileCategory.DOCUMENT,t.FileCategory.PDF,t.FileCategory.SPREADSHEET,t.FileCategory.PRESENTATION,t.FileCategory.AUDIO,t.FileCategory.VIDEO,t.FileCategory.FOLDER,t.FileCategory.PAPER,t.FileCategory.OTHER;n.ViewType.Grid,n.ViewType.LargeGrid,n.ViewType.List;const we=[Re.QUERY,Re.PEOPLE,Re.TAGS,Re.RESULT,Re.RECENT];var ve,Ce;Re.QUERY,Re.PEOPLE,Re.TAGS,Re.RESULT,Re.RECENT,Object.values(t.DateRange).filter((e=>"number"==typeof e)).map((e=>Number(e))),t.ActionTypes=void 0,(ve=t.ActionTypes||(t.ActionTypes={})).SET_VIEW_TYPE="FILES_VIEW/SET_VIEW_TYPE",ve.SET_VIEW_TYPES="FILES_VIEW/SET_VIEW_TYPES",ve.SET_VIEW_TYPE_SCOPE="FILES_VIEW/SET_VIEW_TYPE_SCOPE",ve.SET_FILE_RENAME="FILES_VIEW/SET_FILE_RENAME",ve.SET_GRID_VIEW_SIZE="FILES_VIEW/SET_GRID_VIEW_SIZE",ve.SET_COLUMNS_INDEX="FILES_VIEW/SET_COLUMNS_INDEX",ve.SET_SCOPED_COLUMNS_INDEX="FILES_VIEW/SET_SCOPED_COLUMNS_INDEX",ve.SET_SORT="FILES_VIEW/SET_SORT",ve.SET_SCOPED_SORTS="FILES_VIEW/SET_SCOPED_SORTS",ve.SET_SCROLL="FILES_VIEW/SET_SCROLL",ve.UPDATE_INSTANCE="FILES_VIEW/UPDATE_INSTANCE",ve.UPSERT_INSTANCE="FILES_VIEW/UPSERT_INSTANCE",ve.DELETE_INSTANCE="FILES_VIEW/DELETE_INSTANCE",ve.PREVIEW_THUMBNAILS_LOADING="FILES_VIEW/PREVIEW_THUMBNAILS_LOADING",ve.PREVIEW_THUMBNAILS_LOADED="FILES_VIEW/PREVIEW_THUMBNAILS_LOADED",ve.PREVIEW_THUMBNAILS_REMOVED="FILES_VIEW/PREVIEW_THUMBNAILS_REMOVED",ve.MARK_ACTIVE_INSTANCE="FILES_VIEW/MARK_ACTIVE_INSTANCE",ve.FILTER_OUT_COLUMNS="FILES_VIEW/FILTER_OUT_COLUMNS",ve.UPDATE_FILE_RENAME_INPUT="UPDATE_FILE_RENAME_INPUT",ve.UPDATE_NAMING_CONVENTION_APPLY_STATUS="UPDATE_NAMING_CONVENTION_APPLY_STATUS",ve.SET_OPEN_MODE="FILES_VIEW/SET_OPEN_MODE",function(e){e.FULL_SCREEN="full_screen",e.QUICK_VIEW="quick_view"}(Ce||(Ce={}));const Pe=()=>{if(n.isBackupBrowse()){const e=[...n.LIST_VIEW_COLUMNS].filter((e=>e.sortField!==n.SortField.SHARED_WITH)),t=e.findIndex((e=>e.sortField===n.SortField.SIZE)),s=e.splice(t,1)[0];return e.splice(2,0,s),e}return n.LIST_VIEW_COLUMNS},Ne={viewTypes:{[n.VIEW_TYPE_GLOBAL_SCOPE]:n.ViewType.List},scopedColumnsIndex:void 0,scopedSorts:void 0,viewTypeColumns:{[n.ViewType.List]:Pe(),[n.ViewType.CondensedList]:Pe(),[n.ViewType.Grid]:n.GRID_VIEW_COLUMNS,[n.ViewType.LargeGrid]:n.GRID_VIEW_COLUMNS},fileRename:null,instances:n.immutableExports.Map(),previewThumbnails:{},activeInstance:void 0,openMode:Ce.QUICK_VIEW};const Me={dropTargetHighlightMode:n.DropTargetHighlightMode.NONE,enableUnity:!0,loadingState:n.LoadingState.LOADING_FIRST_PAGE,fileRename:null,renderFilenameSubtitleAsLink:!0,eligibleForFirstTaskSubtitle:!1,viewTypeScope:n.VIEW_TYPE_GLOBAL_SCOPE,hideViewFileButton:!1,openMode:Ce.QUICK_VIEW};function Ue(e=Ne,s){switch(s.type){case t.ActionTypes.SET_VIEW_TYPE:return((e,{viewType:t,viewScopes:s})=>{const n=Object.assign({},e.viewTypes);for(const e of s)n[e]=t;return Object.assign(Object.assign({},e),{viewTypes:n})})(e,s.payload);case t.ActionTypes.SET_VIEW_TYPES:return((e,{viewTypes:t})=>Object.assign(Object.assign({},e),{viewTypes:Object.assign(Object.assign({},e.viewTypes),t)}))(e,s.payload);case t.ActionTypes.SET_FILE_RENAME:return function(e,t){const{file:s,renameState:n}=t.payload;return n?Object.assign(Object.assign({},e),{fileRename:{file:s,state:n}}):Object.assign(Object.assign({},e),{fileRename:null})}(e,s);case t.ActionTypes.SET_COLUMNS_INDEX:return((e,{payload:{columnsIndex:t,viewScopes:s,numVisibleColumns:n}})=>{const i=Object.assign({},e.scopedColumnsIndex),a=Object.assign({},e.scopedNumVisibleColumns);for(const e of s)i[e]=t,void 0!==n&&(a[e]=n);return Object.assign(Object.assign({},e),{scopedColumnsIndex:i,scopedNumVisibleColumns:a})})(e,s);case t.ActionTypes.SET_GRID_VIEW_SIZE:return((e,{payload:{viewScopes:t,gridSize:s}})=>{const n=Object.assign({},e.scopedGridViewSize);for(const e of t)n[e]=s;return Object.assign(Object.assign({},e),{scopedGridViewSize:n})})(e,s);case t.ActionTypes.SET_SCOPED_COLUMNS_INDEX:return((e,{payload:{scopedColumnsIndex:t,scopedNumVisibleColumns:s}})=>Object.assign(Object.assign({},e),{scopedColumnsIndex:t,scopedNumVisibleColumns:s}))(e,s);case t.ActionTypes.SET_SCOPED_SORTS:return((e,{payload:{scopedSorts:t}})=>Object.assign(Object.assign({},e),{scopedSorts:t}))(e,s);case t.ActionTypes.SET_SORT:return((e,{payload:{sort:t,viewScopes:s}})=>{const n=Object.assign({},e.scopedSorts);for(const e of s)n[e]=t;return Object.assign(Object.assign({},e),{scopedSorts:n})})(e,s);case t.ActionTypes.SET_SCROLL:return((e,t)=>Object.assign(Object.assign({},e),{currentScroll:{scrollTop:t.scrollTop}}))(e,s.payload);case t.ActionTypes.UPSERT_INSTANCE:return((e,{payload:{instance:t,id:s}})=>{const n=e.instances.get(s);return Object.assign(Object.assign({},e),{activeInstance:s,instances:e.instances.set(s,Object.assign(Object.assign({},n||Me),t))})})(e,s);case t.ActionTypes.DELETE_INSTANCE:return((e,{payload:{id:t}})=>Object.assign(Object.assign({},e),{instances:e.instances.delete(t)}))(e,s);case t.ActionTypes.PREVIEW_THUMBNAILS_LOADING:return((e,{payload:{files:t}})=>{const s=Object.assign({},e.previewThumbnails);return t.forEach((e=>{var t;e.file_id&&!(null===(t=s[e.file_id])||void 0===t?void 0:t.isLoading)&&(s[e.file_id]={isLoading:!0,file_info:e})})),Object.assign(Object.assign({},e),{previewThumbnails:s})})(e,s);case t.ActionTypes.PREVIEW_THUMBNAILS_LOADED:return((e,{payload:{preview_thumbnails:t}})=>{const s=Object.assign({},e.previewThumbnails);return t.forEach((e=>{e.file_id&&(s[e.file_id]={isLoading:!1,preview_url:e.preview_url})})),Object.assign(Object.assign({},e),{previewThumbnails:s})})(e,s);case t.ActionTypes.PREVIEW_THUMBNAILS_REMOVED:return((e,{payload:{files:t}})=>{const s=Object.assign({},e.previewThumbnails);return t.forEach((e=>{e.file_id&&delete s[e.file_id]})),Object.assign(Object.assign({},e),{previewThumbnails:s})})(e,s);case t.ActionTypes.MARK_ACTIVE_INSTANCE:return((e,{payload:{id:t}})=>e.activeInstance!==t?Object.assign(Object.assign({},e),{activeInstance:t}):e)(e,s);case t.ActionTypes.FILTER_OUT_COLUMNS:return((e,t)=>{const s=Pe().filter((e=>-1===t.payload.indexOf(e.sortField)));return Object.assign(Object.assign({},e),{viewTypeColumns:Object.assign(Object.assign({},e.viewTypeColumns),{[n.ViewType.List]:s,[n.ViewType.CondensedList]:s})})})(e,s);case t.ActionTypes.SET_OPEN_MODE:return((e,{payload:{openMode:t}})=>Object.assign(Object.assign({},e),{openMode:t}))(e,s)}return e}let je;const ke=()=>(je||(je=n.getStoreAndRegisterReducers({[n.FILES_VIEW_NAMESPACE_KEY]:Ue})),je);class We extends(n.immutableExports.Record({selected:null,anchor:null},"Selection")){}function Be(e,t){return new We({selected:e?n.immutableExports.OrderedSet(e):n.immutableExports.OrderedSet(),anchor:t||(e?e[0]:null)})}function Ve({user:e,searchPath:t,normalizedQuery:s,typeaheadSessionId:n,searchToken:i,qargs:a}){const r=Object.assign({path:t,typeahead_session_id:n,search_token:i,query:s},a);return new _.URI({path:`${Le}/${e.role}`,query:r})}function xe(){const e=n.sjclExports.codec.utf8String.toBits(T.Cookies.read("__Host-js_csrf")),t=n.sjclExports.codec.utf8String.toBits("search"),s=new n.sjclExports.misc.hmac(e);return n.sjclExports.codec.base64.fromBits(s.encrypt(t))}function Ge(e){for(;e.startsWith("#");)e=e.substr(1);return e}function He(e){return`#${Ge(e)}`}function $e(e){const t=!e.is_unmounted&&e.target_ns;return{nsId:t?e.target_ns:e.ns_id,nsPath:t?"":e.ns_path}}function ze(e){return`${e.nsId},${e.nsPath.toLowerCase()}`}function qe(e){return ze($e(e))}t.DateRange.Today,t.DateRange.Last7Days,t.DateRange.Last30Days,t.DateRange.Last90Days,t.DateRange.LastYear;const Ye=e=>({".tag":"user_generated_tag",tag_text:e}),Ke=e=>"suggested_tag"===e[".tag"],Qe=e=>"user_generated_tag"===e[".tag"];function Xe(){let e="";for(let t=0;t<32;t++){const t=Math.floor(10*Math.random());e+=String(t)}return e}t.ActionTypes$1=void 0,function(e){e.SET_FILE_TO_TAGS_MAP="TAGGING/SET_FILE_TO_TAGS_MAP",e.ADD_TAG_TO_FILE="TAGGING/ADD_TAG_TO_FILE",e.REMOVE_TAG_FROM_FILE="TAGGING/REMOVE_TAG_FROM_FILE",e.FILE_RENAME="TAGGING/FILE_RENAME",e.SET_ALL_TAGS="TAGGING/SET_ALL_TAGS"}(t.ActionTypes$1||(t.ActionTypes$1={}));const Ze={tagsByFile:{},tags:void 0},Je=(e,t)=>{const s=[...e,...t],n=new Map(s.map((e=>[e.tag_text,e])));return[...Array.from(n.values())]};function et(e=Ze,s){switch(s.type){case t.ActionTypes$1.SET_FILE_TO_TAGS_MAP:return((e,{fileToTags:t,override:s})=>{const n=Object.keys(t).reduce(((s,n)=>{const i=e.tagsByFile[n],a=t[n];return void 0===i?(s[n]=a,s):(S.isEqual(S.sortBy(i,(e=>e.tag_text)),S.sortBy(a,(e=>e.tag_text)))?s[n]=i:s[n]=a,s)}),{});let i;if(void 0!==e.tags){const t=Object.entries(n).map((([e,t])=>t)).reduce(((e,t)=>[...t,...e]),[]);i=Je(e.tags,t)}return Object.assign(Object.assign({},e),{tagsByFile:Object.assign(Object.assign({},s?{}:e.tagsByFile),n),tags:null!=i?i:e.tags})})(e,s.payload);case t.ActionTypes$1.FILE_RENAME:return((e,{file:t,newFile:s})=>{const n=qe(t),i=qe(s),a=e.tagsByFile[n];if(!a)return e;const r=e.tagsByFile;return delete r[n],r[i]=a,Object.assign(Object.assign({},e),{tagsByFile:r})})(e,s.payload);case t.ActionTypes$1.SET_ALL_TAGS:return((e,{tags:t})=>Object.assign(Object.assign({},e),{tags:t}))(e,s.payload);default:return e}}let tt;const st=()=>(tt||(tt=n.getStoreAndRegisterReducers({[n.TAGGING_NAMESPACE_KEY]:et})),tt);class nt extends a.Message{constructor(e){super(),this.variant="",this.metadata={},a.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new nt).fromBinary(e,t)}static fromJson(e,t){return(new nt).fromJson(e,t)}static fromJsonString(e,t){return(new nt).fromJsonString(e,t)}static equals(e,t){return a.proto3.util.equals(nt,e,t)}}nt.runtime=a.proto3,nt.typeName="browse_web.ExperimentData",nt.fields=a.proto3.util.newFieldList((()=>[{no:1,name:"variant",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));class it extends a.Message{constructor(e){super(),this.goldenGateRaclsEnabled=!1,this.folderHistoryRollbacks=!1,this.lifeVault=!1,this.spacesFssModalVariant="",this.browseRowPerformance=!1,this.manualTagging="",this.flowsAutomatedFolderUi=!1,this.flowsAutoTagUi=!1,this.browseContentSuggestionsVariant="",this.isTransferEnabled=!1,this.coreO21nInFolderActivationM2="",this.canUserDiscoverTeam=!1,this.teamDiscoveryTeamDbxId="",this.teamDiscoveryTeamName="",this.autoTaggingAwarenessVariant="",this.canUserInviteAfterReceivingShare=!1,this.inviteAfterReceivingShareSharingUserEmail="",this.inviteAfterReceivingShareSharingUserDisplayName="",this.inviteAfterReceivingShareSharingUserAccountPhotoUrl="",this.gddMigrationBanners=!1,this.gddMigrationGddBlocks=!1,this.gddMigrationDates="",this.fileImportsEntryPointsEmptyState="",this.browseLimitBoltScope="",this.fileImportsEntryPointsActivityMenu="",this.manualClassification="",this.flowsRemoveRightRail="",this.coreTactMultiproductOnboarding="",this.googleEditorDeprecationDates="",this.coreActStickyShare="",this.teamInvitesPaintedDoorTest="",this.b2bLeftNavTeamChecklistUserEligible="",this.globalActionBarPersonalized="",a.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new it).fromBinary(e,t)}static fromJson(e,t){return(new it).fromJson(e,t)}static fromJsonString(e,t){return(new it).fromJsonString(e,t)}static equals(e,t){return a.proto3.util.equals(it,e,t)}}it.runtime=a.proto3,it.typeName="browse_web.BrowseExperiments",it.fields=a.proto3.util.newFieldList((()=>[{no:1,name:"golden_gate_racls_enabled",kind:"scalar",T:8},{no:3,name:"folder_history_rollbacks",kind:"scalar",T:8},{no:9,name:"life_vault",kind:"scalar",T:8},{no:28,name:"spaces_fss_modal_variant",kind:"scalar",T:9},{no:36,name:"browse_row_performance",kind:"scalar",T:8},{no:41,name:"manual_tagging",kind:"scalar",T:9},{no:46,name:"flows_automated_folder_ui",kind:"scalar",T:8},{no:47,name:"flows_auto_tag_ui",kind:"scalar",T:8},{no:48,name:"browse_content_suggestions_variant",kind:"scalar",T:9},{no:52,name:"is_transfer_enabled",kind:"scalar",T:8},{no:54,name:"core_o21n_in_folder_activation_m2",kind:"scalar",T:9},{no:55,name:"can_user_discover_team",kind:"scalar",T:8},{no:56,name:"team_discovery_team_dbx_id",kind:"scalar",T:9},{no:57,name:"team_discovery_team_name",kind:"scalar",T:9},{no:58,name:"auto_tagging_awareness_variant",kind:"scalar",T:9},{no:59,name:"can_user_invite_after_receiving_share",kind:"scalar",T:8},{no:60,name:"invite_after_receiving_share_sharing_user_email",kind:"scalar",T:9},{no:61,name:"invite_after_receiving_share_sharing_user_display_name",kind:"scalar",T:9},{no:62,name:"invite_after_receiving_share_sharing_user_account_photo_url",kind:"scalar",T:9},{no:70,name:"gdd_migration_banners",kind:"scalar",T:8},{no:71,name:"gdd_migration_gdd_blocks",kind:"scalar",T:8},{no:73,name:"gdd_migration_dates",kind:"scalar",T:9},{no:74,name:"file_imports_entry_points_empty_state",kind:"scalar",T:9},{no:75,name:"browse_limit_bolt_scope",kind:"scalar",T:9},{no:76,name:"file_imports_entry_points_activity_menu",kind:"scalar",T:9},{no:78,name:"manual_classification",kind:"scalar",T:9},{no:81,name:"flows_remove_right_rail",kind:"scalar",T:9},{no:83,name:"core_tact_multiproduct_onboarding",kind:"scalar",T:9},{no:86,name:"google_editor_deprecation_dates",kind:"scalar",T:9},{no:87,name:"core_act_sticky_share",kind:"scalar",T:9},{no:88,name:"team_invites_painted_door_test",kind:"scalar",T:9},{no:89,name:"b2b_left_nav_team_checklist_user_eligible",kind:"scalar",T:9},{no:90,name:"global_action_bar_personalized",kind:"scalar",T:9}]));class at extends a.Message{constructor(e){super(),this.autoTeamGroupId="",this.emailJustVerified="",this.emailJustVerifiedAndChanged=!1,this.fromSclSyncModal=!1,this.initFqPath="",this.nsId=a.protoInt64.zero,this.nsPath="",this.openPreview=!1,this.selectFqPaths=[],this.sendVerificationEmail=!1,this.shareLink=!1,this.sharePrefillEmail="",this.shouldShowDeletedFiles=!1,this.shouldShowUnsyncNotification=!1,this.shouldOpenExtensionsEduModal="",this.shouldOpenAppRecommendationsModal=!1,this.shouldOpenUploadModal=!1,this.showShareModal=!1,this.showShareSuccessSnackbar=!1,this.userId=a.protoInt64.zero,this.userVersionHistoryLength=0,this.webTimingLoggerServerContext="",this.showPlusPlusSetupModal=!1,this.hasLinkedMobile=!1,this.fromCtl=!1,this.rootNsId=a.protoInt64.zero,this.hasLinkedDesktop=!1,this.uploadCta=!1,this.billingLink="",this.basicPlusConfirm=!1,a.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new at).fromBinary(e,t)}static fromJson(e,t){return(new at).fromJson(e,t)}static fromJsonString(e,t){return(new at).fromJsonString(e,t)}static equals(e,t){return a.proto3.util.equals(at,e,t)}}at.runtime=a.proto3,at.typeName="browse_web.BrowseWebPageProps",at.fields=a.proto3.util.newFieldList((()=>[{no:1,name:"auto_team_group_id",kind:"scalar",T:9},{no:2,name:"email_just_verified",kind:"scalar",T:9},{no:3,name:"email_just_verified_and_changed",kind:"scalar",T:8},{no:4,name:"from_scl_sync_modal",kind:"scalar",T:8},{no:5,name:"init_fq_path",kind:"scalar",T:9},{no:6,name:"ns_id",kind:"scalar",T:3},{no:7,name:"ns_path",kind:"scalar",T:9},{no:8,name:"open_preview",kind:"scalar",T:8},{no:9,name:"select_fq_paths",kind:"scalar",T:9,repeated:!0},{no:10,name:"send_verification_email",kind:"scalar",T:8},{no:11,name:"share_link",kind:"scalar",T:8},{no:12,name:"share_prefill_email",kind:"scalar",T:9},{no:13,name:"should_show_deleted_files",kind:"scalar",T:8},{no:14,name:"should_show_unsync_notification",kind:"scalar",T:8},{no:15,name:"should_open_extensions_edu_modal",kind:"scalar",T:9},{no:16,name:"should_open_app_recommendations_modal",kind:"scalar",T:8},{no:17,name:"should_open_upload_modal",kind:"scalar",T:8},{no:18,name:"show_share_modal",kind:"scalar",T:8},{no:19,name:"show_share_success_snackbar",kind:"scalar",T:8},{no:22,name:"user_id",kind:"scalar",T:3},{no:23,name:"user_version_history_length",kind:"scalar",T:5},{no:24,name:"browse_experiments",kind:"message",T:it},{no:26,name:"web_timing_logger_server_context",kind:"scalar",T:9},{no:27,name:"show_plus_plus_setup_modal",kind:"scalar",T:8},{no:29,name:"has_linked_mobile",kind:"scalar",T:8},{no:30,name:"encryption_options",kind:"message",T:n.EncryptionOptions},{no:31,name:"from_ctl",kind:"scalar",T:8},{no:32,name:"root_ns_id",kind:"scalar",T:3},{no:33,name:"has_linked_desktop",kind:"scalar",T:8},{no:34,name:"upload_cta",kind:"scalar",T:8},{no:35,name:"billing_link",kind:"scalar",T:9},{no:36,name:"basic_plus_confirm",kind:"scalar",T:8}])),t.ActionTypes$3=void 0,function(e){e.APP_INIT="BROWSE/APP_INIT",e.PUSH_BOLT_IGNORE="BROWSE/PUSH_BOLT_IGNORE",e.POP_BOLT_IGNORE="BROWSE/POP_BOLT_IGNORE",e.SELECT_FILES_BY_FQ_PATH="BROWSE/SELECT_FILES_BY_FQ_PATH",e.SHOW_TIMELINE="BROWSE/SHOW_TIMELINE",e.HIDE_TIMELINE="BROWSE/HIDE_TIMELINE",e.SET_IS_REWIND_ENABLED="BROWSE/SET_IS_REWIND_ENABLED",e.SET_BROWSE_POST_TTI_EXPERIMENTS="BROWSE/SET_BROWSE_POST_TTI_EXPERIMENTS",e.SET_BROWSE_POST_TTI_DATA="BROWSE/SET_BROWSE_POST_TTI_DATA",e.SET_CAN_DISPLAY_FOLDER_SIZES="BROWSE/SET_CAN_DISPLAY_FOLDER_SIZES",e.SET_CLIPBOARD_FILES="BROWSE/SET_CLIPBOARD_FILES",e.SET_CONTEXT="BROWSE/SET_CONTEXT",e.SET_CURRENT_FOLDER_INFO="BROWSE/SET_CURRENT_FOLDER_INFO",e.SET_FILE_HAS_AUTOMATED_RULE_MAP="BROWSE/SET_FILE_HAS_AUTOMATED_RULE_MAP",e.SET_FILE_JUMP_FILTER="BROWSE/SET_FILE_JUMP_FILTER",e.SET_FILE_PATHS_TO_SELECT_ON_NEXT_UPDATE="BROWSE/SET_FILE_PATHS_TO_SELECT_ON_NEXT_UPDATE",e.SET_FILE_RENAME="BROWSE/SET_FILE_RENAME",e.SET_FOLDER_SIZES="BROWSE/SET_FOLDER_SIZES",e.SET_LOADING_STATE="BROWSE/SET_LOADING_STATE",e.SET_MOUNT_POINTS="BROWSE/SET_MOUNT_POINTS",e.SET_NEW_FOLDER_CREATION_STATE="BROWSE/SET_NEW_FOLDER_CREATION_STATE",e.SET_PAGINATED_TOTAL_NUM_FILES="BROWSE/SET_PAGINATED_TOTAL_NUM_FILES",e.SET_PATH="BROWSE/SET_PATH",e.SET_SELECTION="BROWSE/SET_SELECTION",e.SET_SHOULD_SHOW_DELETED_FILES="BROWSE/SET_SHOULD_SHOW_DELETED_FILES",e.SET_SORT_ORDER="BROWSE/SET_SORT_ORDER",e.SET_UNSORTED_FILES="BROWSE/SET_UNSORTED_FILES",e.SET_IS_FILE_VIEWER_SHOWN="BROWSE/IS_FILE_VIEWER_SHOWN",e.SET_IS_SEARCH_MODE="BROWSE/SET_IS_SEARCH_MODE",e.REQUEST_FOLDER_SIZES="BROWSE/REQUEST_FOLDER_SIZES",e.SET_FOLDER_SIZES_PENDING="BROWSE/SET_FOLDER_SIZES_PENDING",e.COMPLETE_FOLDER_SIZES="BROWSE/COMPLETE_FOLDER_SIZES",e.SET_ARE_POST_TTI_MODULES_LOADED="BROWSE/SET_ARE_POST_TTI_MODULES_LOADED",e.SET_VIEW_SCOPE="BROWSE/SET_VIEW_SCOPE",e.SET_HIDE_FILES_AND_SIDEBAR="BROWSE/SET_HIDE_FILES_AND_SIDEBAR",e.SET_IS_CREATING_SHARED_LINK="BROWSE/SET_IS_CREATING_SHARED_LINK",e.SET_RIGHTRAIL_IS_COLLAPSED="BROWSE/SET_RIGHTRAIL_COLLAPSED",e.SET_HAS_USER_UPLOADED_FILES="BROWSE/SET_HAS_USER_UPLOADED_FILES",e.SET_OVERFLOW_MENU_OPEN_REQUEST="BROWSE/SET_OVERFLOW_MENU_OPEN_REQUEST",e.SET_INLINE_OVERFLOW_MENU_OPEN_REQUEST="BROWSE/SET_INLINE_OVERFLOW_MENU_OPEN_REQUEST",e.SET_OVERFLOW_MENU_COORDINATES="BROWSE/SET_OVERFLOW_MENU_COORDINATES",e.SET_OVERFLOW_MENU_CLOSE_REQUEST="BROWSE/SET_OVERFLOW_MENU_CLOSE_REQUEST",e.SET_FOLDER_MEMBER_COUNTS="BROWSE/SET_FOLDER_MEMBER_COUNTS",e.TOGGLE_SPACES_ENTRY_POINT="BROWSE/TOGGLE_SPACES_ENTRY_POINT",e.SET_CREATE_MENU_OPEN_REQUEST="BROWSE/SET_CREATE_MENU_OPEN_REQUEST",e.SET_BROWSE_TTS_START_TIME="BROWSE/SET_BROWSE_TTS_START_TIME",e.HANDLE_APP_CLEANUP="BROWSE/HANDLE_APP_CLEANUP",e.SET_BROWSE_USER="BROWSE/SET_BROWSE_USER",e.SET_BROWSE_VIEWER="BROWSE/SET_BROWSE_VIEWER",e.SET_CAPTURE_ACCESS="BROWSE/SET_CAPTURE_ACCESS",e.ADD_FROM_GDRIVE="BROWSE/ADD_FROM_GDRIVE",e.SET_FILTER_TYPES="BROWSE/SET_FILTER_TYPES",e.SET_RIGHT_SIDEBAR="BROWSE/SET_RIGHT_SIDEBAR",e.SET_CURRENT_FOLDER_RENAME="BROWSE/SET_CURRENT_FOLDER_RENAME",e.SET_QUICK_VIEW_FILE="BROWSE/SET_QUICK_VIEW_FILE",e.SET_UPLOAD_QUICK_VIEW_FILE_PATH="BROWSE/SET_UPLOAD_QUICK_VIEW_FILE_PATH"}(t.ActionTypes$3||(t.ActionTypes$3={}));const rt={boltIgnore:{added:new Set,moved:new Set,removed:new Set},canDisplayFolderSizes:!1,clipboard:{files:[]},context:new d.BrowseContext,isRewindButtonEnabled:!1,experiments:new it,browsePostTTIExperiments:{},fileJumpFilter:"",filePathsToSelectOnNextUpdate:n.immutableExports.Set(),folderSizes:n.immutableExports.Map(),isRewindVisible:!1,clickRewindTimestamp:void 0,loadingState:n.LoadingState.LOADING_FIRST_PAGE,mountPoints:null,newFolderCreationState:n.NewFolderCreationState.CREATE_FOLDER_INACTIVE,paginatedTotalNumFiles:0,path:"",selection:Be(),shouldShowDeletedFiles:!1,user:null,unsortedFiles:n.immutableExports.Map(),viewer:null,currentFolderSizesQuery:n.immutableExports.Set(),isQueryingFolderSizes:!1,isSearchMode:!1,hasLinkedMobile:!1,hasLinkedDesktop:!1,autoTeamGroupId:"",browsePostTTIData:{isOverFreeQuota:!1,hasExcludedNsIds:!1,uploaderPostTTIExperiments:{},preferredEditors:{},mobileWebInvites:!1,firstTaskProps:{is_eligible_team:!1,member_info:{tiered_admin:!1,users:[],evh_max_days:0,team_available_roles:[]},needs_pairing_token:!1,seen_desktop_tooltip:!1},familyMemberCount:0,isEncryptedFolderEnabled:!1},shouldHideFilesAndSidebar:!1,isCreatingSharedLinkMap:n.immutableExports.Map(),isRightRailCollapsed:!1,rightSidebar:void 0,currentFolderRenameState:null,canAccessCapture:void 0,quickViewFileId:void 0,uploadQuickViewFilePath:void 0};var ot;t.ActionTypes$4=void 0,function(e){e.UPDATE_FOLDER_DATA_CACHE="FOLDER_OVERVIEW/UPDATE_FOLDER_DATA_CACHE",e.UPDATE_FILE_ID_CACHE="FOLDER_OVERVIEW/UPDATE_FILE_ID_CACHE",e.REMOVE_LOADED_COMPONENT="FOLDER_OVERVIEW/REMOVE_LOADED_COMPONENT",e.ADD_LOADED_COMPONENT="FOLDER_OVERVIEW/ADD_LOADED_COMPONENT",e.SET_FAILED_TO_LOAD="FOLDER_OVERVIEW/SET_FAILED_TO_LOAD",e.SET_DESCRIPTION_HAS_FOCUS="FOLDER_OVERVIEW/SET_DESCRIPTION_HAS_FOCUS",e.UPDATE_ACCOUNT_CACHE="FOLDER_OVERVIEW/UPDATE_ACCOUNT_CACHE",e.SET_REQUIRED_COMPONENTS="FOLDER_OVERVIEW/SET_REQUIRED_COMPONENTS"}(t.ActionTypes$4||(t.ActionTypes$4={})),function(e){e.IDLE="IDLE",e.SAVING="SAVING",e.CONFLICT="CONFLICT",e.ERROR="ERROR"}(ot||(ot={}));const _t=e=>n.normalize(e).toLowerCase(),ct=e=>{if(!e)return"";const t=n.file_extension(e);return t?`.${t}`:""},lt={folderDataCache:{},fileIdCache:{},accountCache:{},nsIdCache:{},componentDataCache:{}},dt=(e,t)=>{const s=e.componentDataCache[t];return s||{requiredComponents:[],loadedComponents:[],hasFailedToLoad:!1,descriptionHasFocus:!1}},Et=e=>{const t={};return e.forEach((e=>{t[_t(e.fq_path)]=e.target_ns?`ns:${e.target_ns}/`:`ns:${e.ns_id}/${e.ns_path}`})),t};const ut={backups:null,isBackupSearch:!1,isInsideBackup:!1,currentBackup:null,lastBackupTimes:n.immutableExports.Map(),stormcrows:null,userSKU:null,userQuota:null};var Tt;function St(e=ut,t){switch(t.type){case Tt.SET_BACKUPS:return function(e,t){return Object.assign(Object.assign({},e),{backups:t.payload.backups})}(e,t);case Tt.SET_CURRENT_BACKUP:return function(e,t){return Object.assign(Object.assign({},e),{isInsideBackup:null!==t.payload.backup,currentBackup:t.payload.backup})}(e,t);case Tt.SET_LAST_BACKUP_TIMES:return function(e,t){return Object.assign(Object.assign({},e),{lastBackupTimes:e.lastBackupTimes.set(t.payload.fqPath,t.payload.lastBackupTime)})}(e,t);case Tt.SET_STORMCROWS:return function(e,t){return Object.assign(Object.assign({},e),{stormcrows:t.payload.stormcrows})}(e,t);case Tt.SET_USER_SKU:return function(e,t){return Object.assign(Object.assign({},e),{userSKU:t.payload.userSKU})}(e,t);case Tt.SET_USER_QUOTA:return function(e,t){return Object.assign(Object.assign({},e),{userQuota:t.payload.userQuota})}(e,t)}return e}let pt;!function(e){e.SET_BACKUPS="BACKUP/SET_BACKUPS",e.SET_CURRENT_BACKUP="BACKUPS/SET_CURRENT_BACKUP",e.SET_LAST_BACKUP_TIMES="BACKUP/UPDATE_LAST_BACKUP_TIMES",e.SET_STORMCROWS="BACKUP/SET_STORMCROWS",e.SET_USER_SKU="BACKUP/SET_USER_SKU",e.SET_USER_QUOTA="BACKUP/SET_USER_QUOTA"}(Tt||(Tt={}));const Ot=()=>(pt||(pt=n.getStoreAndRegisterReducers({[n.BACKUP_NAMESPACE_KEY]:St})),pt),gt=O.default.lazy((()=>a.__awaiter(void 0,void 0,void 0,(function*(){const{ShelfEmptySpot:t}=yield new Promise((function(t,s){e(["./c_mjs_spot_shelf-empty"],t,s)}));return{default:t}})))),ft=()=>O.default.createElement(O.default.Suspense,{fallback:null},O.default.createElement(gt,null));ft.displayName="AsyncShelfEmptySpot";const mt=O.default.lazy((()=>a.__awaiter(void 0,void 0,void 0,(function*(){const{StarStickersSpot:t}=yield new Promise((function(t,s){e(["./c_mjs_spot_star-stickers"],t,s)}));return{default:t}})))),ht=()=>O.default.createElement(O.default.Suspense,{fallback:null},O.default.createElement(mt,null));var It;ht.displayName="AsyncStarStickersSpot",t.BrowseFilterType=void 0,(It=t.BrowseFilterType||(t.BrowseFilterType={})).NONE="NONE",It.RECENTS="RECENTS",It.STARRED="STARRED",t.BrowseFilterType.RECENTS,n.ClockLine,E.intl.formatMessage({id:"U93XNk",defaultMessage:"Recents"}),t.BrowseFilterType.STARRED,u.StarLine,E.intl.formatMessage({id:"B1ftBl",defaultMessage:"Starred"}),t.BrowseFilterType.RECENTS,O.default.createElement(ft,null),E.intl.formatMessage({id:"cmn9GC",defaultMessage:"Jump back in"}),E.intl.formatMessage({id:"KOK/uX",defaultMessage:"Once you open a file, it’ll show up here for easy access."}),t.BrowseFilterType.STARRED,O.default.createElement(ht,null),E.intl.formatMessage({id:"wXfZV3",defaultMessage:"Aim for the stars"}),E.intl.formatMessage({id:"T1mDEV",defaultMessage:"Star files that matter most to you, and they’ll show up here."}),E.intl.formatMessage({id:"HxlTXi",defaultMessage:"Go to Files"});const At=e=>n.getStateAtNamespace(e,n.FILES_VIEW_NAMESPACE_KEY)||Ne,Rt=e=>At(e).previewThumbnails,yt=E.intl.formatMessage({id:"RzhnRl",defaultMessage:"Extensionless"}),Lt=E.intl.formatMessage({id:"DcKHEo",defaultMessage:"Missing dates"}),Dt=E.intl.formatMessage({id:"GYhJ5f",defaultMessage:"Deleted content isn’t sorted by last modified"}),bt={sectionLabels:[],sectionStartIndices:[]};function Ft(e,t,s,i=!1){const a=[],r=[];let o=null;if(t===n.SortField.CATEGORY)e.forEach(((e,t)=>{if(!e)return;const s=function(e){return e instanceof d.File?d.File.getCategoryDescription(e,!0):n.ExtensionCategories.DOCUMENT}(e);s!==o&&(a.push(s),r.push(t),o=s)}));else if(t===n.SortField.EXTENSION)e.forEach(((e,t)=>{if(!e)return;const s=function(e){return e instanceof d.File?e.is_dir?n.FileTypeCapitalizedCategoryTranslations.FOLDER:d.File.getExtension(e).toUpperCase():yt}(e);if(s!==o){let e=s;""===s&&(e=yt),a.push(e),r.push(t),o=s}}));else if(t===n.SortField.MODIFIED)if(s===n.SortDirection.DESCENDING){const t=n.getTimeBands(Date.now());e.forEach(((e,s)=>{if(!e)return;let n;if(i&&e instanceof d.File&&e.isDeleted)n=Dt;else{const s=d.itemTimestampInMs(e);n=s>=t.today?E.intl.formatMessage({id:"JDRaFD",defaultMessage:"Today"}):s>=t.yesterday?E.intl.formatMessage({id:"2iSDDx",defaultMessage:"Yesterday"}):s>=t.thisWeek?E.intl.formatMessage({id:"e3KIPg",defaultMessage:"This week"}):s>=t.lastWeek?E.intl.formatMessage({id:"dsHtkw",defaultMessage:"Last week"}):s>=t.thisMonth?E.intl.formatMessage({id:"G0eFMx",defaultMessage:"This month"}):s>=t.lastMonth?E.intl.formatMessage({id:"nM5Fv4",defaultMessage:"Last month"}):s>=t.lastThreeMonths?E.intl.formatMessage({id:"U7dFRR",defaultMessage:"Three months ago"}):E.intl.formatMessage({id:"Y/NN0h",defaultMessage:"Older"})}n!==o&&(a.push(n),r.push(s),o=n)}))}else e.forEach(((e,t)=>{if(!e)return;let s;s=i&&e instanceof d.File&&e.isDeleted?Dt:d.itemTimestampInMs(e)?E.intl.formatDate(d.itemTimestampInMs(e),{year:"numeric",month:"long"}):Lt,s!==o&&(a.push(s),r.push(t),o=s)}));return{sectionLabels:a,sectionStartIndices:r}}const wt="life_vault_pre_setup",vt="passwords_pre_setup",Ct="device_folder_pre_setup",Pt="passwords_post_setup",Nt=[Pt].concat([wt,vt,Ct]),Mt=["dbx-backup","dbx-external-drive","dbx-computer-backup"];function Ut(e){var t,s,n;const i=null===(t=null==e?void 0:e.link_node)||void 0===t?void 0:t.action;return null!==(n=null!==(s=null==i?void 0:i[".tag"])&&void 0!==s?s:i)&&void 0!==n?n:null}function jt(e){const t=Ut(e);return!(!t||"unknown_action"===t)}function kt(e){return!!(null==e?void 0:e.hide_extension)}const Wt=e=>e instanceof d.File;n.NameSpaceAccess.ACCESS_NO_ACCESS,n.NameSpaceAccess.ACCESS_READER,n.NameSpaceAccess.ACCESS_READER_NO_COMMENT;const Bt=(e,t)=>(e=>At(e).instances)(e).get(t.instanceId),Vt=e=>(t,s)=>e(((e,t)=>{const s=Bt(e,t);return _.assert(!!s,`[FilesView] Instance '${t.instanceId}' must be defined in redux store before mounting`),s})(t,s)),xt=e=>(t,s)=>e(Bt(t,s)),Gt=Vt((e=>e.items)),Ht=xt((e=>e?e.items:void 0)),$t=Vt((e=>e.currentFolderInfo)),zt=Vt((e=>e.selectedFilter)),qt=Vt((e=>e.currentSort)),Yt=Vt((e=>e.isSearchMode));oe(((e,t)=>[n.ViewType.Grid,n.ViewType.LargeGrid].includes(Xt(e,t))),qt,Gt,Yt,((e,t,s,n)=>e&&t?Ft(s,t.sortField,t.sortDirection,n):bt)),oe(Gt,(e=>e.toArray().map((e=>e instanceof d.File?e.fq_path:e instanceof d.FileSharedWithMe?e.file_id:"")))),oe(Gt,$t,((e,t)=>t?e.concat(t):e));const Kt=xt((e=>(null==e?void 0:e.viewTypeScope)||n.VIEW_TYPE_GLOBAL_SCOPE)),Qt=xt((e=>(null==e?void 0:e.viewTypes)||[])),Xt=oe((e=>At(e).viewTypes),Qt,Kt,((e,t,s)=>{let i;return i=s in e?e[s]:s in n.defaultViewTypes?n.defaultViewTypes[s]:e[n.VIEW_TYPE_GLOBAL_SCOPE],t.includes(i)?i:n.ViewType.List}));oe((e=>At(e).openMode),(e=>e)),oe(Qt,(e=>e.length>0)),oe((e=>At(e).scopedGridViewSize),Kt,((e,t)=>e?t in e?e[t]:e[n.VIEW_TYPE_GLOBAL_SCOPE]||null:null));const Zt=oe((e=>At(e).scopedColumnsIndex),Kt,Yt,((e,t,s)=>{if(e&&!s)return t in e?e[t]:e[n.VIEW_TYPE_GLOBAL_SCOPE]||{}}));oe(Zt,Xt,(e=>At(e).viewTypeColumns),zt,((e,s,i,a)=>{if(!e)return;a===t.BrowseFilterType.RECENTS?i=n.recentsViewTypeColumns:a===t.BrowseFilterType.STARRED&&(i=n.starredViewTypeColumns);const[r,...o]=i[s],_=Object.keys(e).reduce(((t,s)=>{const n=parseInt(s,10);return t[e[n]]=n,t}),{}),c=[],l={};for(const e of o){const t=_[e.sortField];void 0===t||0===t?c.push(e):l[t]=e}const d=[r];for(let e=1;e<=o.length;e++){const t=l[e]||c.shift();t&&d.push(t)}return d}));const Jt=oe((e=>At(e).scopedSorts),Kt,((e,t)=>{if(e)return t in e?e[t]:e[n.VIEW_TYPE_GLOBAL_SCOPE]}));oe((e=>At(e).scopedNumVisibleColumns),Kt,((e,t)=>{if(e)return t in e?e[t]:e[n.VIEW_TYPE_GLOBAL_SCOPE]})),ke();const es="browse_right_rail_collapsed_preferences",ts="browse_right_sidebar_preferences";function ss(e){var t;try{return null===(t=n.UserLocalStorage.get(e,es))||void 0===t||t}catch(e){return s.reportException({err:e,severity:"non-critical"}),!0}}var ns;function is(e){return function(e){var t;try{return null!==(t=n.UserLocalStorage.get(e,ts))&&void 0!==t?t:void 0}catch(e){return void s.reportException({err:e,severity:"non-critical"})}}(e)}function as(s=rt,i){switch(i.type){case t.ActionTypes$3.APP_INIT:return function(e,t){const{props:s,user:n,viewer:i}=t.payload;_.assert(null===e.user,"Cannot reinitialize Browse store; changing invariants such as `user` is untested");const{browseExperiments:r}=s,o=a.__rest(s,["browseExperiments"]);return Object.assign(Object.assign(Object.assign(Object.assign({},e),{user:n,viewer:i,experiments:r}),o),{isRightRailCollapsed:(c=n.id,ss(c)),rightSidebar:is(n.id)});var c}(s,i);case t.ActionTypes$3.PUSH_BOLT_IGNORE:return function(e,t){let{added:s,moved:n,removed:i}=e.boltIgnore;return t.payload.added&&(s=new Set(s),t.payload.added.forEach((e=>s.add(e)))),t.payload.moved&&(n=new Set(n),t.payload.moved.forEach((e=>n.add(e)))),t.payload.removed&&(i=new Set(i),t.payload.removed.forEach((e=>i.add(e)))),Object.assign(Object.assign({},e),{boltIgnore:{added:s,moved:n,removed:i}})}(s,i);case t.ActionTypes$3.POP_BOLT_IGNORE:return function(e,t){let{added:s,moved:n,removed:i}=e.boltIgnore;return t.payload.added&&(s=new Set(s),t.payload.added.forEach((e=>s.delete(e)))),t.payload.moved&&(n=new Set(n),t.payload.moved.forEach((e=>n.delete(e)))),t.payload.removed&&(i=new Set(i),t.payload.removed.forEach((e=>i.delete(e)))),Object.assign(Object.assign({},e),{boltIgnore:{added:s,moved:n,removed:i}})}(s,i);case t.ActionTypes$3.SELECT_FILES_BY_FQ_PATH:return function(e,t){const{fqPathsToSelect:s}=t.payload,i=s.map((e=>e.toLowerCase())),a=e.unsortedFiles.toList().filter((e=>i.includes(e.fq_path.toLowerCase()))).map((e=>e.fq_path)),r=n.immutableExports.OrderedSet(a),o=a.size?a.get(0):null;return Object.assign(Object.assign({},e),{selection:e.selection.set("selected",r).set("anchor",o)})}(s,i);case t.ActionTypes$3.SET_CAN_DISPLAY_FOLDER_SIZES:return function(e,t){const{canDisplayFolderSizes:s}=t.payload;return Object.assign(Object.assign({},e),{canDisplayFolderSizes:s})}(s,i);case t.ActionTypes$3.SET_CLIPBOARD_FILES:return function(e,t){const{clipboard:s}=t.payload;return Object.assign(Object.assign({},e),{clipboard:s})}(s,i);case t.ActionTypes$3.SET_CONTEXT:return function(e,t){const{context:s}=t.payload;return Object.assign(Object.assign({},e),{context:s})}(s,i);case t.ActionTypes$3.SET_CURRENT_FOLDER_INFO:return function(e,t){const{currentFolderInfo:s}=t.payload;return Object.assign(Object.assign({},e),{currentFolderInfo:s})}(s,i);case t.ActionTypes$3.SET_FILE_JUMP_FILTER:return function(e,t){const{fileJumpFilter:s}=t.payload;return Object.assign(Object.assign({},e),{fileJumpFilter:s})}(s,i);case t.ActionTypes$3.SET_FILE_PATHS_TO_SELECT_ON_NEXT_UPDATE:return function(e,t){const{filePathsToSelectOnNextUpdate:s}=t.payload;return Object.assign(Object.assign({},e),{filePathsToSelectOnNextUpdate:s})}(s,i);case t.ActionTypes$3.SET_FOLDER_SIZES:return function(e,t){const{folderSizes:s}=t.payload;return Object.assign(Object.assign({},e),{folderSizes:s})}(s,i);case t.ActionTypes$3.SET_LOADING_STATE:return function(e,t){const{loadingState:s,path:i}=t.payload;return n.paths_are_equal(i,e.path)?s===n.LoadingState.LOADED?Object.assign(Object.assign({},e),{loadingState:s,filePathsToSelectOnNextUpdate:n.immutableExports.Set()}):Object.assign(Object.assign({},e),{loadingState:s}):e}(s,i);case t.ActionTypes$3.SET_MOUNT_POINTS:return function(e,t){const{mountPoints:s}=t.payload;return Object.assign(Object.assign({},e),{mountPoints:n.immutableExports.Map(s)})}(s,i);case t.ActionTypes$3.SET_NEW_FOLDER_CREATION_STATE:return function(e,t){const{newFolderCreationState:s}=t.payload;return Object.assign(Object.assign({},e),{newFolderCreationState:s})}(s,i);case t.ActionTypes$3.SET_PAGINATED_TOTAL_NUM_FILES:return function(e,t){const{paginatedTotalNumFiles:s}=t.payload;return Object.assign(Object.assign({},e),{paginatedTotalNumFiles:s})}(s,i);case t.ActionTypes$3.SET_PATH:return function(e,t){const{path:s}=t.payload;return Object.assign(Object.assign({},e),{path:s})}(s,i);case t.ActionTypes$3.SET_SELECTION:return function(e,t){const{selection:s}=t.payload;return Object.assign(Object.assign({},e),{selection:s})}(s,i);case t.ActionTypes$3.SET_SHOULD_SHOW_DELETED_FILES:return function(e,t){const{shouldShowDeletedFiles:s}=t.payload;return Object.assign(Object.assign({},e),{shouldShowDeletedFiles:s})}(s,i);case t.ActionTypes$3.SET_UNSORTED_FILES:return function(e,t){const{unsortedFiles:s}=t.payload;return Object.assign(Object.assign({},e),{unsortedFiles:s})}(s,i);case t.ActionTypes$3.SHOW_TIMELINE:return function(e,t){return Object.assign(Object.assign({},e),{isRewindVisible:!0,clickRewindTimestamp:t.payload.timestamp})}(s,i);case t.ActionTypes$3.HIDE_TIMELINE:return function(e,t){return Object.assign(Object.assign({},e),{isRewindVisible:!1})}(s);case t.ActionTypes$3.SET_IS_FILE_VIEWER_SHOWN:return function(e,t){return Object.assign(Object.assign({},e),{isFileViewerShown:t.payload.isShown})}(s,i);case t.ActionTypes$3.SET_IS_REWIND_ENABLED:return function(e,t){return Object.assign(Object.assign({},e),{isRewindButtonEnabled:t.payload.value})}(s,i);case t.ActionTypes$3.REQUEST_FOLDER_SIZES:return function(e,s){const{fqPath:n}=s.payload;if(e.isQueryingFolderSizes)return e;const i=e.folderSizes.withMutations((e=>{e.set(n,{size:0,state:t.FetchFolderSizeState.LOADING})}));return Object.assign(Object.assign({},e),{folderSizes:i,isQueryingFolderSizes:!0})}(s,i);case t.ActionTypes$3.SET_FOLDER_SIZES_PENDING:return function(e,s){const{fetchFolderSizesResp:n}=s.payload;let i=e.currentFolderSizesQuery;const a=e.folderSizes.withMutations((e=>{for(const s of n.sizes_dict)e.update(s.fq_path,{size:0,state:t.FetchFolderSizeState.LOADING},(()=>({size:s.size,state:t.FetchFolderSizeState.LOADING}))),i=i.withMutations((e=>e.add(s.fq_path)))}));return Object.assign(Object.assign({},e),{currentFolderSizesQuery:i,folderSizes:a})}(s,i);case t.ActionTypes$3.COMPLETE_FOLDER_SIZES:return function(e,t){const{fetchFolderSizeState:s}=t.payload,i=e.folderSizes.withMutations((t=>{e.currentFolderSizesQuery.forEach((n=>{const i=e.folderSizes.get(n);i&&t.update(n,(()=>({size:i.size,state:s})))}))}));return Object.assign(Object.assign({},e),{currentFolderSizesQuery:n.immutableExports.Set(),folderSizes:i,isQueryingFolderSizes:!1})}(s,i);case t.ActionTypes$3.SET_VIEW_SCOPE:return function(e,t){return Object.assign(Object.assign({},e),{viewScope:t.payload.viewScope})}(s,i);case t.ActionTypes$3.SET_HIDE_FILES_AND_SIDEBAR:return function(e,t){return Object.assign(Object.assign({},e),{shouldHideFilesAndSidebar:t.payload.shouldHideFilesAndSidebar})}(s,i);case t.ActionTypes$3.SET_IS_CREATING_SHARED_LINK:return function(e,t){return Object.assign(Object.assign({},e),{isCreatingSharedLinkMap:e.isCreatingSharedLinkMap.set(t.payload.fileIdOrPath,t.payload.isCreatingSharedLink)})}(s,i);case t.ActionTypes$3.SET_RIGHTRAIL_IS_COLLAPSED:return function(e,t){return Object.assign(Object.assign({},e),{isRightRailCollapsed:t.payload.collapsed})}(s,i);case t.ActionTypes$3.SET_OVERFLOW_MENU_OPEN_REQUEST:return function(e,t){return Object.assign(Object.assign({},e),{overflowMenuOpenRequest:t.payload.overflowMenuOpenRequest})}(s,i);case t.ActionTypes$3.SET_OVERFLOW_MENU_CLOSE_REQUEST:return function(e,t){return e.overflowMenuCloseRequest===t.payload.overflowMenuCloseRequest?e:Object.assign(Object.assign({},e),{overflowMenuCloseRequest:t.payload.overflowMenuCloseRequest})}(s,i);case t.ActionTypes$3.SET_INLINE_OVERFLOW_MENU_OPEN_REQUEST:return function(e,t){return Object.assign(Object.assign({},e),{inlineOverflowMenuOpenRequest:t.payload.inlineOverflowMenuOpenRequest})}(s,i);case t.ActionTypes$3.SET_OVERFLOW_MENU_COORDINATES:return function(e,t){return Object.assign(Object.assign({},e),{overflowMenuCoordinates:t.payload.overflowMenuCoordinates})}(s,i);case t.ActionTypes$3.SET_BROWSE_POST_TTI_EXPERIMENTS:return function(e,t){const{browsePostTTIExperiments:s}=t.payload;return Object.assign(Object.assign({},e),{browsePostTTIExperiments:s})}(s,i);case t.ActionTypes$3.SET_BROWSE_POST_TTI_DATA:return function(e,t){const{browsePostTTIData:s}=t.payload;return Object.assign(Object.assign({},e),{browsePostTTIData:Object.assign(Object.assign({},e.browsePostTTIData),s)})}(s,i);case t.ActionTypes$3.SET_CREATE_MENU_OPEN_REQUEST:return function(e,t){return Object.assign(Object.assign({},e),{createMenuOpenRequest:t.payload.createMenuOpenRequest})}(s,i);case t.ActionTypes$3.HANDLE_APP_CLEANUP:return rt;case t.ActionTypes$3.ADD_FROM_GDRIVE:return function(t,s){return new Promise((function(t,s){e(["./c_file_imports_ui_entry"],t,s)})).then((e=>{var n;e.clickOnImportFromGoogleDrive({currentPath:null!==(n=s.payload.path)&&void 0!==n?n:t.path})})),t}(s,i);case t.ActionTypes$3.SET_FILTER_TYPES:return function(e,t){return Object.assign(Object.assign({},e),{filterTypes:t.payload.filterTypes})}(s,i);case t.ActionTypes$3.SET_BROWSE_USER:return function(e,t){return null==e.user?Object.assign(Object.assign({},e),{user:t.payload.user}):e}(s,i);case t.ActionTypes$3.SET_RIGHT_SIDEBAR:return function(e,t){return Object.assign(Object.assign({},e),{rightSidebar:t.payload.sidebar})}(s,i);case t.ActionTypes$3.SET_BROWSE_VIEWER:return function(e,t){return null==e.viewer?Object.assign(Object.assign({},e),{viewer:t.payload.viewer}):e}(s,i);case t.ActionTypes$3.SET_CURRENT_FOLDER_RENAME:return function(e,t){const{renameState:s}=t.payload;return s?Object.assign(Object.assign({},e),{currentFolderRenameState:s}):Object.assign(Object.assign({},e),{currentFolderRenameState:null})}(s,i);case t.ActionTypes$3.SET_CAPTURE_ACCESS:return function(e,t){return Object.assign(Object.assign({},e),{canAccessCapture:t.payload.canAccessCapture})}(s,i);case t.ActionTypes$3.SET_QUICK_VIEW_FILE:return function(e,t){return Object.assign(Object.assign({},e),{quickViewFileId:t.payload.fileId})}(s,i);case t.ActionTypes$3.SET_UPLOAD_QUICK_VIEW_FILE_PATH:return function(e,t){return Object.assign(Object.assign({},e),{uploadQuickViewFilePath:t.payload.filePath})}(s,i)}return s}let rs;t.FetchFolderSizeState=void 0,(ns=t.FetchFolderSizeState||(t.FetchFolderSizeState={})).LOADING="LOADING",ns.COMPLETE="COMPLETE",ns.NO_ACCESS="NO_ACCESS",ns.ERROR="ERROR";var os;t.ActionTypes$2=void 0,function(e){e.FILE_RENAME="STRUCTURED_TAGS/FILE_RENAME",e.SET_TEMPLATES="STRUCTURED_TAGS/SET_TEMPLATES",e.SET_FILE_TO_STRUCTURED_TAGS_MAP="STRUCTURED_TAGS/SET_FILE_TO_STRUCTURED_TAGS_MAP",e.SET_STATUS="STRUCTURED_TAGS/SET_STATUS"}(t.ActionTypes$2||(t.ActionTypes$2={})),t.StructuredTagsNamespaceStatus=void 0,(os=t.StructuredTagsNamespaceStatus||(t.StructuredTagsNamespaceStatus={})).DEFAULT="default",os.IS_LOADING="is_loading",os.DONE="done";const _s={templates:[],fileToTags:{},status:t.StructuredTagsNamespaceStatus.DEFAULT,currentClassification:void 0,tagOptions:[]};function cs(e=_s,s){switch(s.type){case t.ActionTypes$2.SET_TEMPLATES:return((e,{structuredTagTemplates:s})=>Object.assign(Object.assign({},e),{status:t.StructuredTagsNamespaceStatus.DONE,templates:s}))(e,s.payload);case t.ActionTypes$2.FILE_RENAME:return((e,{file:t,newFile:s})=>{const n=qe(t),i=qe(s),r=e.fileToTags[n];if(!r)return e;const o=e.fileToTags,_=n;o[_];const c=a.__rest(o,["symbol"==typeof _?_:_+""]);return c[i]=r,Object.assign(Object.assign({},e),{fileToTags:c})})(e,s.payload);case t.ActionTypes$2.SET_STATUS:return((e,{status:t})=>Object.assign(Object.assign({},e),{status:t}))(e,s.payload);case t.ActionTypes$2.SET_FILE_TO_STRUCTURED_TAGS_MAP:return((e,{fileToTags:t})=>Object.assign(Object.assign({},e),{fileToTags:Object.assign(Object.assign({},e.fileToTags),t)}))(e,s.payload);default:return e}}let ls;const ds=()=>(ls||(ls=n.getStoreAndRegisterReducers({[n.STRUCTURED_TAGS_NAMESPACE_KEY]:cs})),ls);let Es;t.AUDIO_VIDEO_EDITING_DURATION_MINS_LIMIT=10,t.AUDIO_VIDEO_EDITING_SIZE_LIMIT=$,t.BACKUP_PRE_SETUP_ACTION=Ct,t.DEFAULT_CONFIG=z,t.DEFAULT_FILE_CONFIG=q,t.DEFAULT_SUPPORTED_PREVIEW_TYPES=Y,t.FILE_CATEGORIES_UNCHECKED=Fe,t.FVError=X,t.FileViewerContextProvider=se,t.GB_1=H,t.LARGE_PDF_CUTOFF_DIMENSIONS=2048,t.PASSWORDS_POST_SETUP_ACTION=Pt,t.PASSWORDS_PRE_SETUP_ACTION=vt,t.PDF_BASE_WIDTH=1024,t.RivieraError=ie,t.SEARCH_FILES_VIEW_ID="search_files_view_id",t.SEARCH_RECENT_HISTORY_CAPACITY=5,t.SEARCH_RECENT_HISTORY_STORAGE_KEY="search_recent_history",t.Selection=We,t.TITLE_BAR_TEST_ID="fv-sdk-title-bar",t.TranscriptRivieraError=class extends ie{constructor(e="error_unknown",s=t.RivieraStatus.Unknown){super(e),this.statusCode=s,this.transcriptError=e}},t.UNZIP_MAX_FILESIZE_MB=512,t.VAULT_PRE_SETUP_ACTION=wt,t.VIDEO_CONTROLS_INACTIVE_TIMEOUT_MS=5e3,t.allCategoriesChecked=function(e,s=!0){return s||(e=Object.assign(Object.assign({},e),{[t.FileCategory.PAPER]:"checked"})),Object.keys(e).every((t=>"checked"===e[t]))},t.allCategoriesUnchecked=function(e,s=!0){return s||(e=Object.assign(Object.assign({},e),{[t.FileCategory.PAPER]:"unchecked"})),Object.keys(e).every((t=>"unchecked"===e[t]))},t.buildSearchURL=Ve,t.canEditOverviewForFile=e=>(!e.is_dir||!e.isDeleted)&&(e.target_ns?!e._mount_access_perms||!(!e._mount_access_perms||!e._mount_access_perms.includes("can_edit")):!e.read_only),t.convertContentReferencesToSortedFiles=e=>{const t=[];e.forEach((e=>{const s={file_id:e.file_id,fq_path:e.fq_path,href:e.href,icon:e.icon,is_cloud_doc:e.is_cloud_doc,is_dir:e.is_dir,thumbnail_url_tmpl:e.thumbnail_url_tmpl,ns_id:e.ns_id,ns_path:e.ns_path,sjid:e.sjid,isDeleted:e.is_deleted,ext:ct(e.fq_path)},n=new d.File(s);t.push(n)}));const s=E.case_insensitive_comparator(!0);return t.sort(((e,t)=>s(d.File.getFilename(e),d.File.getFilename(t))))},t.convertDbxUserToIUser=e=>({id:e.id.toString(),name:{display:e.display_name,initials:[e.fname.substr(0,1),e.lname.substr(0,1)].join(""),public:e.familiar_name},photoUrl:e.initials_url}),t.countFilesAndFolders=function(e){const t=e.filter((e=>de(e)&&e.is_dir)).count();return{num_files_selected:e.filter((e=>de(e)&&!e.is_dir)).count(),num_folders_selected:t}},t.createFolderErrorGeneric=F,t.createFolderErrorMalformedPath=b,t.createFolderFswConfirmText=w,t.createFolderSnackbarProgress=D,t.createFolderSnackbarSuccess=v,t.createSelection=Be,t.createSelector=oe,t.dateTakenToURLParam=(e,s)=>({search_date_taken:e!==t.DateRange.Any?String(e):void 0,search_date_taken_start:e===t.DateRange.Custom&&(null==s?void 0:s.startDate)?s.startDate.toISOString():void 0,search_date_taken_end:e===t.DateRange.Custom&&(null==s?void 0:s.endDate)?s.endDate.toISOString():void 0}),t.defaultBackupState=ut,t.defaultBrowseState=rt,t.defaultFolderOverviewState=lt,t.defaultMemoize=re,t.defaultStructuredTagState=_s,t.defaultSuggestionSectionOrder=we,t.deleteFswConfirmText=h,t.deleteSnackbarProgressMessage=m,t.deleteTeamFolderProgressMessage=I,t.deleteUndoSnackbarMessage=A,t.dimensionsToURLParam=e=>e.map((e=>String(e))).join(","),t.fileCategoriesToString=function(e){return function(e){const t=[];return Object.keys(e).forEach((s=>{"checked"===e[s]&&t.push(s)})),t}(e).join(",")},t.fileSizeSupported=function(e,t,s,i){if(!isFinite(t))return!0;const a=function(e,t,s){const i=P(e),a=s.other_size_limits[i];if(a)return a;switch(t){case n.PreviewType.Archive:return s.archive_size_limit;case n.PreviewType.HTML:case n.PreviewType.Text:return s.text_size_limit;case n.PreviewType.Linkfile:return s.linkfile_size_limit;case n.PreviewType.Excel:return s.excel_size_limit}return 0}(e,s,i);return!a||t<=a},t.fileToContentReferenceId=e=>e.is_dir&&e.target_ns?`ns:${e.target_ns}`:e.file_id,t.folderOverviewReducer=function(e=lt,s){switch(s.type){case t.ActionTypes$4.UPDATE_FOLDER_DATA_CACHE:return((e,{fileId:t,folderData:s})=>Object.assign(Object.assign({},e),{folderDataCache:Object.assign(Object.assign({},e.folderDataCache),{[t]:Object.assign(Object.assign({},e.folderDataCache[t]),s)})}))(e,s.payload);case t.ActionTypes$4.UPDATE_FILE_ID_CACHE:return((e,{fileIdCache:t})=>Object.assign(Object.assign({},e),{fileIdCache:Object.assign(Object.assign({},e.fileIdCache),t)}))(e,s.payload);case t.ActionTypes$4.UPDATE_ACCOUNT_CACHE:return((e,{accountCache:t})=>Object.assign(Object.assign({},e),{accountCache:Object.assign(Object.assign({},e.accountCache),t)}))(e,s.payload);case t.ActionTypes$4.SET_REQUIRED_COMPONENTS:return((e,{componentNamespace:t,requiredComponents:s})=>{const n=dt(e,t);return Object.assign(Object.assign({},e),{componentDataCache:Object.assign(Object.assign({},e.componentDataCache),{[t]:Object.assign(Object.assign({},n),{requiredComponents:s})})})})(e,s.payload);case t.ActionTypes$3.SET_CONTEXT:return((e,{context:t})=>Object.assign(Object.assign({},e),{nsIdCache:Object.assign(Object.assign({},e.nsIdCache),{[_t(t.currentFQPath)]:`ns:${t.currentNSID}/${t.currentNSPath}`})}))(e,s.payload);case t.ActionTypes$4.REMOVE_LOADED_COMPONENT:return((e,{componentNamespace:t,component:s})=>{const n=dt(e,t),i=n.loadedComponents;return Object.assign(Object.assign({},e),{componentDataCache:Object.assign(Object.assign({},e.componentDataCache),{[t]:Object.assign(Object.assign({},n),{loadedComponents:i.filter((e=>e!==s))})})})})(e,s.payload);case t.ActionTypes$4.ADD_LOADED_COMPONENT:return((e,{componentNamespace:t,component:s})=>{const n=dt(e,t),i=n.loadedComponents;return i.includes(s)?e:Object.assign(Object.assign({},e),{componentDataCache:Object.assign(Object.assign({},e.componentDataCache),{[t]:Object.assign(Object.assign({},n),{loadedComponents:[...i,s]})})})})(e,s.payload);case t.ActionTypes$4.SET_FAILED_TO_LOAD:return((e,{componentNamespace:t,hasFailedToLoad:s})=>{const n=dt(e,t);return Object.assign(Object.assign({},e),{componentDataCache:Object.assign(Object.assign({},e.componentDataCache),{[t]:Object.assign(Object.assign({},n),{hasFailedToLoad:s})})})})(e,s.payload);case t.ActionTypes$4.SET_DESCRIPTION_HAS_FOCUS:return((e,{componentNamespace:t,descriptionHasFocus:s})=>{const n=dt(e,t);return Object.assign(Object.assign({},e),{componentDataCache:Object.assign(Object.assign({},e.componentDataCache),{[t]:Object.assign(Object.assign({},n),{descriptionHasFocus:s})})})})(e,s.payload);case t.ActionTypes$3.SET_UNSORTED_FILES:return((e,{unsortedFiles:t})=>{const s=t.filter((e=>e.is_dir)).toArray();return Object.assign(Object.assign({},e),{nsIdCache:Object.assign(Object.assign({},e.nsIdCache),Et(s))})})(e,s.payload)}return e},t.formatTag=He,t.formatTypedTag=function(e){return Qe(e)?He(e.tag_text):Ge(e.tag_text)},t.fuzzy=_e,t.getDisplayedFilename=e=>Mt.includes(n.file_extension(e))?n.filename_without_extension(e):e,t.getFileExtension=P,t.getFileMapKey=qe,t.getFileObjectNsIdAndPath=$e,t.getFileObjectNsIdAndPathKey=ze,t.getFilename=e=>"fq_path"in e||Wt(e)?jt(e.per_node_metadata)||kt(e.per_node_metadata)?n.filename_without_extension(n.filename(e.fq_path)):e.legacyPaperName?e.legacyPaperName:n.filename(e.fq_path?e.fq_path:e.ns_path):e.filename,t.getFilenameFromPath=function(e){return e.split("/").pop()},t.getLinkNodeAction=Ut,t.getParentFolderFromPath=function(e){if(!e)return null;const t=e.split("/");return t.length<2?null:t[t.length-2]},t.getSearchCsrfToken=xe,t.getStoreForBackup=Ot,t.getStoreForBrowse=()=>(Es||(Es=n.getStoreAndRegisterReducers({[n.BROWSE_NAMESPACE_KEY]:as})),st(),rs||(rs=n.getStoreAndRegisterReducers({[n.CAPTURE_NAMESPACE_KEY]:n.captureReducer})),Ot(),ds(),Es),t.getStoreForFilesView=ke,t.getStoreForStructuredTags=ds,t.getStoreForTagging=st,t.getTagType=function(e){return Qe(e)?e[".tag"]:Ke(e)?e.classifier[".tag"]:"unknown"},t.getTagsSuggestions=function(e,t){return _e.filter(e,t,{extract:e=>e.tag_text}).map((e=>e.original)).sort(((e,t)=>e.tag_text.localeCompare(t.tag_text)))},t.getWhitelistedFileExtension=function(e){return ee.has(e)?e:n.LOGGING_UNALLOWED_EXT_PLACEHOLDER},t.hasValidLinkNode=jt,t.isFile=Wt,t.isSuggestedTag=Ke,t.isSupportedLinkNodeClickAction=e=>{const t=Ut(e);return!(!t||""===t)&&Nt.includes(t)},t.isTextTag=e=>"user_generated_tag"===e[".tag"]||"suggested_tag"===e[".tag"],t.isUserGeneratedTag=Qe,t.lastModifiedDateToURLParam=(e,s)=>({search_last_modified_date:e!==t.DateRange.Any?String(e):void 0,search_last_modified_date_start:e===t.DateRange.Custom&&(null==s?void 0:s.startDate)?s.startDate.toISOString():void 0,search_last_modified_date_end:e===t.DateRange.Custom&&(null==s?void 0:s.endDate)?s.endDate.toISOString():void 0}),t.logAutoFolderAdoptionSnackbar=function({action_source:e,event_name:t,file_nsid:s,source:n,trigger_rule:i,user_id:a,snackbar_click_option:r}){ye({user_id:a,event_name:t,action_source:e,file_nsid:s,extra:{source:n||null,trigger_rule:i,snackbar_click_option:r||null}})},t.logBrowseAction=function({uid:e,source:t,action:s,num_files_selected:i,num_folders_selected:a,view_type:r,result:o,error_summary:_,action_surface:c,action_source:l,batch_success_count:d,batch_fail_count:E,lookup_error_type:u,right_sidebar_state:T,extra:S}){let p={num_files_selected:i,num_folders_selected:a,source:t,view_type:r,error_summary:_};if(de(o)){const e=o,{request_id:t,ns_id:s,sjid:i,file_id:a,fq_path:r,bytes:_,ext:c}=e;p=Object.assign(Object.assign({},p),{request_id:t,file_nsid:s,file_sjid:i,file_id:a,file_name:n.filename(r),file_path:r,file_size:_,file_extension:c})}else if(function(e){return!!e&&!!e.pad_id}(o)){const e=o,{request_id:t}=e;p=Object.assign(Object.assign({},p),{request_id:t})}ye({user_id:e,event_name:s,source:t,view_type:r,request_id:p.request_id,file_nsid:p.file_nsid,file_sjid:p.file_sjid,file_id:p.file_id,file_name:p.file_name,file_path:p.file_path,file_size:p.file_size,file_extension:p.file_extension,action_source:l,extra:Object.assign(Object.assign({},S),{num_files_selected:String(p.num_files_selected),num_folders_selected:String(p.num_folders_selected),error_summary:p.error_summary||null,action_surface:c||null,batch_success_count:d?String(d):null,batch_fail_count:E?String(E):null,lookup_error_type:u||null,right_sidebar_state:null!=T?T:null})})},t.logFileAction=function({uid:e,action:t,num_files_selected:s,num_folders_selected:n,source:i,view_type:a,jobId:r,error_summary:o,error:_,batch_success_count:c,batch_fail_count:l,lookup_error_type:d,item_id:E,item_size:u,item_mime:T,extra:S={}}){ye({user_id:e,event_name:t,source:i,view_type:a,extra:Object.assign({num_files_selected:s?s.toString():null,num_folders_selected:n?n.toString():null,error_summary:o||null,error:_||null,job_id:r||null,batch_success_count:c?String(c):null,batch_fail_count:l?String(l):null,lookup_error_type:d||null,item_id:E||null,item_size:String(u)||null,item_mime:T||null},S)})},t.logFileCreateSuccess=function({uid:e,document_type:t,time_elapsed:s,open_id:i,selection_mode:a,empty_folder:r}){ye({user_id:e,event_name:n.WebUserActionLogEvent.FILE_CREATE_SUCCESS,extra:{document_type:t.toString(),time_elapsed:s.toString(),open_id:i,create_completed_timestamp_ms:Date.now().toString(),selection_mode:a||null,empty_folder:r?"true":"false"}}),n.UserSurvey.trackEvent("create_item","browse")},t.logFileOperationModalClick=function({uid:e,event_name:t,selectedPath:s}){ye({user_id:e,event_name:t,extra:s?{selectedPath:s}:{}})},t.logFileUploadFSWReturned=function({uid:e,file_name:t,upload_id:s,all_fsw_ids:i,filtered_fsw_ids:a}){ye({user_id:e,event_name:n.WebUserActionLogEvent.FILE_UPLOAD_FSW_RETURNED,file_name:t,upload_id:s,all_fsw_ids:i,filtered_fsw_ids:a}),n.UserSurvey.trackEvent("upload_item","browse")},t.logFolderRuleFeedbackModal=function({uid:e,feedback_source:t,modal_session_id:s,event_name:n,file_path:i,error:a}){ye({user_id:e,file_path:i,event_name:n,extra:{feedback_source:t,modal_session_id:s,error:a||null}})},t.logOpenRow=function({uid:t,entity_type:s,source:i,view_type:r,file_nsid:o,file_sjid:_,file_id:c,file_name:l,file_path:d,file_size:E,file_type:u,file_extension:T,request_id:S,action_source:p,rightRailState:O}){if(ye({user_id:t,event_name:n.WebUserActionLogEvent.OPEN_ROW,source:i,view_type:r,file_nsid:o,file_sjid:_,file_id:c,file_name:l,file_path:d,file_size:E,file_extension:T,request_id:S,action_source:p,extra:{entity_type:s,right_sidebar_state:null!=O?O:null}}),u===n.FileTypes.VAULT_FOLDER){(()=>a.__awaiter(this,void 0,void 0,(function*(){const{logVaultEvent:t}=yield new Promise((function(t,s){e(["./c_browse_action_logger_vault"],t,s)}));t()})))()}},t.logViewShareModal=function({uid:e,modal_session_id:t,file_nsid:s,file_sjid:i,file_id:a,file_name:r,file_path:o}){ye({user_id:e,event_name:n.WebUserActionLogEvent.VIEW_SHARE_MODEL,file_nsid:s,file_sjid:i,file_id:a,file_name:r,file_path:o,extra:{modal_session_id:t}})},t.logWebUserAction=ye,t.makeSelectionEvent=function(e,t){const s=t.selected.subtract(e.selected);if(!s.size){const s=e.selected.subtract(t.selected);return{event:n.WebUserActionLogEvent.UNSELECT_ROW,itemId:s.first()}}return{event:n.WebUserActionLogEvent.SELECT_ROW,itemId:s.first()}},t.normalizePath=_t,t.previewThumbnails=Rt,t.previewThumbnailsToLoad=e=>{const t=[],s=Rt(e);for(const e in s)!0===s[e].isLoading&&s[e].file_info&&t.push(s[e].file_info);return t},t.redirectToSearchByTag=function(e,t){n.redirect(Ve({user:e,searchPath:"/",normalizedQuery:`${He(t)}, `,typeaheadSessionId:Xe(),searchToken:xe(),qargs:{search_from:n.deconstructUrl().path}}).toString())},t.renameErrorInvalidName=R,t.renameSnackbarProgressMessage=y,t.renameSnackbarSuccessMessage=L,t.resolvePreviewTypeFromExtension=function(e){return e=e.toLowerCase(),n.MSOFFICE_EXCEL_EXTS.includes(e)?n.PreviewType.Excel:J.includes(e)?n.PreviewType.SsrDoc:Z.includes(e)?n.PreviewType.Image:n.TRANSCODE_VIDEO_EXTS.includes(e)?n.PreviewType.Video:n.AUDIO_EXTS.includes(e)?n.PreviewType.Audio:n.LINK_FILE_EXTS.includes(e)?n.PreviewType.Linkfile:n.HTMLIFIED_PREVIEW_EXTS.includes(e)?n.PreviewType.HTML:n.NON_GENERATED_HTML_EXTS.includes(e)?n.PreviewType.RawHTML:n.CLOUD_DOC_EXTS.includes(e)?n.PreviewType.CloudDoc:n.ARCHIVE_EXTS.includes(e)?n.PreviewType.Archive:n.IWORK_EXTS.includes(e)||n.THUMBNAIL_IMAGE_EXTS.includes(e)?n.PreviewType.Image:n.PreviewType.Other},t.selectOptionalMainItems=Ht,t.selectScopedSort=Jt,t.selectViewType=Xt,t.setRightSidebar=function(e,t){try{n.UserLocalStorage.set(e,ts,t)}catch(e){s.reportException({err:e,severity:"non-critical"})}},t.shouldHideExtension=kt,t.showBackupDeleteDeviceFolderModal=function(e,t){g().then((({showBackupDeleteDeviceFolderModal:s})=>s({backupInfo:e,fqPaths:t})))},t.showContentManagerBridge=function(e,t,s){g().then((({showContentManagerBridge:n})=>n(e,t,s)))},t.showDelete=function(e,t,s,n,i){g().then((({showDelete:a})=>{a(e,t,s,n,i)}))},t.showFileSystemWarningsModal=function(e){e.fsws.length>0?g().then((({showFileSystemWarningsModal:t})=>t(e))):s.reportStack("Opening FSW modal without fsws",{severity:s.SEVERITY.NONCRITICAL,tags:["x_platform_fsw"]})},t.showMoveErrorModal=function(e){g().then((({showMoveErrorModal:t})=>t(e)))},t.showNoAccess=function(e,t,s){g().then((({showNoAccess:n})=>n(e,t,s)))},t.showPurgeModal=function(e){f().then((t=>{t.showPurgeModal(e)}))},t.showUnifiedTrashModal=function(e){f().then((t=>{t.showUnifiedTrashModal(e)}))},t.sortOrderToURLParam=e=>({search_order_by:e.sortField===n.SortField.MODIFIED?n.SEARCH_ORDER_BY_TYPE.LAST_MODIFIED_TIME:void 0,search_reverse_order:e.sortDirection===n.SortDirection.ASCENDING?n.SEARCH_REVERSE_ORDER_TYPE.TRUE:void 0}),t.tagTextToTagUserGeneratedTag=Ye,t.textTagsToUserGeneratedTags=e=>e.map(Ye),t.trimHashtags=Ge,t.useFileViewerContext=()=>O.default.useContext(te)}));
//# sourceMappingURL=c_files_view_data_store.js-vflP5tddk.map
