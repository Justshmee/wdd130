define(["exports","react","./e_folder_viewer_src_main"],(function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=a(t);const i=n.defineMessages({next:{id:"vDX5oL",defaultMessage:"Next"},done:{id:"qMr5Cv",defaultMessage:"Done"},gotIt:{id:"BLPRra",defaultMessage:"Got it"},showMe:{id:"zvZ1Xs",defaultMessage:"Show me"},skip:{id:"u57o6/",defaultMessage:"Skip"},back:{id:"i27r4u",defaultMessage:"Back"},dismissAria:{id:"nPIreu",defaultMessage:"Dismiss Tooltip"}}),l=n.defineMessage({id:"oDHYJo",defaultMessage:"{currentStep, number} of {totalSteps, number}"}),o={left:0,top:0,width:0,height:0},s=e=>{const t=r.default.useRef();return r.default.useEffect((()=>{t.current=e}),[e]),t.current},u=(e,t="")=>document.querySelector(`[data-tooltip="${e}"] ${t}`),c=({selector:e,title:t,titleFormatter:a,description:c,descriptionFormatter:f,placement:p,primaryButtonType:m,onPrimaryButtonClick:g,onComponentWillAnchor:v,currentStep:h,totalSteps:y,secondaryButtonType:E,onSecondaryButtonClick:x,disableClicksOutside:M=!1,showTooltipIfAnchorUnmounted:_=!0,onTooltipClose:C,withDismiss:k=!1,onDismissClick:w,offsetDistance:b,tooltipExtraProps:B,primaryButtonExtraProps:I,secondaryButtonExtraProps:S})=>{const T=r.default.useRef(null),D=r.default.useRef({node:null,selector:""}),P=r.default.useRef(null),[R,A]=r.default.useState(o),O=r.default.useRef(o),[$,L]=r.default.useState(!1),j=n.useIntl();r.default.useEffect((()=>{v&&v();const t=setInterval((()=>{var t,n;if(!D.current.node||D.current.selector!==e){const t=u(e);t&&(D.current.node=t,D.current.selector=e)}if(null===(t=D.current.node)||void 0===t?void 0:t.getBoundingClientRect){const{left:e,top:t,width:a,height:r}=D.current.node.getBoundingClientRect(),i=[e,t,a,r].every((e=>0===e));if(L(!i),i)return;O.current.left===e&&O.current.top===t&&O.current.width===a&&O.current.height===r||(A({left:e,top:t,width:a,height:r}),O.current={left:e,top:t,width:a,height:r},null===(n=T.current)||void 0===n||n.update())}}),125);return()=>clearInterval(t)}),[e]),r.default.useEffect((()=>{var e;null===(e=T.current)||void 0===e||e.update()}),[h]);const{left:N,top:F,width:G,height:q}=R,z=((e,t,n,a)=>!(!n&&!a)&&e===t)(e,D.current.selector,_,$),U=s(z),W=s(h);r.default.useEffect((()=>{U&&!z&&W===h&&(null==C||C())}),[U,z,W,h,C]);const X=M&&z,H=void 0!==h&&void 0!==y;return r.default.createElement(n.LayerContext.Provider,{value:{zIndex:501}},r.default.createElement(d,{disableClicksOutside:X},r.default.createElement(n.Layer,{isPortaled:!0},r.default.createElement("span",{ref:P,style:{visibility:"hidden",position:"fixed",left:`${N}px`,top:`${F}px`,width:`${G}px`,height:`${q}px`}})),r.default.createElement(n.Tooltip.Control,Object.assign({},B,{variant:"rich",open:z,placement:p,auto:!0,ref:T,triggerRef:P,offsetDistance:b}),t&&r.default.createElement(n.Title,{inverse:!0},j.formatMessage(t,a)),k&&r.default.createElement("span",{style:{position:"absolute",top:"var(--spacing__unit--0_5)",right:"var(--spacing__unit--0_5)"}},r.default.createElement(n.IconButton,{inverse:!0,variant:"transparent",onClick:w},r.default.createElement(n.UIIcon,{src:n.CloseLine,"aria-label":j.formatMessage(i.dismissAria)}))),r.default.createElement(n.Text,{tagName:"p",inverse:!0},j.formatMessage(c,f)),r.default.createElement("div",{style:{display:"flex",justifyContent:H?"space-between":"flex-end",alignItems:"center",marginTop:"var(--spacing__unit--2)",flexWrap:"wrap",rowGap:"var(--spacing__unit--2)"}},H&&r.default.createElement(n.Text,{color:"faint",inverse:!0},j.formatMessage(l,{currentStep:h,totalSteps:y})),r.default.createElement(n.ButtonGroup,null,(({getButtonProps:e})=>r.default.createElement("div",{style:{display:"flex",alignItems:"center"}},E&&x&&r.default.createElement(n.Button,Object.assign({},e({variant:"transparent"}),{onClick:x,inverse:!0},S),j.formatMessage("back"===E?i.back:i.skip)),r.default.createElement(n.Button,Object.assign({},e({variant:"outline"}),{onClick:g,inverse:!0},I),j.formatMessage("next"===m?i.next:"done"===m?i.done:"showMe"===m?i.showMe:i.gotIt)))))))))};c.displayName="ActivationTooltip";const d=({disableClicksOutside:e,children:t})=>e?r.default.createElement("div",{style:{position:"fixed",inset:0,backgroundColor:"var(--color__utility__overlay)"}},t):r.default.createElement(r.default.Fragment,null,t);var f=c;e.ActivationTooltip=f,e.getNodeByTooltipDataSelector=u}));
//# sourceMappingURL=c_common_activation-tooltip_index.js-vfl2fA2eL.map
