define(["exports","react","./c_files_view_data_store","./c_file_viewer_collection_viewer","./c_init_data_runtime","./e_folder_viewer_src_main","./c_es_hooks_useDispatch","./c_ui-icon_line_zoom-out","./c_ui-icon_line_team","./c_core_i18n","./c_pap-events_navigation_navigate_to_replay","./c_file_viewer_components_titlebar_menu_content","./e_core_exception","./c_lodash-es_lodash","./c_react_query_helpers_helpers","./c_api_v2_client_base","./c_core_uri","./c_core_attribution_header","./c_csrf","metaserver/static/js/modules/constants/viewer","./c_apex-metrics_src_types","./c_src_sink_index","./c_browse_models","./c_base64","./c_flux_store_listener","./c_api_v2_noauth_client","./c_growth_ui_api","./c_esm_misc_util","./c_referrer_cleansing_redirect","./c_cloud_docs_types","./c_hooks_use_stabilized_callback","./c_growth_ui_teams_web_actions_logger_events","./c_keymaster","./c_core_utils_browser_detection","./c_campaigns_campaign_enums","./c_bolt_metaserver_clients","./c_skeleton_index","./c_ui-icon_line_restore","./c_toolkit_dist_redux-toolkit","./c_ui-icon_line_zip","./c_stormcrow_explicit_exposure_logging","./c_stormcrow_gating_factory","./c_stormcrow_types_log_exposure","./e_edison","./c_init_data_edison","./c_core_xhr","metaserver/static/js/langpack","./c_core_notify","react-dom","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/sharing","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/file_viewer_configuration","metaserver/static/js/modules/constants/file_viewer_feature_experiments","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/login_and_register","metaserver/static/js/modules/constants/fingerprintjs_constants","./c_security_crypto","./c_flows_logging_flows_loggers","./c_spectrum_util_raf_throttle","./c_flux_base_store","./c_cloud_docs_constants","./c_chips_index","./c_chip_index","metaserver/static/js/modules/constants/contacts","./c_spectrum_colorized_icon","./c_spectrum_svg_icon_bundle","./c_spectrum_positioned_portal","./c_user_centric_perf_metrics_component_visually_complete_component_visually_complete_calculator","./c_plugin_utils_drawWatermarkOnCanvas","./c_resize-observer-polyfill_dist_ResizeObserver","./c_badges_index","./c_badge_index","./c_react-error-boundary","metaserver/static/js/modules/constants/pdf_editing","metaserver/static/js/modules/constants/search","./c_home_store","./c_plugin_utils_getImageDefaultSizes","metaserver/static/js/modules/constants/unity"],(function(e,t,i,o,s,c,r,n,_,a,l,u,d,m,p,v,f,w,b,g,T,I,C,A,h,S,y,x,N,P,R,k,O,F,L,j,D,U,E,M,V,z,G,H,B,W,K,Z,Y,q,J,Q,X,$,ee,te,ie,oe,se,ce,re,ne,_e,ae,le,ue,de,me,pe,ve,fe,we,be,ge,Te,Ie,Ce,Ae,he){"use strict";function Se(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var ye=Se(t);const xe=e=>({label:o.FULL_SCREEN_ACTION_STRING,userAction:c.UserAction.ToggleFullscreenOn,action:{type:"click",handler:e},disabled:{disabled:!1},icon:n.FullscreenLine}),Ne=[c.PreviewType.Image,c.PreviewType.SsrDoc],Pe={filterValidFile:o.allowAllFiles,filterValidUser:e=>({user:e}),shouldShowForPreviewSurface:o.alwaysShow,shouldShowForPreviewType:o.filterPreviewTypeIn(Ne)},Re=o.withActionCondition(Pe,((e,t)=>({label:o.FIT_TO_WIDTH_ACTION_STRING,icon:_.FullWidthLine,action:{type:"click",handler:t},disabled:{disabled:!1},userAction:c.UserAction.ZoomFitToWidth})),void 0),ke=o.withActionCondition(Pe,((e,t)=>({label:o.FIT_TO_PAGE_ACTION_STRING,icon:_.FillScreenLine,action:{type:"click",handler:t},disabled:{disabled:!1},userAction:c.UserAction.ZoomFitToPage})),void 0);ye.default.memo((({fileViewerId:e})=>{const t=r.useDispatch(),i=o.useStabilizedCallback((()=>{const i={fileViewerId:e,isFullscreen:!1,sourceContext:c.UserActionContext.TitleBarMain};t(o.setUiHidden(i))}));return ye.default.createElement(c.Menu.ActionItem,{role:"menuitem",withLeftAccessory:ye.default.createElement(c.UIIcon,{src:c.HideLine,width:"20px",height:"20px"}),interactive:!0,value:{handler:i}},a.intl.formatMessage(o.HIDE_TOOLS_ACTION_STRING))})).displayName="HideToolsActionButton";const Oe=o.withActionCondition(o.transcriptActionConditions,((e,t,i)=>({userAction:void 0,label:t?o.TRANSCRIPT_ACTION_HIDE_STRING:o.TRANSCRIPT_ACTION_SHOW_STRING,accessibleLabel:t?o.TRANSCRIPT_ACTION_HIDE_ACCESSIBILITY_STRING:o.TRANSCRIPT_ACTION_SHOW_ACCESSIBILITY_STRING,action:{type:"click",handler:()=>s.__awaiter(void 0,void 0,void 0,(function*(){return i()}))},disabled:{disabled:!1},icon:n.ClosedCaptionsLine})),void 0);e.default=({contentProps:e})=>{const{previewSurface:t,pluginArgs:n}=o.usePluginMigrationContext(),{fileViewerId:_,logUserAction:a}=i.useFileViewerContext(),d=o.useFileViewerSelector(o.getCurrentPreviewKey,_),m=o.useRootPreviewType(),p=n.getActiveFile().file,v=n.getActiveFile().sharePermission,f=n.user,w=ye.useMemo((()=>({file:p,user:f,previewSurface:t,previewType:m,sharePermission:v})),[p,f,t,m,v]),b=((e,t,i)=>{const c=r.useDispatch(),n=o.useStabilizedCallback((()=>s.__awaiter(void 0,void 0,void 0,(function*(){c(o.updateZoomScaleFactor({fileViewerId:t,previewKey:i,zoomType:"fitToWidth"}))}))));return ye.default.useMemo((()=>Re(e,n)),[e,n])})(w,_,d),g=((e,t,i)=>{const c=r.useDispatch(),n=o.useStabilizedCallback((()=>s.__awaiter(void 0,void 0,void 0,(function*(){c(o.updateZoomScaleFactor({fileViewerId:t,previewKey:i,zoomType:"fitToPage"}))}))));return ye.default.useMemo((()=>ke(e,n)),[e,n])})(w,_,d),T=((e,t)=>{const i=r.useDispatch(),n=o.useStabilizedCallback((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const s={fileViewerId:e,previewKey:t,sourceContext:c.UserActionContext.PreviewToolbar,skipLogging:!0};i(o.enterFullScreen(s))}))));return ye.default.useMemo((()=>xe(n)),[n])})(_,d),I=o.useCommentAction(w),C=((e,t)=>{var s,c;const{fileViewerId:r}=i.useFileViewerContext(),n=(null===(c=null===(s=o.useFileViewerSelector(o.getPluginsState,r))||void 0===s?void 0:s.sidebarPlugins)||void 0===c?void 0:c.right)===l.TRANSCRIPT_BLADE_PLUGIN_ID,_=o.useCloseSidebarCallback(l.TRANSCRIPT_BLADE_PLUGIN_ID,t),a=o.useSetRightSidebarCallback(l.TRANSCRIPT_BLADE_PLUGIN_ID,t),u=ye.default.useCallback((()=>{n?_():a()}),[n,_,a]);return ye.default.useMemo((()=>Oe(e,n,u)),[n,u,e])})(w,c.UserActionContext.ViewMenu),A=(e=>{const t=r.useDispatch(),i=o.useStabilizedCallback((()=>s.__awaiter(void 0,void 0,void 0,(function*(){t(o.setUiHidden({fileViewerId:e,isFullscreen:!1,sourceContext:c.UserActionContext.TitleBarMain}))}))));return ye.default.useMemo((()=>({userAction:c.UserAction.HideTools,label:o.HIDE_TOOLS_ACTION_STRING,action:{type:"click",handler:i},disabled:{disabled:!1},icon:c.HideLine})),[i])})(_),h=ye.useMemo((()=>[[b,g,T],[I,C,A]]),[b,g,T,I,C,A]),S=ye.useCallback((e=>{a(e,c.UserActionContext.ViewMenu)}),[a]);return ye.createElement(u.TitlebarMenuContent,{elementId:"titlebar-view-dropdown",contentProps:e,options:h,logAction:S})}}));
//# sourceMappingURL=c_title_bar_dropdowns_titlebar_view_dropdown.js-vflGPmykg.map
